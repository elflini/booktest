<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 자료의 입출력 | Insurance Claims Data Analysis with SAS</title>
  <meta name="description" content="This is a SAS manual for analysis of insurance claims data" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 자료의 입출력 | Insurance Claims Data Analysis with SAS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a SAS manual for analysis of insurance claims data" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 자료의 입출력 | Insurance Claims Data Analysis with SAS" />
  
  <meta name="twitter:description" content="This is a SAS manual for analysis of insurance claims data" />
  

<meta name="author" content="Jin Hyun Nam" />


<meta name="date" content="2021-12-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapter1.html"/>
<link rel="next" href="chapter3.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Claims Data Analysis with SAS</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>머리말</a></li>
<li class="chapter" data-level="1" data-path="chapter1.html"><a href="chapter1.html"><i class="fa fa-check"></i><b>1</b> SAS 개요</a>
<ul>
<li class="chapter" data-level="1.1" data-path="chapter1.html"><a href="chapter1.html#sas"><i class="fa fa-check"></i><b>1.1</b> SAS?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="chapter1.html"><a href="chapter1.html#sas-프로그램-구성"><i class="fa fa-check"></i><b>1.1.1</b> SAS 프로그램 구성</a></li>
<li class="chapter" data-level="1.1.2" data-path="chapter1.html"><a href="chapter1.html#sas-프로그램-장점"><i class="fa fa-check"></i><b>1.1.2</b> SAS 프로그램 장점</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="chapter1.html"><a href="chapter1.html#sas-구성요소"><i class="fa fa-check"></i><b>1.2</b> SAS 구성요소</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="chapter1.html"><a href="chapter1.html#sas-화면구성"><i class="fa fa-check"></i><b>1.2.1</b> SAS 화면구성</a></li>
<li class="chapter" data-level="1.2.2" data-path="chapter1.html"><a href="chapter1.html#메뉴"><i class="fa fa-check"></i><b>1.2.2</b> 메뉴</a></li>
<li class="chapter" data-level="1.2.3" data-path="chapter1.html"><a href="chapter1.html#도구-모음"><i class="fa fa-check"></i><b>1.2.3</b> 도구 모음</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="chapter1.html"><a href="chapter1.html#sas-기본-형식"><i class="fa fa-check"></i><b>1.3</b> SAS 기본 형식</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapter2.html"><a href="chapter2.html"><i class="fa fa-check"></i><b>2</b> 자료의 입출력</a>
<ul>
<li class="chapter" data-level="2.1" data-path="chapter2.html"><a href="chapter2.html#자료의-입력"><i class="fa fa-check"></i><b>2.1</b> 자료의 입력</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="chapter2.html"><a href="chapter2.html#cards문-이용"><i class="fa fa-check"></i><b>2.1.1</b> CARDS문 이용</a></li>
<li class="chapter" data-level="2.1.2" data-path="chapter2.html"><a href="chapter2.html#infile-구문-이용"><i class="fa fa-check"></i><b>2.1.2</b> INFILE 구문 이용</a></li>
<li class="chapter" data-level="2.1.3" data-path="chapter2.html"><a href="chapter2.html#위저드wizard-이용"><i class="fa fa-check"></i><b>2.1.3</b> 위저드(Wizard) 이용</a></li>
<li class="chapter" data-level="2.1.4" data-path="chapter2.html"><a href="chapter2.html#proc-import-이용"><i class="fa fa-check"></i><b>2.1.4</b> PROC IMPORT 이용</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="chapter2.html"><a href="chapter2.html#자료의-출력"><i class="fa fa-check"></i><b>2.2</b> 자료의 출력</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="chapter2.html"><a href="chapter2.html#위저드-이용"><i class="fa fa-check"></i><b>2.2.1</b> 위저드 이용</a></li>
<li class="chapter" data-level="2.2.2" data-path="chapter2.html"><a href="chapter2.html#proc-export-이용"><i class="fa fa-check"></i><b>2.2.2</b> PROC EXPORT 이용</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="chapter2.html"><a href="chapter2.html#공단-표본코호트-자료-불러오기"><i class="fa fa-check"></i><b>2.3</b> 공단 표본코호트 자료 불러오기</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="chapter2.html"><a href="chapter2.html#자격-db-자격-및-보험료테이블"><i class="fa fa-check"></i><b>2.3.1</b> 자격 DB – 자격 및 보험료테이블</a></li>
<li class="chapter" data-level="2.3.2" data-path="chapter2.html"><a href="chapter2.html#사망-db-출생-및-사망테이블"><i class="fa fa-check"></i><b>2.3.2</b> 사망 DB – 출생 및 사망테이블</a></li>
<li class="chapter" data-level="2.3.3" data-path="chapter2.html"><a href="chapter2.html#table-20---진료-db-명세서"><i class="fa fa-check"></i><b>2.3.3</b> Table 20 - 진료 DB 명세서</a></li>
<li class="chapter" data-level="2.3.4" data-path="chapter2.html"><a href="chapter2.html#table-30-진료-db-진료내역"><i class="fa fa-check"></i><b>2.3.4</b> Table 30 – 진료 DB 진료내역</a></li>
<li class="chapter" data-level="2.3.5" data-path="chapter2.html"><a href="chapter2.html#table-40-진료-db-상병내역"><i class="fa fa-check"></i><b>2.3.5</b> Table 40 – 진료 DB 상병내역</a></li>
<li class="chapter" data-level="2.3.6" data-path="chapter2.html"><a href="chapter2.html#table-60-진료-db-처방전교부-상세내역"><i class="fa fa-check"></i><b>2.3.6</b> Table 60 – 진료 DB 처방전교부 상세내역</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter3.html"><a href="chapter3.html"><i class="fa fa-check"></i><b>3</b> Set문 활용</a>
<ul>
<li class="chapter" data-level="3.1" data-path="chapter3.html"><a href="chapter3.html#변수에-이름-붙이기"><i class="fa fa-check"></i><b>3.1</b> 변수에 이름 붙이기</a></li>
<li class="chapter" data-level="3.2" data-path="chapter3.html"><a href="chapter3.html#특정-변수를-취하여-새로운-데이터셋-만들기"><i class="fa fa-check"></i><b>3.2</b> 특정 변수를 취하여 새로운 데이터셋 만들기</a></li>
<li class="chapter" data-level="3.3" data-path="chapter3.html"><a href="chapter3.html#특정-변수를-제외하고-새로운-데이터셋-만들기"><i class="fa fa-check"></i><b>3.3</b> 특정 변수를 제외하고 새로운 데이터셋 만들기</a></li>
<li class="chapter" data-level="3.4" data-path="chapter3.html"><a href="chapter3.html#변수-이름-바꾸기"><i class="fa fa-check"></i><b>3.4</b> 변수 이름 바꾸기</a></li>
<li class="chapter" data-level="3.5" data-path="chapter3.html"><a href="chapter3.html#특정-관찰값부터-시작하여-데이터셋-만들기"><i class="fa fa-check"></i><b>3.5</b> 특정 관찰값부터 시작하여 데이터셋 만들기</a></li>
<li class="chapter" data-level="3.6" data-path="chapter3.html"><a href="chapter3.html#기존-데이터셋으로-다수의-새로운-데이터셋-만들기"><i class="fa fa-check"></i><b>3.6</b> 기존 데이터셋으로 다수의 새로운 데이터셋 만들기</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chapter4.html"><a href="chapter4.html"><i class="fa fa-check"></i><b>4</b> 새로운 변수 생성</a>
<ul>
<li class="chapter" data-level="4.1" data-path="chapter4.html"><a href="chapter4.html#기존-변수의-값-바꾸기"><i class="fa fa-check"></i><b>4.1</b> 기존 변수의 값 바꾸기</a></li>
<li class="chapter" data-level="4.2" data-path="chapter4.html"><a href="chapter4.html#새로운-변수-만들기"><i class="fa fa-check"></i><b>4.2</b> 새로운 변수 만들기</a></li>
<li class="chapter" data-level="4.3" data-path="chapter4.html"><a href="chapter4.html#round-함수를-이용한-새로운-변수-만들기"><i class="fa fa-check"></i><b>4.3</b> ROUND 함수를 이용한 새로운 변수 만들기</a></li>
<li class="chapter" data-level="4.4" data-path="chapter4.html"><a href="chapter4.html#숫자-변수를-문자-변수로-문자-변수를-숫자-변수로"><i class="fa fa-check"></i><b>4.4</b> 숫자 변수를 문자 변수로, 문자 변수를 숫자 변수로</a></li>
<li class="chapter" data-level="4.5" data-path="chapter4.html"><a href="chapter4.html#substr-함수를-이용한-새로운-변수-만들기"><i class="fa fa-check"></i><b>4.5</b> Substr 함수를 이용한 새로운 변수 만들기</a></li>
<li class="chapter" data-level="4.6" data-path="chapter4.html"><a href="chapter4.html#날짜-함수를-이용한-새로운-변수-만들기"><i class="fa fa-check"></i><b>4.6</b> 날짜 함수를 이용한 새로운 변수 만들기</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="chapter4.html"><a href="chapter4.html#날짜-변수의-생성"><i class="fa fa-check"></i><b>4.6.1</b> 날짜 변수의 생성</a></li>
<li class="chapter" data-level="4.6.2" data-path="chapter4.html"><a href="chapter4.html#날짜-계산"><i class="fa fa-check"></i><b>4.6.2</b> 날짜 계산</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="chapter4.html"><a href="chapter4.html#누적값을-이용한-새로운-변수-만들기"><i class="fa fa-check"></i><b>4.7</b> 누적값을 이용한 새로운 변수 만들기</a></li>
<li class="chapter" data-level="4.8" data-path="chapter4.html"><a href="chapter4.html#lag과-dif를-이용한-새로운-변수-만들기"><i class="fa fa-check"></i><b>4.8</b> Lag과 Dif를 이용한 새로운 변수 만들기</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapter5.html"><a href="chapter5.html"><i class="fa fa-check"></i><b>5</b> 조건문</a>
<ul>
<li class="chapter" data-level="5.1" data-path="chapter5.html"><a href="chapter5.html#특정-조건을-만족하는-관찰값-선택하기"><i class="fa fa-check"></i><b>5.1</b> 특정 조건을 만족하는 관찰값 선택하기</a></li>
<li class="chapter" data-level="5.2" data-path="chapter5.html"><a href="chapter5.html#특정-조건을-만족하는-관찰값-삭제하기"><i class="fa fa-check"></i><b>5.2</b> 특정 조건을 만족하는 관찰값 삭제하기</a></li>
<li class="chapter" data-level="5.3" data-path="chapter5.html"><a href="chapter5.html#조건문-활용하기"><i class="fa fa-check"></i><b>5.3</b> 조건문 활용하기</a></li>
<li class="chapter" data-level="5.4" data-path="chapter5.html"><a href="chapter5.html#조건문-확장하기"><i class="fa fa-check"></i><b>5.4</b> 조건문 확장하기</a></li>
<li class="chapter" data-level="5.5" data-path="chapter5.html"><a href="chapter5.html#조건문-일반화하기"><i class="fa fa-check"></i><b>5.5</b> 조건문 일반화하기</a></li>
<li class="chapter" data-level="5.6" data-path="chapter5.html"><a href="chapter5.html#output문을-이용한-여러-데이터셋-생성하기"><i class="fa fa-check"></i><b>5.6</b> Output문을 이용한 여러 데이터셋 생성하기</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapter6.html"><a href="chapter6.html"><i class="fa fa-check"></i><b>6</b> 자료의 정렬</a>
<ul>
<li class="chapter" data-level="6.1" data-path="chapter6.html"><a href="chapter6.html#하나의-변수에-의한-관찰값의-정렬"><i class="fa fa-check"></i><b>6.1</b> 하나의 변수에 의한 관찰값의 정렬</a></li>
<li class="chapter" data-level="6.2" data-path="chapter6.html"><a href="chapter6.html#여러-개의-변수에-의한-관찰값의-정렬"><i class="fa fa-check"></i><b>6.2</b> 여러 개의 변수에 의한 관찰값의 정렬</a></li>
<li class="chapter" data-level="6.3" data-path="chapter6.html"><a href="chapter6.html#first-변수와-last-변수-사용하기"><i class="fa fa-check"></i><b>6.3</b> First 변수와 Last 변수 사용하기</a></li>
<li class="chapter" data-level="6.4" data-path="chapter6.html"><a href="chapter6.html#동일한-관찰값의-제거"><i class="fa fa-check"></i><b>6.4</b> 동일한 관찰값의 제거</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chapter7.html"><a href="chapter7.html"><i class="fa fa-check"></i><b>7</b> 반복문</a>
<ul>
<li class="chapter" data-level="7.1" data-path="chapter7.html"><a href="chapter7.html#단순-do문"><i class="fa fa-check"></i><b>7.1</b> 단순 DO문</a></li>
<li class="chapter" data-level="7.2" data-path="chapter7.html"><a href="chapter7.html#반복-do문"><i class="fa fa-check"></i><b>7.2</b> 반복 DO문</a></li>
<li class="chapter" data-level="7.3" data-path="chapter7.html"><a href="chapter7.html#다중-반복-do문"><i class="fa fa-check"></i><b>7.3</b> 다중 반복 DO문</a></li>
<li class="chapter" data-level="7.4" data-path="chapter7.html"><a href="chapter7.html#array문의-활용"><i class="fa fa-check"></i><b>7.4</b> ARRAY문의 활용</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chapter8.html"><a href="chapter8.html"><i class="fa fa-check"></i><b>8</b> 데이터셋 합치기</a>
<ul>
<li class="chapter" data-level="8.1" data-path="chapter8.html"><a href="chapter8.html#set문을-이용한-데이터셋-합치기"><i class="fa fa-check"></i><b>8.1</b> SET문을 이용한 데이터셋 합치기</a></li>
<li class="chapter" data-level="8.2" data-path="chapter8.html"><a href="chapter8.html#merge문을-이용한-데이터셋-합치기"><i class="fa fa-check"></i><b>8.2</b> MERGE문을 이용한 데이터셋 합치기</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chapter9.html"><a href="chapter9.html"><i class="fa fa-check"></i><b>9</b> SQL과 MACRO</a>
<ul>
<li class="chapter" data-level="9.1" data-path="chapter9.html"><a href="chapter9.html#proc-sql-기본-구조"><i class="fa fa-check"></i><b>9.1</b> PROC SQL 기본 구조</a></li>
<li class="chapter" data-level="9.2" data-path="chapter9.html"><a href="chapter9.html#단일-데이터셋-다루기"><i class="fa fa-check"></i><b>9.2</b> 단일 데이터셋 다루기</a></li>
<li class="chapter" data-level="9.3" data-path="chapter9.html"><a href="chapter9.html#여러-데이터셋-다루기"><i class="fa fa-check"></i><b>9.3</b> 여러 데이터셋 다루기</a></li>
<li class="chapter" data-level="9.4" data-path="chapter9.html"><a href="chapter9.html#macro"><i class="fa fa-check"></i><b>9.4</b> MACRO</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chapter10.html"><a href="chapter10.html"><i class="fa fa-check"></i><b>10</b> Appendix</a>
<ul>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#arithmetic-functions"><i class="fa fa-check"></i>Arithmetic Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#character-functions"><i class="fa fa-check"></i>Character Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#date-and-time-functions"><i class="fa fa-check"></i>Date and Time Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#mathematical-functions"><i class="fa fa-check"></i>Mathematical Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#noncentrality-functions"><i class="fa fa-check"></i>Noncentrality Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#probability-and-density-functions"><i class="fa fa-check"></i>Probability and Density Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#quantile-functions"><i class="fa fa-check"></i>Quantile Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#sample-statistics-functions"><i class="fa fa-check"></i>Sample Statistics Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#state-and-zip-code-functions"><i class="fa fa-check"></i>State and ZIP Code Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#trigonometric-and-hyperbolic-functions"><i class="fa fa-check"></i>Trigonometric and Hyperbolic Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#truncation-functions"><i class="fa fa-check"></i>Truncation Functions</a></li>
<li class="chapter" data-level="" data-path="chapter10.html"><a href="chapter10.html#variable-information-functions"><i class="fa fa-check"></i>Variable Information Functions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Insurance Claims Data Analysis with SAS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter2" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> 자료의 입출력</h1>
<div id="자료의-입력" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> 자료의 입력</h2>
<p>SAS에서 데이터셋을 생성하는 방법은 크게 4가지로 나누어진다. 첫 번째는 CARDS (DATALINES) 문을 이용하여 SAS에서 직접 데이터셋을 생성하는 방법이며, 두 번째는 INFILE문을 이용하여 외부데이터를 불러오는 방법이다. 세 번째는 위저드를 이용하여 외부데이터를 불러오며, 네 번째는 PROC IMPORT문을 이용하여 외부데이터를 불러오는 방법이다. 이를 위해 다음과 같이 일반적으로 많이 쓰는 데이터 형태를 이용한다.</p>
<p><img src="fig2/f1.png" />
왼쪽 위는 우리가 만들고자 하는 데이터셋 내용이며 SAS에서 직접 입력을 할 때 이용한다. 오른쪽 위는 TXT 형식으로 입력된 자료이다. TXT 파일은 보통 공백(space)으로 구분하거나 혹은 TAB 분리를 이용하며, TAB 분리를 하는 경우 TXT 대신 TSV 확장자를 이용하기도 한다. 왼쪽 아래는 일반적으로 사무보조에 많이 쓰는 EXCEL 파일 형태이며, 오른쪽 아래는 구분자가 ‘,’(comma)인 CSV 파일을 나타낸다. 이 외에도 많은 형태가 존재하지만, 주로 많이 쓰는 4가지 형태를 기준으로 살펴본다.</p>
<div id="cards문-이용" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> CARDS문 이용</h3>
<p>CARDS 문 또는 DATALINES 문은 SAS 내에서 데이터셋을 직접 생성할 때 사용되며 변수 특성을 지정하는 INPUT 문과 함께 사용된다. INPUT 문은 CARDS 문 이전에 사용되며 CARDS 문 다음에는 각 변수가 가질 값을 정의한다. 다음의 명령문은 GRADE라는 데이터셋을 생성시키며, 데이터셋 내에는 NAME, GENDER, K, E, M, SO, SC라는 변수가 생성된다.</p>
<pre><code>data grade;
input name $ gender $ K E M So Sc ;
cards;
Daniel f 84 75 91 84 94
Zequn m 64 45 55 70 60
Aastha f 69 57 61 67 76
Thuy m 84 57 70 55 70
Carter m 76 37 65 70 55
Andrew f 92 67 80 85 80
Zhenning f 94 85 75 86 85
Efraim m 62 52 58 80 60
;
run;</code></pre>
<p><img src="fig2/f2.png" /></p>
<p>SAS에서 생성된 데이터셋을 확인할때는 PROCEDURE 명령어인 PROC PRINT를 이용하거나, 데이터셋을 직접적으로 SPREADSHEET 형태로 확인이 가능하다. SAS 내에서 직접 데이터셋을 확인 하는 방법은 SAS 창에서 탐색기 -&gt; 라이브러리 -&gt; Work -&gt; Grade를 클릭하면 위와 같은 결과를 확인할 수 있다. INPUT 문에서 NAME과 GENDER 뒤에 ‘$’가 붙었기 때문에 문자형 변수로 생성되었으며, 나머지 변수들은 숫자로 생성된다. 데이터셋에서 왼쪽 정렬은 문자형 변수를 뜻하며, 오른쪽 정렬은 숫자형 변수를 의미한다. 따라서 데이터셋에 정렬된 형태만으로 문자형 변수와 숫자형 변수의 구별이 가능하다.여기서 NAME과 GENDER는 왼쪽정렬, 나머지 변수는 오른쪽 정렬임을 알 수 있다. PROC PRINT 구문으로 생성된</p>
<p>데이터를 확인하는 방법은 다음과 같다.</p>
<pre><code> PROC PRINT DATA=GRADE; RUN;</code></pre>
<p><img src="fig2/f3.png" /></p>
</div>
<div id="infile-구문-이용" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> INFILE 구문 이용</h3>
<p>외부데이터를 불러오는 첫 번째 방법은 INFILE 구문을 이용하는 것이다. INFILE 구문은 외부데이터를 SAS로 불러오거나 SAS 내에서 CARDS문과 결합하여 사용한다. 특히 TXT 형식의 자료를 불러오는데 유용하다. INFILE 구문을 이용하여 SAS 외부에 존재하는 TXT 파일을 불러오는 명령어는 다음과 같다.</p>
<pre><code>data grade;
infile &#39;D:\SAS\grade.txt&#39;;
input name $ gender $ K E M So Sc;
run;</code></pre>
<p>여기서 ’D:.txt’는 grade.txt가 존재하는 경로명을 의미한다. INFILE 구문은 다음과 같은 옵션 구문을 통해 다양한 형태의 데이터를 불러들일 수 있도록 한다. 옵션의 위치는 [INFILE 경로명 옵션1 옵션2…;]와 같다.</p>
<pre><code> INFILE &#39;D:\SAS\grade.txt&#39; DLM=’,‘;</code></pre>
<pre><code> DELIMITER= OR DLM= : 구분자를 선택
 DSD(delimiter-sensitive data) : 구분자가 ‘,’인 경우 사용
 FIRSTOBS=record-number : 첫 번째 행의 선택
 LRECL=logical-record-length : 레코드의 길이 설정
 MISSOVER : MISSING값의 SKIP
 OBS=record-number : 관측치의 개수 설정</code></pre>
<p>INFILE의 다른 용법은 FILENAME과 결합하여 사용하는 것이다. FILENAME은 외부의 파일을 SAS와 연동시키는 역할을 하며 사용법은 다음과 같다.</p>
<pre><code>FILENAME outfile &#39;D:\SAS\grade.txt&#39;;
data grade;
infile outfile;
input name $ gender $ K E M So Sc;
run;</code></pre>
<p>위의 구문에서 C:.txt라는 파일은 SAS에서 OUTFILE로 인식한다. 따라서 INFILE문에서 경로명 대신 OUTFILE만 적어줘도 D:.txt 파일을 불러들여 데이터셋을 생성한다. 또한 FILENAME은 특정한 파일을 연동시키는 것뿐만 아니라 폴더 자체를 연동시키는 것도 가능하다.</p>
<pre><code>FILENAME outfile &#39;D:\SAS\&#39;;
data grade;
infile outfile (grade.txt);
input name $ gender $ K E M So Sc;
run;</code></pre>
<p>위의 구문은 D:폴더를 OUTFILE로 연동을 시키고 INFILE에서 OUTFILE로 연동된 폴더의 grade.txt라는 파일을 불러들인다. INFILE은 또한 CARDS문과 결합하여 사용가능하다.</p>
<pre><code>data grade;
infile cards dsd;
input name $ gender $ K E M So Sc;
cards;
aa,f,84,75,91,84,94
bb,m,64,45,55,70,60
cc,f,69,57,61,67,76
dd,m,84,57,70,55,70
ee,m,76,37,65,70,55
ff,f,92,67,80,85,80
gg,f,94,85,75,86,85
hh,m,62,52,58,80,60
;
run;</code></pre>
<p>구분자가 ‘,’인 경우에 INFILE 옵션 DSD를 이용하여 데이터셋을 불러들임을 알 수 있다.</p>
</div>
<div id="위저드wizard-이용" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> 위저드(Wizard) 이용</h3>
<p>위저드를 이용한 방법은 메뉴 클릭만으로 외부 데이터를 불러들이는 방법이며, 뒤에 설명할 PROC IMPORT에 기반을 둔 방법이다. 위저드를 이용한 데이터 불러오기 순서는 다음과 같다.</p>
<pre><code>파일 -&gt; 데이터 가져오기
         -&gt; 읽어올 자료의 형식 지정
              -&gt; 데이터가 있는 경로지정
                  -&gt; 라이브러리 및 테이블 이름 지정</code></pre>
<p>우선 파일에서 데이터 가져오기를 클릭하면 다음과 같은 창이 뜬다.</p>
<p><img src="fig2/f4.png" /></p>
<p>[Select a data source from the list below] 밑에 원하는 데이터 형태를 선택할 수 있다. 기본적으로 EXCEL 파일이 지정되어 있으며 리스트를 펼쳐보면 그 외에도 ’*.TXT나 *.CSV와 같이 다양한 형태의 파일을 불러 올 수 있음을 알 수 있다. 원하는 확장자를 선택하고 [NEXT]를 누른다.</p>
<p><img src="fig2/f5.png" /></p>
<p>Browse…을 클릭하면 윈도우 탐색기가 실행되며, 여기서 원하는 파일을 선택하고 OK를 누르면 다음과 같은 창이 나타난다.</p>
<p><img src="fig2/f6.png" /></p>
<p>[What table do you want to import?] 이 부분은 엑셀 파일에서 불러들이고자 하는 SHEET명을 나타내며 대부분 자동으로 지정된다. 그다음 [Options…]을 클릭하여 다음을 확인한다.</p>
<p><img src="fig2/f7.png" /></p>
<p>옵션 창을 보면 제일 첫 번째에 [Use data in the first row as SAS variable names.]를 선택하게 되어 있다. 만일 우리가 가진 자료의 첫 번째 줄에 변수 이름이 입력된 자료라면 체크를 하며 첫 번째 줄에 변수 이름 없이 자료가 입력되어 있다면 체크 해제를 한다. GRADE 데이터는 첫 줄에 변수 이름이 없으므로 체크 해제를 하고 OK를 누른고 NEXT를 누른다.</p>
<p><img src="fig2/f8.png" /></p>
<p>여기서는 Library와 Member를 지정한다. Library를 특별히 지정해주지 않으면 기본 라이브러리인 WORK에 저장하게 된다. Member는 데이터셋의 이름을 넣어주면 된다. 여기서는 GRADE를 넣어준다. 데이터셋의 이름은 임의적인 것이므로 구분하기 쉬운 이름으로 지정하면 된다. NEXT를 누르고 Finish를 누르면 다음과 같이 데이터가 제대로 들어왔음을 확인할 수 있다.</p>
<p><img src="fig2/f9.png" /></p>
<p>마지막으로 우리가 가진 데이터에는 변수 이름이 없었으므로 SAS에서는 자동으로 F1부터 F7까지 명명한다. 필요하다면 변수 이름을 얼마든지 바꾸어 사용할 수 있다.</p>
<p>EXCEL 파일이 아닌 경우에는 위와 조금 다른 형태를 살펴볼 수 있다. 하지만 걱정할 필요가 없다. 기본적인 과정은 위와 같고 옵션 창에서 Delimiter라고 표시된 곳에 구분자의 구분만 해주고 앞에서와 마찬가지로 [Get variable names from first row.]에서 첫 줄에 변수 이름이 있으면 체크를 하고 변수 이름이 없으면 체크 해제를 하면 된다.</p>
<p><img src="fig2/f10.png" /></p>
</div>
<div id="proc-import-이용" class="section level3" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> PROC IMPORT 이용</h3>
<p>위저드를 이용한 방법은 기본적으로 PROC IMPORT 명령문에 기반을 두고 있다. 따라서 SAS 내에서 명령문으로 제어가 가능하다.</p>
<pre><code>/* EXCEL FILE */
PROC IMPORT OUT= WORK.GRADE 
            DATAFILE= &quot;G:\grade.xlsx&quot; 
            DBMS=EXCEL REPLACE;
     SHEET=&quot;GRADE$&quot; ;
     GETNAMES=NO;
     MIXED=NO;
     SCANTEXT=YES;
     USEDATE=YES;
     SCANTIME=YES;
RUN;</code></pre>
<pre><code>/* CSV FILE */
PROC IMPORT OUT= WORK.GRADE 
            DATAFILE= &quot;G:\grade.csv&quot; 
            DBMS=CSV REPLACE;
     GETNAMES=NO;
     DATAROW=1 ;
RUN;</code></pre>
<pre><code>/* TEXT FILE */
PROC IMPORT OUT= WORK.GRADE 
            DATAFILE= &quot;G:\grade.txt&quot; 
            DBMS=DLM REPLACE;
     DELIMITER=&#39;20&#39;x ;
     GETNAMES=NO;
     DATAROW=1 ;
RUN;</code></pre>
<p>사용하려는 외부 파일의 형태에 따라 원하는 대로 사용하면 된다. PROC IMPORT 구문은 항상 정해진 양식이기 때문에 필요한 부분만 변경해서 사용하면 된다. 예를 들어 EXCEL 파일의 경우 OUT에서 새로 생성하려는 데이터셋 이름 지정하고, DATAFILE에서 경로명을, SHEET에서 EXCEL SHEET 이름을, GETNAMES에서 YES 또는 NO만 지정해주면 어떤 엑셀 파일이든지 SAS로 불러오는 것이 가능하다. GETNAMES 옵션은 불러들이는 파일에 변수 이름이 있는지 없는지의 여부를 나타낸다. CSV 파일 혹은 TEXT 파일 또한 마찬가지이며 이외에 여러 가지 형태의 파일 또한 쉽게 불러들일 수 있다.</p>
<p>PROC IMPORT 명령어는 위저드를 통해서 쉽게 생성할 수 있다. 위의 위저드를 실행하면 제일 마지막에 다음과 같은 창이 뜨게 된다.</p>
<p><img src="fig2/f11.png" /></p>
<p>여기서 [Browse…] 옆 빈칸에 경로명과 파일이름을 직접 기입하거나 [Browse…]를 누르고 경로명과 파일이름을 지정해주면 위저드 시행 과정 동안 지정한 옵션이 적용된 PROC IMPORT 명령문이 생성된다.</p>
</div>
</div>
<div id="자료의-출력" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> 자료의 출력</h2>
<p>SAS에서 생성된 데이터셋을 외부 파일로 추출하여 저장이 가능하다. 여기서는 위저드를 이용한 데이터셋 추출과 PROC EXPORT를 이용한 데이터셋 추출법을 살펴본다.</p>
<div id="위저드-이용" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> 위저드 이용</h3>
<p>위저드를 이용한 데이터셋 추출방법은 다음과 같다.</p>
<pre><code>파일 -&gt; 데이터 내보내기
         -&gt; 라이브러리 및 테이블 이름 지정
              -&gt; 저장할 데이터 양식 지정
                  -&gt; 데이터 저장경로와 파일이름 지정
                      -&gt; EXCEL 파일인 경우 SHEET 이름 지정</code></pre>
<p><img src="fig2/f12.png" /></p>
<p>내보내고 싶은 데이터셋의 라이브러리와 데이터셋 이름을 지정한다. 여기서는 WORK 라이브러리의 GRADE 데이터셋을 지정하였다.</p>
<p><img src="fig2/f13.png" /></p>
<p>저장하고 싶은 외부 파일의 확장자명을 선택한다. 여기서는 EXCEL로 지정한다.</p>
<p><img src="fig2/f14.png" /></p>
<p>데이터셋이 저장될 경로명과 데이터 이름을 지정한다. 여기서는 G: 폴더에 grade.xls 파일로 저장한다.</p>
<p><img src="fig2/f15.png" /></p>
<p>EXCEL 파일로 지정하였기 때문에 SHEET 이름을 설정한다. 지정할 이름이 따로 없으면 비우고 그냥 넘어가도 상관없다.</p>
<p><img src="fig2/f16.png" /></p>
<p>데이터 가져오기와 마찬가지로 지금까지의 실행 옵션을 SAS 파일로 저장가능하다. Finish를 누리면 G:폴더에 grade.xls 파일과 e.SAS 파일이 같이 생성된다. grade.xls 파일에는 내보내고자 하는 데이터셋 내용을 저장되며, e.sas 파일에는 데이터셋을 내보내는 PROC EXPORT 구문이 저장된다.</p>
</div>
<div id="proc-export-이용" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> PROC EXPORT 이용</h3>
<p>PROC EXPORT 구문을 이용한 데이터 내보내기 방법은 다음과 같다.</p>
<pre><code>PROC EXPORT DATA= WORK.GRADE 
            OUTFILE= &quot;G:\grade.xls&quot; 
            DBMS=EXCEL REPLACE;
     SHEET=&quot;Sheet&quot; ;
RUN;</code></pre>
<pre><code>PROC EXPORT DATA= WORK.GRADE 
            OUTFILE= &quot;G:\grade.csv&quot; 
            DBMS=CSV REPLACE;
RUN;</code></pre>
<p>데이터 입출력은 여러 가지 방법이 가능하지만, 그중에서 어떠한 방법을 사용하는가는 사용자의 선택에 달려 있다. 즉, 사용자가 쓰기 편한 방법을 사용하는 것이 가장 좋다. 일반적으로 데이터 용량이 아주 크지 않다면 EXCEL을 이용하는 것이 편하며, 데이터 용량이 큰 경우에는 구분자가 ‘,’인 TXT 파일이나 CSV 파일을 이용하는 것이 편하다.</p>
</div>
</div>
<div id="공단-표본코호트-자료-불러오기" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> 공단 표본코호트 자료 불러오기</h2>
<p>국민건강보험공단(National Health Insurance Service; NHIS)는 NHISS (National Health Insurance Sharing Service)를 통하여 표본 연구 DB, 맞춤형 연구 DB, 의료이용지표 등을 제공함으로써 근거에 기반한 보건·의료 분야의 정책 및 학술연구뿐 아니라 사회, 경제, 환경, 산업 등 다양한 분야의 연구에도 도움이 될 수 있도록 서비스를 제공한다. 본서에서는 NHISS에서 제공하는 표본 코호트 데모자료를 이용하여 SAS 기초를 다지고자 한다. 표본 코호트 데모자료는 <a href="https://nhiss.nhis.or.kr/bd/ab/bdaba001cv.do에서" class="uri">https://nhiss.nhis.or.kr/bd/ab/bdaba001cv.do에서</a> “데모 다운로드”를 클릭하면 다운받을 수 있다. 건강보험청구자료의 일반적 내용과 형태는 다음과 같다.</p>
<p><img src="fig2/f17.png" /></p>
<p><img src="fig2/f18.png" /></p>
<ul>
<li>라이브러리 정의</li>
</ul>
<pre><code>libname bb &#39;D:\SAS\data&#39;;</code></pre>
<div id="자격-db-자격-및-보험료테이블" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> 자격 DB – 자격 및 보험료테이블</h3>
<pre><code>PROC IMPORT OUT= bb.jk 
     DATAFILE= &quot;D:\SAS\NSC2_BNC_1000.xlsx&quot; 
     DBMS=EXCEL REPLACE;
     RANGE=&quot;NSC2_BNC_1000$&quot;; 
     GETNAMES=YES;
     MIXED=NO;
     SCANTEXT=YES;
     USEDATE=YES;
     SCANTIME=YES;
RUN;</code></pre>
<p><img src="fig2/f19.png" /></p>
<ul>
<li>자격 DB - 자격 및 보험료테이블 변수 설명</li>
</ul>
<p><img src="fig2/f20.png" /></p>
</div>
<div id="사망-db-출생-및-사망테이블" class="section level3" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> 사망 DB – 출생 및 사망테이블</h3>
<pre><code>PROC IMPORT OUT= bb.death 
     DATAFILE= &quot;D:\SAS\NSC2_BND_1000.xlsx&quot; 
     DBMS=EXCEL REPLACE;
     RANGE=&quot;NSC2_BND_1000$&quot;; 
     GETNAMES=YES;
     MIXED=NO;
     SCANTEXT=YES;
     USEDATE=YES;
     SCANTIME=YES;
RUN;</code></pre>
<p><img src="fig2/f21.png" /></p>
<ul>
<li>사망 DB - 출생 및 사망테이블 변수 설명</li>
</ul>
<p><img src="fig2/f22.png" /></p>
</div>
<div id="table-20---진료-db-명세서" class="section level3" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> Table 20 - 진료 DB 명세서</h3>
<pre><code>PROC IMPORT OUT= bb.t20 
     DATAFILE= &quot;D:\SAS\NSC2_M20_1000.xlsx&quot; 
     DBMS=EXCEL REPLACE;
     RANGE=&quot;NSC2_M20_1000$&quot;; 
     GETNAMES=YES;
     MIXED=NO;
     SCANTEXT=YES;
     USEDATE=YES;
     SCANTIME=YES;
RUN;</code></pre>
<p><img src="fig2/f23.png" /></p>
<ul>
<li>Table 20 – 진료 DB 명세서 변수 설명</li>
</ul>
<p><img src="fig2/f24.png" /></p>
</div>
<div id="table-30-진료-db-진료내역" class="section level3" number="2.3.4">
<h3><span class="header-section-number">2.3.4</span> Table 30 – 진료 DB 진료내역</h3>
<pre><code>PROC IMPORT OUT= bb.t30 
     DATAFILE= &quot;D:\SAS\NSC2_M30_1000.xlsx&quot; 
     DBMS=EXCEL REPLACE;
     RANGE=&quot;NSC2_M30_1000$&quot;; 
     GETNAMES=YES;
     MIXED=NO;
     SCANTEXT=YES;
     USEDATE=YES;
     SCANTIME=YES;
RUN;</code></pre>
<p><img src="fig2/f25.png" />
* Table 30 – 진료 DB 진료내역 변수 설명</p>
<p><img src="fig2/f26.png" /></p>
</div>
<div id="table-40-진료-db-상병내역" class="section level3" number="2.3.5">
<h3><span class="header-section-number">2.3.5</span> Table 40 – 진료 DB 상병내역</h3>
<pre><code>PROC IMPORT OUT= bb.t40 
     DATAFILE= &quot;D:\SAS\NSC2_M40_1000.xlsx&quot; 
     DBMS=EXCEL REPLACE;
     RANGE=&quot;NSC2_M40_1000$&quot;; 
     GETNAMES=YES;
     MIXED=NO;
     SCANTEXT=YES;
     USEDATE=YES;
     SCANTIME=YES;
RUN;</code></pre>
<p><img src="fig2/f27.png" /></p>
<ul>
<li>Table 40 – 진료 DB 상병내역 변수 설명</li>
</ul>
<p><img src="fig2/f28.png" /></p>
</div>
<div id="table-60-진료-db-처방전교부-상세내역" class="section level3" number="2.3.6">
<h3><span class="header-section-number">2.3.6</span> Table 60 – 진료 DB 처방전교부 상세내역</h3>
<pre><code>PROC IMPORT OUT= bb.t60 
     DATAFILE= &quot;D:\SAS\NSC2_M60_1000.xlsx&quot; 
     DBMS=EXCEL REPLACE;
     RANGE=&quot;NSC2_M60_1000$&quot;; 
     GETNAMES=YES;
     MIXED=NO;
     SCANTEXT=YES;
     USEDATE=YES;
     SCANTIME=YES;
RUN;</code></pre>
<p><img src="fig2/f29.png" /></p>
<ul>
<li>Table 60 – 진료 DB 처방전교부 상세내역 변수 설명</li>
</ul>
<p><img src="fig2/f30.png" /></p>
<!----------------------------------------- End-------------------->

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["SASclaims.pdf", "SASclaims.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
