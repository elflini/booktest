<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 네트워크 메타분석 | Meta-analysis with R</title>
  <meta name="description" content="This is a manual for meta-analysis with R" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 네트워크 메타분석 | Meta-analysis with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a manual for meta-analysis with R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 네트워크 메타분석 | Meta-analysis with R" />
  
  <meta name="twitter:description" content="This is a manual for meta-analysis with R" />
  

<meta name="author" content="Jin Hyun Nam" />


<meta name="date" content="2021-06-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapter6.html"/>

<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Meta-analysis with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>머리말</a></li>
<li class="chapter" data-level="1" data-path="chapter1.html"><a href="chapter1.html"><i class="fa fa-check"></i><b>1</b> 메타분석 개요</a>
<ul>
<li class="chapter" data-level="1.1" data-path="chapter1.html"><a href="chapter1.html#메타분석-과정"><i class="fa fa-check"></i><b>1.1</b> 메타분석 과정</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="chapter1.html"><a href="chapter1.html#연구주제-선정-및-연구질문"><i class="fa fa-check"></i><b>1.1.1</b> 연구주제 선정 및 연구질문</a></li>
<li class="chapter" data-level="1.1.2" data-path="chapter1.html"><a href="chapter1.html#문헌-검색"><i class="fa fa-check"></i><b>1.1.2</b> 문헌 검색</a></li>
<li class="chapter" data-level="1.1.3" data-path="chapter1.html"><a href="chapter1.html#연구-선정-개별연구의-질-검증-및-코딩"><i class="fa fa-check"></i><b>1.1.3</b> 연구 선정, 개별연구의 질 검증 및 코딩</a></li>
<li class="chapter" data-level="1.1.4" data-path="chapter1.html"><a href="chapter1.html#데이터-분석"><i class="fa fa-check"></i><b>1.1.4</b> 데이터 분석</a></li>
<li class="chapter" data-level="1.1.5" data-path="chapter1.html"><a href="chapter1.html#결과-보고"><i class="fa fa-check"></i><b>1.1.5</b> 결과 보고</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="chapter1.html"><a href="chapter1.html#메타분석-주요-용어"><i class="fa fa-check"></i><b>1.2</b> 메타분석 주요 용어</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="chapter1.html"><a href="chapter1.html#효과크기"><i class="fa fa-check"></i><b>1.2.1</b> 효과크기</a></li>
<li class="chapter" data-level="1.2.2" data-path="chapter1.html"><a href="chapter1.html#통계적-유의성"><i class="fa fa-check"></i><b>1.2.2</b> 통계적 유의성</a></li>
<li class="chapter" data-level="1.2.3" data-path="chapter1.html"><a href="chapter1.html#가중값"><i class="fa fa-check"></i><b>1.2.3</b> 가중값</a></li>
<li class="chapter" data-level="1.2.4" data-path="chapter1.html"><a href="chapter1.html#평균효과크기"><i class="fa fa-check"></i><b>1.2.4</b> 평균효과크기</a></li>
<li class="chapter" data-level="1.2.5" data-path="chapter1.html"><a href="chapter1.html#forest-plot"><i class="fa fa-check"></i><b>1.2.5</b> Forest plot</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="chapter1.html"><a href="chapter1.html#일반적인-메타분석-접근법"><i class="fa fa-check"></i><b>1.3</b> 일반적인 메타분석 접근법</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapter2.html"><a href="chapter2.html"><i class="fa fa-check"></i><b>2</b> 효과크기 계산</a>
<ul>
<li class="chapter" data-level="2.1" data-path="chapter2.html"><a href="chapter2.html#연속형-자료의-효과크기-계산"><i class="fa fa-check"></i><b>2.1</b> 연속형 자료의 효과크기 계산</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="chapter2.html"><a href="chapter2.html#평균차mean-difference-md"><i class="fa fa-check"></i><b>2.1.1</b> 평균차(mean difference; MD)</a></li>
<li class="chapter" data-level="2.1.2" data-path="chapter2.html"><a href="chapter2.html#example"><i class="fa fa-check"></i><b>2.1.2</b> Example</a></li>
<li class="chapter" data-level="2.1.3" data-path="chapter2.html"><a href="chapter2.html#표준화-평균차"><i class="fa fa-check"></i><b>2.1.3</b> 표준화 평균차</a></li>
<li class="chapter" data-level="2.1.4" data-path="chapter2.html"><a href="chapter2.html#example-1"><i class="fa fa-check"></i><b>2.1.4</b> Example</a></li>
<li class="chapter" data-level="2.1.5" data-path="chapter2.html"><a href="chapter2.html#두-집단사전-사후검사-전후-비교조사"><i class="fa fa-check"></i><b>2.1.5</b> 두 집단(사전-사후검사) 전후 비교조사</a></li>
<li class="chapter" data-level="2.1.6" data-path="chapter2.html"><a href="chapter2.html#단일집단사전-사후검사"><i class="fa fa-check"></i><b>2.1.6</b> 단일집단(사전-사후검사)</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="chapter2.html"><a href="chapter2.html#이분형-자료의-효과크기-계산"><i class="fa fa-check"></i><b>2.2</b> 이분형 자료의 효과크기 계산</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="chapter2.html"><a href="chapter2.html#상대위험률relative-risk-rr"><i class="fa fa-check"></i><b>2.2.1</b> 상대위험률(Relative Risk; RR)</a></li>
<li class="chapter" data-level="2.2.2" data-path="chapter2.html"><a href="chapter2.html#example-2"><i class="fa fa-check"></i><b>2.2.2</b> Example</a></li>
<li class="chapter" data-level="2.2.3" data-path="chapter2.html"><a href="chapter2.html#오즈비odds-ratio-or"><i class="fa fa-check"></i><b>2.2.3</b> 오즈비(Odds Ratio; OR)</a></li>
<li class="chapter" data-level="2.2.4" data-path="chapter2.html"><a href="chapter2.html#example-3"><i class="fa fa-check"></i><b>2.2.4</b> Example</a></li>
<li class="chapter" data-level="2.2.5" data-path="chapter2.html"><a href="chapter2.html#위험율-차이risk-difference-rd"><i class="fa fa-check"></i><b>2.2.5</b> 위험율 차이(Risk Difference, RD)</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="chapter2.html"><a href="chapter2.html#time-to-event-자료의-효과크기-계산"><i class="fa fa-check"></i><b>2.3</b> Time to event 자료의 효과크기 계산</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="chapter2.html"><a href="chapter2.html#example-4"><i class="fa fa-check"></i><b>2.3.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chapter2.html"><a href="chapter2.html#상관관계-자료의-효과크기-계산"><i class="fa fa-check"></i><b>2.4</b> 상관관계 자료의 효과크기 계산</a></li>
<li class="chapter" data-level="2.5" data-path="chapter2.html"><a href="chapter2.html#효과크기의-상호-전환"><i class="fa fa-check"></i><b>2.5</b> 효과크기의 상호 전환</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter3.html"><a href="chapter3.html"><i class="fa fa-check"></i><b>3</b> 고정효과모형과 랜덤효과모형</a>
<ul>
<li class="chapter" data-level="3.1" data-path="chapter3.html"><a href="chapter3.html#fixed-vs.-random-effect-model"><i class="fa fa-check"></i><b>3.1</b> Fixed vs. Random effect model</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="chapter3.html"><a href="chapter3.html#고정효과모형과-랜덤효과모형의-의미"><i class="fa fa-check"></i><b>3.1.1</b> 고정효과모형과 랜덤효과모형의 의미</a></li>
<li class="chapter" data-level="3.1.2" data-path="chapter3.html"><a href="chapter3.html#고정효과모형과-랜덤효과모형의-적용-과정"><i class="fa fa-check"></i><b>3.1.2</b> 고정효과모형과 랜덤효과모형의 적용 과정</a></li>
<li class="chapter" data-level="3.1.3" data-path="chapter3.html"><a href="chapter3.html#example-5"><i class="fa fa-check"></i><b>3.1.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="chapter3.html"><a href="chapter3.html#효과크기의-이질성"><i class="fa fa-check"></i><b>3.2</b> 효과크기의 이질성</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="chapter3.html"><a href="chapter3.html#효과크기의-이질성-1"><i class="fa fa-check"></i><b>3.2.1</b> 효과크기의 이질성</a></li>
<li class="chapter" data-level="3.2.2" data-path="chapter3.html"><a href="chapter3.html#이질성-통계량---q-tau2-및-i2"><i class="fa fa-check"></i><b>3.2.2</b> 이질성 통계량 - <span class="math inline">\(Q\)</span>, <span class="math inline">\(\tau^2\)</span> 및 <span class="math inline">\(I^2\)</span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="chapter3.html"><a href="chapter3.html#연속형-자료-예제"><i class="fa fa-check"></i><b>3.3</b> 연속형 자료 예제</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="chapter3.html"><a href="chapter3.html#example-6"><i class="fa fa-check"></i><b>3.3.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="chapter3.html"><a href="chapter3.html#이산형-자료-예제"><i class="fa fa-check"></i><b>3.4</b> 이산형 자료 예제</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="chapter3.html"><a href="chapter3.html#example-7"><i class="fa fa-check"></i><b>3.4.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="chapter3.html"><a href="chapter3.html#time-to-event-예제"><i class="fa fa-check"></i><b>3.5</b> Time to event 예제</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="chapter3.html"><a href="chapter3.html#example-8"><i class="fa fa-check"></i><b>3.5.1</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chapter4.html"><a href="chapter4.html"><i class="fa fa-check"></i><b>4</b> 조절효과분석</a>
<ul>
<li class="chapter" data-level="4.1" data-path="chapter4.html"><a href="chapter4.html#조절효과분석의-의미"><i class="fa fa-check"></i><b>4.1</b> 조절효과분석의 의미</a></li>
<li class="chapter" data-level="4.2" data-path="chapter4.html"><a href="chapter4.html#하위그룹-분석"><i class="fa fa-check"></i><b>4.2</b> 하위그룹 분석</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="chapter4.html"><a href="chapter4.html#example-9"><i class="fa fa-check"></i><b>4.2.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chapter4.html"><a href="chapter4.html#메타회귀분석"><i class="fa fa-check"></i><b>4.3</b> 메타회귀분석</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="chapter4.html"><a href="chapter4.html#메타회귀분석-개념"><i class="fa fa-check"></i><b>4.3.1</b> 메타회귀분석 개념</a></li>
<li class="chapter" data-level="4.3.2" data-path="chapter4.html"><a href="chapter4.html#example-10"><i class="fa fa-check"></i><b>4.3.2</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapter5.html"><a href="chapter5.html"><i class="fa fa-check"></i><b>5</b> 출판 비뚤림 분석</a>
<ul>
<li class="chapter" data-level="5.1" data-path="chapter5.html"><a href="chapter5.html#출판-비뚤림의-의미"><i class="fa fa-check"></i><b>5.1</b> 출판 비뚤림의 의미</a></li>
<li class="chapter" data-level="5.2" data-path="chapter5.html"><a href="chapter5.html#출판-비뚤림의-분석-과정"><i class="fa fa-check"></i><b>5.2</b> 출판 비뚤림의 분석 과정</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="chapter5.html"><a href="chapter5.html#자료에-대한-검토forest-plot-이용"><i class="fa fa-check"></i><b>5.2.1</b> 자료에 대한 검토(forest plot 이용)</a></li>
<li class="chapter" data-level="5.2.2" data-path="chapter5.html"><a href="chapter5.html#small-study-effects-존재-유무에-대한-확인funnel-plot-이용"><i class="fa fa-check"></i><b>5.2.2</b> ‘small-study effects’ 존재 유무에 대한 확인(funnel plot 이용)</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="chapter5.html"><a href="chapter5.html#비뚤림이-결과에-미치는-영향"><i class="fa fa-check"></i><b>5.3</b> 비뚤림이 결과에 미치는 영향</a></li>
<li class="chapter" data-level="5.4" data-path="chapter5.html"><a href="chapter5.html#간접흡연과-폐암과의-관계-예제"><i class="fa fa-check"></i><b>5.4</b> 간접흡연과 폐암과의 관계 예제</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapter6.html"><a href="chapter6.html"><i class="fa fa-check"></i><b>6</b> 누적메타분석과 민감도분석</a>
<ul>
<li class="chapter" data-level="6.1" data-path="chapter6.html"><a href="chapter6.html#누적메타분석"><i class="fa fa-check"></i><b>6.1</b> 누적메타분석</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="chapter6.html"><a href="chapter6.html#시간적-순서에-따른-누적메타분석"><i class="fa fa-check"></i><b>6.1.1</b> 시간적 순서에 따른 누적메타분석</a></li>
<li class="chapter" data-level="6.1.2" data-path="chapter6.html"><a href="chapter6.html#표본크기에-따른-누적메타분석"><i class="fa fa-check"></i><b>6.1.2</b> 표본크기에 따른 누적메타분석</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="chapter6.html"><a href="chapter6.html#민감도분석"><i class="fa fa-check"></i><b>6.2</b> 민감도분석</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Chapter7.html"><a href="Chapter7.html"><i class="fa fa-check"></i><b>7</b> 네트워크 메타분석</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-메타분석의-이해"><i class="fa fa-check"></i><b>7.1</b> 네트워크 메타분석의 이해</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-메타분석의-통계적-접근"><i class="fa fa-check"></i><b>7.1.1</b> 네트워크 메타분석의 통계적 접근</a></li>
<li class="chapter" data-level="7.1.2" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-메타분석의-기본-원리"><i class="fa fa-check"></i><b>7.1.2</b> 네트워크 메타분석의 기본 원리</a></li>
<li class="chapter" data-level="7.1.3" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-메타분석의-가정"><i class="fa fa-check"></i><b>7.1.3</b> 네트워크 메타분석의 가정</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="Chapter7.html"><a href="Chapter7.html#prisma-네트워크-메타분석-체크리스트"><i class="fa fa-check"></i><b>7.2</b> PRISMA 네트워크 메타분석 체크리스트</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-지형도"><i class="fa fa-check"></i><b>7.2.1</b> 네트워크 지형도</a></li>
<li class="chapter" data-level="7.2.2" data-path="Chapter7.html"><a href="Chapter7.html#일관성-검정assessment-of-consistency"><i class="fa fa-check"></i><b>7.2.2</b> 일관성 검정(assessment of consistency)</a></li>
<li class="chapter" data-level="7.2.3" data-path="Chapter7.html"><a href="Chapter7.html#치료법-간의-비교우위-선정"><i class="fa fa-check"></i><b>7.2.3</b> 치료법 간의 비교우위 선정</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="Chapter7.html"><a href="Chapter7.html#이산형-자료-예제-1"><i class="fa fa-check"></i><b>7.3</b> 이산형 자료 예제</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="Chapter7.html"><a href="Chapter7.html#자료의-입력-5"><i class="fa fa-check"></i><b>7.3.1</b> 자료의 입력</a></li>
<li class="chapter" data-level="7.3.2" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-plot"><i class="fa fa-check"></i><b>7.3.2</b> 네트워크 plot</a></li>
<li class="chapter" data-level="7.3.3" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-모델"><i class="fa fa-check"></i><b>7.3.3</b> 네트워크 모델</a></li>
<li class="chapter" data-level="7.3.4" data-path="Chapter7.html"><a href="Chapter7.html#mcmc-시물레이션과-진단"><i class="fa fa-check"></i><b>7.3.4</b> MCMC 시물레이션과 진단</a></li>
<li class="chapter" data-level="7.3.5" data-path="Chapter7.html"><a href="Chapter7.html#일관성-검정consistency-test"><i class="fa fa-check"></i><b>7.3.5</b> 일관성 검정(consistency test)</a></li>
<li class="chapter" data-level="7.3.6" data-path="Chapter7.html"><a href="Chapter7.html#forest-plot-5"><i class="fa fa-check"></i><b>7.3.6</b> Forest plot</a></li>
<li class="chapter" data-level="7.3.7" data-path="Chapter7.html"><a href="Chapter7.html#치료-간-비교우위-선정treatment-ranking"><i class="fa fa-check"></i><b>7.3.7</b> 치료 간 비교우위 선정(treatment ranking)</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="Chapter7.html"><a href="Chapter7.html#연속형-자료-예제-1"><i class="fa fa-check"></i><b>7.4</b> 연속형 자료 예제</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="Chapter7.html"><a href="Chapter7.html#자료의-입력-6"><i class="fa fa-check"></i><b>7.4.1</b> 자료의 입력</a></li>
<li class="chapter" data-level="7.4.2" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-plot-1"><i class="fa fa-check"></i><b>7.4.2</b> 네트워크 plot</a></li>
<li class="chapter" data-level="7.4.3" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-모델-1"><i class="fa fa-check"></i><b>7.4.3</b> 네트워크 모델</a></li>
<li class="chapter" data-level="7.4.4" data-path="Chapter7.html"><a href="Chapter7.html#mcmc-시물레이션과-진단-1"><i class="fa fa-check"></i><b>7.4.4</b> MCMC 시물레이션과 진단</a></li>
<li class="chapter" data-level="7.4.5" data-path="Chapter7.html"><a href="Chapter7.html#일관성-검정consistency-test-1"><i class="fa fa-check"></i><b>7.4.5</b> 일관성 검정(consistency test)</a></li>
<li class="chapter" data-level="7.4.6" data-path="Chapter7.html"><a href="Chapter7.html#forest-plot-6"><i class="fa fa-check"></i><b>7.4.6</b> Forest plot</a></li>
<li class="chapter" data-level="7.4.7" data-path="Chapter7.html"><a href="Chapter7.html#치료-간-비교우위-선정treatment-randing"><i class="fa fa-check"></i><b>7.4.7</b> 치료 간 비교우위 선정(treatment randing)</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="Chapter7.html"><a href="Chapter7.html#time-to-event-예제-1"><i class="fa fa-check"></i><b>7.5</b> Time to event 예제</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="Chapter7.html"><a href="Chapter7.html#자료의-입력-7"><i class="fa fa-check"></i><b>7.5.1</b> 자료의 입력</a></li>
<li class="chapter" data-level="7.5.2" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-plot-2"><i class="fa fa-check"></i><b>7.5.2</b> 네트워크 plot</a></li>
<li class="chapter" data-level="7.5.3" data-path="Chapter7.html"><a href="Chapter7.html#네트워크-모델-2"><i class="fa fa-check"></i><b>7.5.3</b> 네트워크 모델</a></li>
<li class="chapter" data-level="7.5.4" data-path="Chapter7.html"><a href="Chapter7.html#mcmc-시물레이션과-진단-2"><i class="fa fa-check"></i><b>7.5.4</b> MCMC 시물레이션과 진단</a></li>
<li class="chapter" data-level="7.5.5" data-path="Chapter7.html"><a href="Chapter7.html#일관성-검정consistency-test-2"><i class="fa fa-check"></i><b>7.5.5</b> 일관성 검정(consistency test)</a></li>
<li class="chapter" data-level="7.5.6" data-path="Chapter7.html"><a href="Chapter7.html#forest-plot-7"><i class="fa fa-check"></i><b>7.5.6</b> Forest plot</a></li>
<li class="chapter" data-level="7.5.7" data-path="Chapter7.html"><a href="Chapter7.html#치료-간-비교우위-선정treatment-randing-1"><i class="fa fa-check"></i><b>7.5.7</b> 치료 간 비교우위 선정(treatment randing)</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Meta-analysis with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Chapter7" class="section level1" number="7">
<h1><span class="header-section-number">Chapter 7</span> 네트워크 메타분석</h1>
<div id="네트워크-메타분석의-이해" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> 네트워크 메타분석의 이해</h2>
<p>네트워크 메타분석(network meta-analysis, NMA)은 다중비교(multiple treatment meta-analysis) 또는 혼합비교(mixed treatment comparison)라고도 불리며, 다수의 치료(intervention 또는 treatment)를 가진 여러 연구들의 효과크기를 종합하는 것이다 (White, 2015).</p>
<p>기존의 일반적인 메타분석(pairwise meta-analysis)에서는 동일한 치료를 실시한 연구들을 모아 치료군과 비교군으로 두 군의 짝을 만든 후 효과크기를 직접 계산하였다. 그러나 네트워크 메타분석에서는 치료그룹별 직접비교 연구가 없거나 치료가 서로 다르다고 하더라도 간접비교(indirect treatment comparison) 방법을 이용하여 치료그룹 간의 효과크기를 계산할 수 있다.</p>
<ul>
<li>관계도</li>
</ul>
<p><img src="ch7/e1.png" /></p>
<p>International Society for Pharmacoeconomics and Outcomes Research (ISPOR) 에서는 근거가 2개 이상인 치료를 연결하는 2개 이상의 임상연구(randomized clinical trial)가 있는 경우에 네트워크 메타분석이라는 용어를 사용한다. 이때 네트워크가 열려 있어 loop를 구성하지 못하면 간접비교(indirect treatment comparison, ITC)를 제안하고, 네트워크가 닫혀 있어서 loop를 구성하면 혼합비교(mixed treatment comparison, MTC)를 제안하였다. (Jansen et al., 2011)</p>
<div id="네트워크-메타분석의-통계적-접근" class="section level3" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> 네트워크 메타분석의 통계적 접근</h3>
<p>네트워크 메타분석을 실행하는 방법은 크게 베이지안(Bayesian) 방법과 빈도주의적(frequentist) 방법으로 나누어볼 수 있다. 두 통계법의 차이는 통계모형에 접근하는 근본적인 개념의 차이에서 기인하며 표본크기가 클 경우 동일한 결과를 나타낸다.</p>
<p>우선 기존 네트워크 메타분석에서 상대적으로 많이 시행되는 ‘베이지안 방법’은 사전에 알려진 정보(prior probasbility 또는 external information)를 바탕으로 현재의 자료에서 주어진 정보(present data)를 더하여 연구가설이 참(true)일 사후확률(posterior probability)을 산출하는 것이다. 따라서 베이지안 방법은 사전정보에 따라 연구가설이 참일 확률이 변할 수 있는 확률적인 접근이라고 할 수 있다.</p>
<p>반면에 빈도주의적 방법은 일반적인 통계이론에 근거하여 현재 주어진 자료가 무한히 반복되었을 때 연구가설이 기각되거나 받아들여질 유의확률이나 신뢰구간에 기반한다. 따라서 빈도주의적 방법은 외적 정보와 무관하며, 주어진 자료 내에서 연구가설이 참일 확률이 이미 특정되어 있어서 단지 이것이 받아들여지거나 기각될지를 유의수준으로 판단한다.</p>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>베이지안 방법</th>
<th>빈도주의적 방법</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>기본개념(basic concept)</td>
<td>베이지안 이론(Bayesian therorem)</td>
<td>자료의 분포(distribution)</td>
</tr>
<tr class="even">
<td>사용되는 정보(information used)</td>
<td>사전확률(prior probability) &amp; 연구자료(present data)</td>
<td>연구자료(present data only)</td>
</tr>
<tr class="odd">
<td>불확실성 측정(uncertainty measurment)</td>
<td>신용구간(credible interval, Crl)</td>
<td>신뢰구간(confidence interval, CI)</td>
</tr>
<tr class="even">
<td>연구가설 검정(hypothesis testing)</td>
<td>연구가설이 참일 확률, 즉 사후확률을 직접 계산함</td>
<td></td>
</tr>
<tr class="odd">
<td>귀무가설을 기각함으로써 연구 가설을 증명</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>다수의 선행연구를 참조하고 다양한 약물의 효과크기를 통해서 실제 현상을 설명하기에는 베이지안 방법이 빈도주의적 방법보다 논리적이고 타당하다고 볼 수 있다. 그러나 베이지안 방법은 연구가설에서 사전확률이 확립되어 있지 않을 경우, 사전확률을 설정하는 문제가 본래 분석하고자 하는 연구가설 검정보다 오히려 더 복잡할 수 있다. 그렇기 때문에 일반 연구자들이 접근하기에는 많은 한계를 지닌다. 최근, 다수의 연구에서 빈도주의적 방법과 베이지안 방법을 적용하여 네트워크 메타분석을 실행한 결과가 다르지 않음을 보여준다.</p>
</div>
<div id="네트워크-메타분석의-기본-원리" class="section level3" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> 네트워크 메타분석의 기본 원리</h3>
<div id="간접비교" class="section level4" number="7.1.2.1">
<h4><span class="header-section-number">7.1.2.1</span> 간접비교</h4>
<p>일반적인 메타분석(pairwise meta-analysis)에서는 두 치료그룹 간의 직접비교(direct comparison)에 따른 효과크기(effect size)를 여러 연구에서 종합하여 계산하였다. 그러나 둘 이상의 치료그룹에서 특정 치료간의 직접비교가 없을 경우에는 간접비교를 사용하여 이를 계산할 수 있다. 특히 공통 비교인자 (common comparator)를 통한 간접비교를 보정된 간접비교(adjusted indirect treatment comparison, AITC)라고 하는데, 이는 네트워크 메타분석을 가능하게 해주는 기본적인 원리이다.</p>
<p>예를 들어, 치료(treatment)는 3개(A, B, C)이고 2개의 연구(AB, AC)가 있으며 각각의 효과크기는 d_AB와 d_AC이다. A를 공통비교인자로 설정하여 2개의 직접비교 효과크기를 활용하여 BC의 간접비교(AITC)를 계산한 효과크기와 분산은 다음과 같다.</p>
<p><img src="ch7/f1.jpg" /></p>
</div>
<div id="혼합비교" class="section level4" number="7.1.2.2">
<h4><span class="header-section-number">7.1.2.2</span> 혼합비교</h4>
<p>아래 그림과 같이 3개 치료 그룹 간의 직접비교 연구가 있는 경우에는 닫힌 loop를 형성하고 있기 때문에 직접비교와 간접비교(AITC)를 종합한 혼합비교(mixed treatment comparison, MTC)를 계산할 수 있다. 혼합비교는 Lumley(2002)가 2-arm trials에서 활용 가능한 방법을 제시하였고 이를 바탕으로 Higgins et al., (2012)와 White et al., (2012) 등이 multi-arm trials로 발전시켰다. 혼합비교는 연구의 정밀성(precision)을 향상시킬 수 있으며 직접비교만을 활용한 연구보다 신뢰구간(confidence interval)을 더 좁게 나타낼 수 있다.</p>
<p><img src="ch7/f2.jpg" /></p>
</div>
</div>
<div id="네트워크-메타분석의-가정" class="section level3" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> 네트워크 메타분석의 가정</h3>
<p>메타분석은 기본적으로 여러 연구들을 수리적으로 종합하는 통계적 방법론이기 때문에 사전에 여러 가정(assumption)들을 충족해야만 종합효과크기(overall effect size)의 타당성을 보여줄 수 있다. 더욱이 2개 이상의 치료를 연결하는 네트워크 메타분석의 경우에는 보다 엄격한 가정이 요구된다.</p>
<p>네트워크 메타분석의 가정은 크게 임상석 유사성(clinical similarity), 통계적 동질성(statistical non-heterogeneity), 논리적 이행성(transitivity), 그리고 효과크기들의 일관성(consistency)으로 구분할 수 있다. 특히 주요 논문들에서는 임상적 의미가 있는 연구들을 수집하였는지 확인하는 임상적 유사성과 통계적 검정이 가능한 일관성을 중점적으로 다루고 있다.</p>
<p>메타분석은 태생적으로 이질성 논쟁을 피할 수 없다. 따라서 동일 연구디자인 내에서라면 임상적 유사성 검정을 위하여 Cochrane 통계량이나 Higgins 등의 이질성 수치를 활용할 수 있다. 그러나 이것은 비단 네트워크 메타분석에서뿐만 아니라 일반적인 메타분석에서와 동일한 논쟁이므로 크게 차별점이 없다. 더욱이 네트워크 메타분석에서는 여러 치료법과 여러 연구디자인을 아울러야 하므로 결국 이행성을 검정하기 위한 일관성 가정이 초점이 되고 있다. 다시말하면, ‘일관성’이란 직접비교와 간접비교를 수렴하기 위한 특수한 경우의 이질성(special type of heterogeneity)이라고 할 수 있다. 따라서 이를 검정함으로써 네트워크 메타분석 결과의 유의함을 보여주고자 하는 것이다.</p>
<div id="유사성similarity" class="section level4" number="7.1.3.1">
<h4><span class="header-section-number">7.1.3.1</span> 유사성(similarity)</h4>
<p>대상 연구들 간의 임상적, 방법론적 유사성을 나타내는 것이다. 일반적으로 PICO (population, Intervention, Comparison, Outcomes)를 통하여 대상연구 선정의 전체적인 흐름을 파악하게 되는데 대상연구들이 연구주제와 부합하며 전반적으로 임상적, 방법론적으로 유사하여야 한다. 예를 들면, 대상연구들 중에서 인구집단(population) 내 동일한 질환군을 대상으로 실시한 연구가 아니라면 유사성을 의심하여야 한다. 그러나 임상적 유사성은 연구의 전반적인 유사성이지 통계적으로 검정할 수 있는 것은 아니다.</p>
</div>
<div id="이행성transitivity" class="section level4" number="7.1.3.2">
<h4><span class="header-section-number">7.1.3.2</span> 이행성(transitivity)</h4>
<p>임상적, 방법론적 유사성이 치료그룹과 연구들 간에 있어서 논리적으로 확장된 개념이라고 할 수 있다. 간단히 설명하자면 만약 세 가지 치료(A, B, C)를 비교한 연구의 효과크기가 <span class="math inline">\(A&gt;B\)</span> 그리고 <span class="math inline">\(B&gt;C\)</span> 라면 <span class="math inline">\(A&gt;C\)</span>가 논리적으로 타당한 것이다. 이러한 논리적 이행성은 네트워크 메타분석 내 모든 경우에서 지켜져야 한다.</p>
<p>앞서 살펴본 유사성과 이행성은 개념적으로 비슷하지만 상호 동일한 것은 아니다. 예를 들어 3개의 연구가 고혈압 환자 중에서 각각 AB는 severe군, AC는 moderate군, 그리고 BC는 mild군을 대상으로 실시되어졌다고 가정해보자. 모든 연구가 고혈압이라는 특정 인구집단이기에 임상적 유사성은 만족할지라도 논리적 이행성 가정은 성립되지 않는다. 왜냐하면 이미 개별연구 인구집단별로 효과크기의 차별이 존재하기 때문이다.</p>
<p><img src="ch7/f21.png" /></p>
<p><img src="ch7/f22.png" /></p>
</div>
<div id="일관성consistency" class="section level4" number="7.1.3.3">
<h4><span class="header-section-number">7.1.3.3</span> 일관성(consistency)</h4>
<p>기본적으로 일관성은 혼합비교를 구현함에 있어서 직접비교와 간접비교를 통한 효과크기가 동일하다는 가정이다. 예를 들어 관심효과크기가 BC라면 우선 직접비교를 통한 효과크기 <span class="math inline">\(d_{BC}\)</span>와 간접비교를 통한 효과크기 <span class="math inline">\(d_{BC}\)</span>는 통계적으로 유의한 차이를 보이지 않아야 일관성 가정이 충족된다고 볼 수 있다. 또한 일관성 검정은 논리적 이행성 가정을 검정하는 통계적인 방법이라고도 할 수 있다.</p>
<p>Higgins는 multi-arm 네트워크 메타분석에 적용 가능한 비일관성(inconsistency, 즉 일관성을 보이지 않는 여러 경우) 모델에 대한 개념을 다음과 같이 두 가지로 폭넓게 정립하였다. 첫째, 혼합비교를 계산할 때 직접비교와 간접비교의 차이를(difference) 들 수 있는데, 이를 loof inconsistency라고 한다. 둘째 동일하게 관심 효과크기가 BC라면 연구디자인 (BC, ABC)에 따른 (difference)를 들 수 있는데, BC 디자인에서의 직접비교 값인 <span class="math inline">\(d_{BC}\)</span>와 ABC 디자인에서의 직접비교 값인 <span class="math inline">\(d_{BC}\)</span>의 차이를 design inconsistency라고 한다.</p>
</div>
</div>
</div>
<div id="prisma-네트워크-메타분석-체크리스트" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> PRISMA 네트워크 메타분석 체크리스트</h2>
<p>일반적인 메타분석(pairwise meta-analysis)을 확장한 개념인 PRISMA (preferred Reporting Items for Systematic Reviews and Meta-analyses) 네트워크 메타분석 체크리스트는 (Hutton et al., 2015) 기존 메타분석에 더하여 네트워크 메타분석에 추가적으로 요구되는 항목들을 잘 기술하고 있다. 1번 title에서부터 연구에 대한 이해관계를 규정한 27번 funding 항목까지 매우 상세히 설명하고 있어 네트워크 메타분석 연구를 실시하고자 하는 연구자들은 반드시 이를 참조하여야 한다. 본 연구에서는 이들 항목 중 특히 네트워크 메타분석에서 반드시 보고되어야 하는 항목들은 다음과 같다.</p>
<div id="네트워크-지형도" class="section level3" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> 네트워크 지형도</h3>
<p>네트워크 지형도(network geometry)는 네트워크 메타분석에서 비교군 간의 관계를 도식화한 것이다. 네트워크 지형도의 질적 기술(qualitative description)은 일반적으로 네트워크 그래프(map or plot)로, 양적관계(quantitative metrics)는 각 치료별 가중값을 보여주는 기여도 그림(contribution plot)으로 보여주는 것이 일반적이다.</p>
</div>
<div id="일관성-검정assessment-of-consistency" class="section level3" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> 일관성 검정(assessment of consistency)</h3>
<p>네트워크 메타분석의 기본 가정인 일관성을 검정하는 방법으로 두 가지 방법이 있다. 첫 번째 개별 치료별 접근(local approach)은 Bucher가 제시한 방법을 활용하여 각 치료별로 짝지어서(node-splitting) 직접비교와 간접비교의 차이를 통계적으로 검정하는 것이다. 두 번째 전체 모델별 접근(global approach)은 design by treatment interaction model을 사용하여 각각의 연구디자인별 비일관성 모델의 회귀계수를 계산한 후 Wald test로 전체 모델에 대한 회귀계수들의 선형성을 검정하는 것이다.</p>
</div>
<div id="치료법-간의-비교우위-선정" class="section level3" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> 치료법 간의 비교우위 선정</h3>
<p>네트워크 메타분석의 유용한 장점 중의 하나는 각 치료별 누적확률(cumulative probability)을 활용하여 치료법 간의 비교 우선순위를 산출할 수 있다는 것이다. 일반적으로 SUCRA(surface under the cumulative ranking) 곡선으로 나타내어지며, 각 치료별로 best에서부터 worst까지 확률을 도식화하여 곡선 아래 면적이 넓을수록 우선순위가 높다고 판단할 수 있다.</p>
</div>
</div>
<div id="이산형-자료-예제-1" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> 이산형 자료 예제</h2>
<div id="자료의-입력-5" class="section level3" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> 자료의 입력</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="Chapter7.html#cb1-1" aria-hidden="true" tabindex="-1"></a>bin_nma <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">text=</span><span class="st">&#39;</span></span>
<span id="cb1-2"><a href="Chapter7.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="st">study   d   n   trt</span></span>
<span id="cb1-3"><a href="Chapter7.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Alshryda 2013&quot; 10  80  D</span></span>
<span id="cb1-4"><a href="Chapter7.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Alshryda 2013&quot; 26  81  A</span></span>
<span id="cb1-5"><a href="Chapter7.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Barrachina 2016&quot;   4   36  C</span></span>
<span id="cb1-6"><a href="Chapter7.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Barrachina 2016&quot;   14  37  A</span></span>
<span id="cb1-7"><a href="Chapter7.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Benoni 2000&quot;   9   20  C</span></span>
<span id="cb1-8"><a href="Chapter7.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Benoni 2000&quot;   15  19  A</span></span>
<span id="cb1-9"><a href="Chapter7.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Benoni 2001&quot;   4   18  B</span></span>
<span id="cb1-10"><a href="Chapter7.html#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Benoni 2001&quot;   8   20  A</span></span>
<span id="cb1-11"><a href="Chapter7.html#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Claeys 2007&quot;   1   20  B</span></span>
<span id="cb1-12"><a href="Chapter7.html#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Claeys 2007&quot;   6   20  A</span></span>
<span id="cb1-13"><a href="Chapter7.html#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Fraval 2017&quot;   1   50  C</span></span>
<span id="cb1-14"><a href="Chapter7.html#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Fraval 2017&quot;   6   51  A</span></span>
<span id="cb1-15"><a href="Chapter7.html#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Husted 2003&quot;   2   20  C</span></span>
<span id="cb1-16"><a href="Chapter7.html#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Husted 2003&quot;   7   20  A</span></span>
<span id="cb1-17"><a href="Chapter7.html#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Hsu 2015&quot;  2   30  C</span></span>
<span id="cb1-18"><a href="Chapter7.html#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Hsu 2015&quot;  9   30  A</span></span>
<span id="cb1-19"><a href="Chapter7.html#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Johansson 2005&quot;    8   47  B</span></span>
<span id="cb1-20"><a href="Chapter7.html#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Johansson 2005&quot;    23  53  A</span></span>
<span id="cb1-21"><a href="Chapter7.html#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Kazemi 2010&quot;   7   32  B</span></span>
<span id="cb1-22"><a href="Chapter7.html#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Kazemi 2010&quot;   15  32  A</span></span>
<span id="cb1-23"><a href="Chapter7.html#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Lee 2013&quot;  9   34  C</span></span>
<span id="cb1-24"><a href="Chapter7.html#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Lee 2013&quot;  20  34  A</span></span>
<span id="cb1-25"><a href="Chapter7.html#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Lemay 2004&quot;    6   20  C</span></span>
<span id="cb1-26"><a href="Chapter7.html#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Lemay 2004&quot;    13  19  A</span></span>
<span id="cb1-27"><a href="Chapter7.html#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Martin 2014&quot;   3   25  D</span></span>
<span id="cb1-28"><a href="Chapter7.html#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Martin 2014&quot;   5   25  A</span></span>
<span id="cb1-29"><a href="Chapter7.html#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Niskanen 2005&quot; 5   19  C</span></span>
<span id="cb1-30"><a href="Chapter7.html#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Niskanen 2005&quot; 8   20  A</span></span>
<span id="cb1-31"><a href="Chapter7.html#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;North 2016&quot;    8   70  C</span></span>
<span id="cb1-32"><a href="Chapter7.html#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;North 2016&quot;    12  69  D</span></span>
<span id="cb1-33"><a href="Chapter7.html#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Rajesparan 2009&quot;   3   36  B</span></span>
<span id="cb1-34"><a href="Chapter7.html#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Rajesparan 2009&quot;   10  37  A</span></span>
<span id="cb1-35"><a href="Chapter7.html#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Wang 2016&quot; 9   81  B</span></span>
<span id="cb1-36"><a href="Chapter7.html#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Wang 2016&quot; 10  38  A</span></span>
<span id="cb1-37"><a href="Chapter7.html#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Wei 2014&quot;  6   101 B</span></span>
<span id="cb1-38"><a href="Chapter7.html#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Wei 2014&quot;  26  100 A</span></span>
<span id="cb1-39"><a href="Chapter7.html#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Xie 2016&quot;  3   70  B</span></span>
<span id="cb1-40"><a href="Chapter7.html#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Xie 2016&quot;  4   70  D</span></span>
<span id="cb1-41"><a href="Chapter7.html#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Xie 2016&quot;  0   70  E</span></span>
<span id="cb1-42"><a href="Chapter7.html#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yi 2016&quot;   8   50  B</span></span>
<span id="cb1-43"><a href="Chapter7.html#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yi 2016&quot;   1   50  E</span></span>
<span id="cb1-44"><a href="Chapter7.html#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yi 2016&quot;   19  50  A</span></span>
<span id="cb1-45"><a href="Chapter7.html#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yue 2014&quot;  3   52  D</span></span>
<span id="cb1-46"><a href="Chapter7.html#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yue 2014&quot;  11  49  A</span></span>
<span id="cb1-47"><a href="Chapter7.html#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;</span>, <span class="at">header=</span>T)</span>
<span id="cb1-48"><a href="Chapter7.html#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="Chapter7.html#cb1-49" aria-hidden="true" tabindex="-1"></a>bin_nma</span></code></pre></div>
<pre><code>##              study  d   n trt
## 1    Alshryda 2013 10  80   D
## 2    Alshryda 2013 26  81   A
## 3  Barrachina 2016  4  36   C
## 4  Barrachina 2016 14  37   A
## 5      Benoni 2000  9  20   C
## 6      Benoni 2000 15  19   A
## 7      Benoni 2001  4  18   B
## 8      Benoni 2001  8  20   A
## 9      Claeys 2007  1  20   B
## 10     Claeys 2007  6  20   A
## 11     Fraval 2017  1  50   C
## 12     Fraval 2017  6  51   A
## 13     Husted 2003  2  20   C
## 14     Husted 2003  7  20   A
## 15        Hsu 2015  2  30   C
## 16        Hsu 2015  9  30   A
## 17  Johansson 2005  8  47   B
## 18  Johansson 2005 23  53   A
## 19     Kazemi 2010  7  32   B
## 20     Kazemi 2010 15  32   A
## 21        Lee 2013  9  34   C
## 22        Lee 2013 20  34   A
## 23      Lemay 2004  6  20   C
## 24      Lemay 2004 13  19   A
## 25     Martin 2014  3  25   D
## 26     Martin 2014  5  25   A
## 27   Niskanen 2005  5  19   C
## 28   Niskanen 2005  8  20   A
## 29      North 2016  8  70   C
## 30      North 2016 12  69   D
## 31 Rajesparan 2009  3  36   B
## 32 Rajesparan 2009 10  37   A
## 33       Wang 2016  9  81   B
## 34       Wang 2016 10  38   A
## 35        Wei 2014  6 101   B
## 36        Wei 2014 26 100   A
## 37        Xie 2016  3  70   B
## 38        Xie 2016  4  70   D
## 39        Xie 2016  0  70   E
## 40         Yi 2016  8  50   B
## 41         Yi 2016  1  50   E
## 42         Yi 2016 19  50   A
## 43        Yue 2014  3  52   D
## 44        Yue 2014 11  49   A</code></pre>
<p>베이지안 네트워크 메타분석을 실행하기 위해 <strong>gemtc</strong> 패키지를 이용한다. 또한 MCMC를 위해 <strong>JAGS</strong>를 이용하므로 <strong>JAGS</strong>(<a href="http://mcmc-jags.sourceforge.net/" class="uri">http://mcmc-jags.sourceforge.net/</a>) 프로그램을 별도로 설치해야 한다.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="Chapter7.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;gemtc&quot;)</span></span>
<span id="cb3-2"><a href="Chapter7.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gemtc)</span></code></pre></div>
<pre><code>## Loading required package: coda</code></pre>
<p><strong>gemtc</strong> package는 여러 함수를 포함하고 있으며, 그 중 네트워크 분석을 실행하는 <em>mtc.network</em> 함수는 함수의 인수가 특정 변수명이어야 실행 가능하다. 이산형 자료에서는 순서대로 이벤트 수를 나타내는 “responders”와 표본크기인 “sampleSize” 변수명이 일치해야 한다. 따라서 이를 위해 column 명을 변경한다.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="Chapter7.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(bin_nma) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;study&quot;</span>, <span class="st">&quot;responders&quot;</span>, <span class="st">&quot;sampleSize&quot;</span>, <span class="st">&quot;treatment&quot;</span>)</span>
<span id="cb5-2"><a href="Chapter7.html#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="Chapter7.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(bin_nma)</span></code></pre></div>
<pre><code>## [1] &quot;study&quot;      &quot;responders&quot; &quot;sampleSize&quot; &quot;treatment&quot;</code></pre>
<p>다음으로 네트워크 plot에서 treatment를 상세히 보여주고 이를 네트워크 셋업으로 활용하기 위해 treatment 데이터셋을 설정한다.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="Chapter7.html#cb7-1" aria-hidden="true" tabindex="-1"></a>  treatment <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">text=</span><span class="st">&#39;</span></span>
<span id="cb7-2"><a href="Chapter7.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="st">                          id description</span></span>
<span id="cb7-3"><a href="Chapter7.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="st">                          A &quot;Placebo&quot;</span></span>
<span id="cb7-4"><a href="Chapter7.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="st">                          B &quot;IV(single)&quot;</span></span>
<span id="cb7-5"><a href="Chapter7.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="st">                          C &quot;IV(double)&quot;</span></span>
<span id="cb7-6"><a href="Chapter7.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="st">                          D &quot;Topical&quot;</span></span>
<span id="cb7-7"><a href="Chapter7.html#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="st">                          E &quot;Combination&quot;</span></span>
<span id="cb7-8"><a href="Chapter7.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="st">                          &#39;</span>, <span class="at">header=</span>T) </span></code></pre></div>
</div>
<div id="네트워크-plot" class="section level3" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> 네트워크 plot</h3>
<p>데이터셋 bin_nma와 treatment를 이용하여 네트워크 셋업을 시행한다. 이때 함수는 <em>mtc.network</em>를 이용한다.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="Chapter7.html#cb8-1" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">mtc.network</span>(<span class="at">data.ab=</span>bin_nma, <span class="at">treatments=</span>treatment, <span class="at">description=</span><span class="st">&quot;Bayesian NMA&quot;</span>)</span></code></pre></div>
<p>셋업된 네트워크 정보를 network에 저장하고 <em>plot</em> 함수를 이용해 간단하게 네트워크 plot을 출력한다.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="Chapter7.html#cb9-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(network, <span class="at">use.description=</span>T)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>네트워크 plot은 네트워크를 구성하는 치료그룹 간의 직접비교(direct comparison) 관계를 도식화해서 보여준다. 각 node를 연결하는 엣지(edge)의 굵기는 수행된 연구 수를 의미한다. 네트워크 plot은 네트워크 메타분석 연구에서 치료 간의 질적, 양적 관계를 가늠할 수 있게 해주므로 반드시 제시되어야 한다.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="Chapter7.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;igraph&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     decompose, spectrum</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     union</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="Chapter7.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(network, <span class="at">layout=</span>igraph<span class="sc">::</span>layout.fruchterman.reingold, <span class="at">use.description=</span>T)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>위의 예제와 같이 <strong>igraph</strong> 패키지를 이용하면 네트워크 plot을 좀 더 다양하게 표현하는 것이 가능하다.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="Chapter7.html#cb15-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">summary</span>(network)</span></code></pre></div>
<pre><code>## $Description
## [1] &quot;MTC dataset: Bayesian NMA&quot;
## 
## $`Studies per treatment`
##  A  B  C  D  E 
## 19  9  9  5  2 
## 
## $`Number of n-arm studies`
## 2-arm 3-arm 
##    19     2 
## 
## $`Studies per treatment comparison`
##   t1 t2 nr
## 1  A  B  8
## 2  A  C  8
## 3  A  D  3
## 4  A  E  1
## 5  B  D  1
## 6  B  E  2
## 7  C  D  1
## 8  D  E  1</code></pre>
<p><em>summary</em> 명령어를 실시하면 결과창에서 네트워크 셋업의 전반적인 상황을 볼 수 있다. 각 치료별 2-arm 또는 3-arm 연구의 개수와 치료별 대응개수도 알 수 있다. 즉, 네트워크 plot을 수치적으로 나타낸 결과이다.</p>
</div>
<div id="네트워크-모델" class="section level3" number="7.3.3">
<h3><span class="header-section-number">7.3.3</span> 네트워크 모델</h3>
<p>네트워크 셋업 후 고정효과모형(fixed effect model) 또는 랜덤효과모형(random effect model)으로 네트워크 모델을 설정한다. 이때 함수 <em>mtc.model</em>을 이용한다.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="Chapter7.html#cb17-1" aria-hidden="true" tabindex="-1"></a>  model_fix <span class="ot">&lt;-</span> <span class="fu">mtc.model</span>(network, <span class="at">linearModel=</span><span class="st">&#39;fixed&#39;</span>, <span class="at">n.chain=</span><span class="dv">4</span>, <span class="at">likelihood=</span><span class="st">&#39;binom&#39;</span>, <span class="at">link=</span><span class="st">&#39;logit&#39;</span>) <span class="co"># Fixed effect model</span></span></code></pre></div>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<p><em>mtc.model</em> 함수에 네트워크 셋업 데이터 network를 불러들여 고정효과모형 또는 랜덤효과모형으로 설정하여 각각 model_fix와 model_ran으로 저장한다. 여기서 n.chain은 MCMC에서 사용할 chain 수를 나타낸다.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="Chapter7.html#cb19-1" aria-hidden="true" tabindex="-1"></a>  model_ran <span class="ot">&lt;-</span> <span class="fu">mtc.model</span>(network, <span class="at">linearModel=</span><span class="st">&#39;random&#39;</span>, <span class="at">n.chain=</span><span class="dv">4</span>, <span class="at">likelihood=</span><span class="st">&#39;binom&#39;</span>, <span class="at">link=</span><span class="st">&#39;logit&#39;</span>) <span class="co"># Random effect model</span></span></code></pre></div>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<p><em>motc.model</em>에서 효과크기 설정은 likelihood와 link 옵션으로 조절하며, 효과크기 종류와 매칭시켜야 하는 변수명은 다음과 같다.</p>
<ul>
<li>Odds ratio: binom/logit, (responders, sampleSize)</li>
<li>Risk ratio: binom/log (responders, sampleSize)</li>
<li>Hazard ratio: binom/cloglog, (responders, sampleSize)</li>
<li>Hazard ratio: poisson/log, (responders, exposure)</li>
</ul>
</div>
<div id="mcmc-시물레이션과-진단" class="section level3" number="7.3.4">
<h3><span class="header-section-number">7.3.4</span> MCMC 시물레이션과 진단</h3>
<div id="mcmc-시뮬레이션-실행" class="section level4" number="7.3.4.1">
<h4><span class="header-section-number">7.3.4.1</span> MCMC 시뮬레이션 실행</h4>
<p>네트워크 모델이 설정되면 MCMC 시뮬레이션을 실시한다. 전반적인 순서는 적정 수준의 시뮬레이션 횟수를 설정하여 실행하고 실행한 결과들의 수렴 여부를 확인한다. 먼저 고정효과모형을 중심으로 살펴보자. MCMC 시물레이션은 <em>mtc.run</em> 함수를 사용한다.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="Chapter7.html#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### MCMC Simulation</span></span>
<span id="cb21-2"><a href="Chapter7.html#cb21-2" aria-hidden="true" tabindex="-1"></a>mcmc_fix <span class="ot">&lt;-</span> <span class="fu">mtc.run</span>(model_fix, <span class="at">n.adapt=</span><span class="dv">1000</span>, <span class="at">n.iter=</span><span class="dv">10000</span>, <span class="at">thin=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 44
##    Unobserved stochastic nodes: 25
##    Total graph size: 860
## 
## Initializing model</code></pre>
<p>여기서 n.adapt=1000은 MCMC를 통해 추출된 난수중 초기값에 영향을 받는 처음부터 1000번까지는 버리는다는 의미이다. n.iter=10000은 n.adapt에서 제거한 난수 이후에 생성되는 난수의 수를 의미하며 thin은 10번의 간격으로 생성난 난수를 추출한다는 의미이다. 따라서 총 난수는 1번부터 11000번까지 생성되며, 그중에서 1~1000번까지의 난수는 버리게 되며, 1001번부터 11000까지의 난수 중 1010, 1020, … 과 같은 순으로 난수가 추출된다.</p>
<p>베이지안 분석에서는 사후분포(posterior distribution)를 결정하기 위해 다중연쇄(multi chain)를 고려한 사전분포(prior distribution)을 넣어주는데, 이때 사전분포를 계산하기 위한 사전분포의 사전모수, 즉 초모수(hyperparameter)의 초기값을 다중으로 설정하여 다중연쇄 시뮬레이션을 실시한다. 총 10000개의 난수 중 10번 간격으로 추출하는 것이기 때문에 각 chain별로 1000개씩의 난수를 추출하게 된다. MCMC 수행 결과는 <em>summary</em> 함수를 통해 살펴볼 수 있다.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="Chapter7.html#cb23-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(mcmc_fix)</span></code></pre></div>
<pre><code>## 
## Results on the Log Odds Ratio scale
## 
## Iterations = 1010:11000
## Thinning interval = 10 
## Number of chains = 4 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##         Mean     SD Naive SE Time-series SE
## d.A.B -1.337 0.1974 0.003121       0.003113
## d.A.C -1.520 0.2289 0.003618       0.003443
## d.A.D -1.133 0.2606 0.004120       0.004153
## d.A.E -4.320 1.2931 0.020445       0.019152
## 
## 2. Quantiles for each variable:
## 
##         2.5%    25%    50%     75%   97.5%
## d.A.B -1.728 -1.469 -1.337 -1.2065 -0.9506
## d.A.C -1.977 -1.669 -1.516 -1.3681 -1.0793
## d.A.D -1.653 -1.305 -1.131 -0.9533 -0.6287
## d.A.E -7.356 -5.033 -4.104 -3.4006 -2.3811
## 
## -- Model fit (residual deviance):
## 
##     Dbar       pD      DIC 
## 31.00530 25.44744 56.45273 
## 
## 44 data points, ratio 0.7047, I^2 = 0%</code></pre>
</div>
<div id="mcmc-시뮬레이션-진단" class="section level4" number="7.3.4.2">
<h4><span class="header-section-number">7.3.4.2</span> MCMC 시뮬레이션 진단</h4>
<p>MCMC 시뮬레이션이 잘 수행되었는지 확인하기 위해서 아래 사항들을 복합적으로 확인한다.</p>
<ul>
<li><p>MCMC error : 몬테카를로 오차(Naive SE &amp; Time-series SE)는 작을수록 높은 정밀도를 나타내어 수렴이 잘 되었다고 판단할 수 있다. 시뮬레이션의 전반적인 평가는 MCMC error 가 얼마나 최소화되는가에 달려 있다고 볼 수 있다. 따라서 반복 시뮬레이션 획수를 늘려 표본의 수를 충분히 확보하고 초기값의 영향을 제거하기 위해 burn-in 과정을 거치며 난수 추출간격 thin을 잘 조정해야 한다.</p></li>
<li><p>DIC (deviance information criterion) : <span class="math inline">\(DIC = \bar{D} + pD\)</span>로 표현된다 <span class="math inline">\(\bar{D}\)</span>는 잔차이탈도(residual deviance)의 합이며 <span class="math inline">\(pD\)</span>는 모수 수의 추정값으로 결국 DIC는 모형의 적합도와 복잡성을 동시에 고려한 수치이다. 이 수치가 작을수록 좀 더 나은 모형이라고 할 수 있다.</p></li>
<li><p>trace plot과 density plot : trace plot은 특정한 패턴 없이 각 chain들이 얽혀 있어야 잘 수렴했다고 판단할 수 있다. density plot은 사후분포(사후밀도함수)로서 시뮬레이션 반복횟수에 따라 모양이 크게 다르다면 잘 수렴하지 않았다는 것을 의미한다.</p></li>
</ul>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="Chapter7.html#cb25-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(mcmc_fix)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<ul>
<li>겔만-루빈(Gelman-Rubin) 통계량과 plot</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="Chapter7.html#cb26-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Gelman-Rubin Statistics and plot</span></span>
<span id="cb26-2"><a href="Chapter7.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gelman.diag</span>(mcmc_fix)</span></code></pre></div>
<pre><code>## Potential scale reduction factors:
## 
##       Point est. Upper C.I.
## d.A.B          1          1
## d.A.C          1          1
## d.A.D          1          1
## d.A.E          1          1
## 
## Multivariate psrf
## 
## 1</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="Chapter7.html#cb28-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gelman.plot</span>(mcmc_fix)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p><em>gelman.diag</em> 함수는 겔만-루빈 통계량을 구해주며, <em>gelman.plot</em>은 겔만-루빈 plot을 그려준다. 시뮬레이션 반복횟수가 커짐에 따라 1에 가깝게 나타나며 변동이 안정화되어야 잘 수렵했다고 할 수 있다.</p>
</div>
</div>
<div id="일관성-검정consistency-test" class="section level3" number="7.3.5">
<h3><span class="header-section-number">7.3.5</span> 일관성 검정(consistency test)</h3>
<p>네트워크 메타분석의 가정에서 일관성 검정은 네트워크 메타분석 결과의 적용 가능 여부를 판가름하는 매우 중요한 도구이다.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="Chapter7.html#cb29-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Consistency test</span></span>
<span id="cb29-2"><a href="Chapter7.html#cb29-2" aria-hidden="true" tabindex="-1"></a>    node_fix <span class="ot">&lt;-</span> <span class="fu">mtc.nodesplit</span>(network, <span class="at">linearModel=</span><span class="st">&#39;fixed&#39;</span>,   <span class="at">n.adapt=</span><span class="dv">1000</span>, <span class="at">n.iter=</span><span class="dv">10000</span>, <span class="at">thin=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 43
##    Unobserved stochastic nodes: 26
##    Total graph size: 937
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 44
##    Unobserved stochastic nodes: 26
##    Total graph size: 952
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 44
##    Unobserved stochastic nodes: 26
##    Total graph size: 949
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 43
##    Unobserved stochastic nodes: 26
##    Total graph size: 935
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 43
##    Unobserved stochastic nodes: 26
##    Total graph size: 931
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 44
##    Unobserved stochastic nodes: 26
##    Total graph size: 948
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 43
##    Unobserved stochastic nodes: 26
##    Total graph size: 931
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 44
##    Unobserved stochastic nodes: 25
##    Total graph size: 860
## 
## Initializing model</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="Chapter7.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   plot(node_fix)</span></span>
<span id="cb46-2"><a href="Chapter7.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="fu">summary</span>(node_fix))</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-15-1.png" width="672" /><img src="meta_files/figure-html/unnamed-chunk-15-2.png" width="672" /></p>
<p><em>mtc.nodesplit</em> 함수에 네트워크 셋입 자료를 넣어서 일관성 검정을 위한 고정효과모형 모델 node_fix를 만든다. 이때 MCMC 시뮬레이션도 같이 시행된다. 치료 간의 변동을 시각적으로 쉽게 파악할 수 있으며 모든 개별 치료 간의 일관성 검정 결과를 쉽게 파악할 수 있다. 전체적으로 통계적 유의차를 보이지 않아 해당 모델은 일관성을 지지하는 것으로 나타난다.</p>
</div>
<div id="forest-plot-5" class="section level3" number="7.3.6">
<h3><span class="header-section-number">7.3.6</span> Forest plot</h3>
<p>네트워크 메타분석을 통해 치료그룹별 효과크기를 한눈에 알아볼 수 있도록 도식화하여 비교한다.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="Chapter7.html#cb47-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Forest plot</span></span>
<span id="cb47-2"><a href="Chapter7.html#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">forest</span>(<span class="fu">relative.effect</span>(mcmc_fix,<span class="at">t1=</span><span class="st">&quot;A&quot;</span>), <span class="at">digits=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p><em>relative.effect</em> 함수를 통해 치료 그룹간 효과크기를 추출하고 이를 <em>forest</em> 함수를 통해 forest plot을 그린다. <em>relative.effect</em> 함수의 인수중 t1에 “A”를 넣으면 참조치료를 A로 하는 forest plot을 생성한다.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="Chapter7.html#cb48-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Forest plot</span></span>
<span id="cb48-2"><a href="Chapter7.html#cb48-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">forest</span>(<span class="fu">relative.effect</span>(mcmc_fix,<span class="at">t1=</span><span class="st">&quot;E&quot;</span>), <span class="at">digits=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Forest plot을 통해 각 치료별 효과크기를 직관적으로 비교할 수 있다. Placebo에 대비한 모든 치료별 효과크기(OR, 수혈률)가 낮게 나타났으며 <span class="math inline">\(95\%\)</span> 신용구간(credible interval)이 겹치지 않는다는 것을 알 수 있다. 특히 병용치료방법(E, combination)의 경우 placebo뿐만 아니라 정맥1회주사법(B, IV(single)), 정맥2회주사법(C, IV(double)), 국소도포법(D, topical) 등 모든 치료에 대비하여 통계적으로 유의하게 수혈률이 낮음을 알 수 있다. 참조치료를 E로 변경하면 반대로 해석할 수 있다.</p>
</div>
<div id="치료-간-비교우위-선정treatment-ranking" class="section level3" number="7.3.7">
<h3><span class="header-section-number">7.3.7</span> 치료 간 비교우위 선정(treatment ranking)</h3>
<p>네트워크 메타분석의 가장 중요한 기능 중의 하나는 치료 간 비교우위를 선정할 수 있다는 것이다. 다시 말해 치료별 최우선 순위에서 최하위 순위까지 선택될 누적확률을 계산할 수 있다.</p>
<p><em>rank.probability</em> 함수에 MCMC 최종 모형을 넣고, preferredDirection은 효과크기가 작을수록 우수한 것인지 클수록 우수한 것인지에 따라 ‘-1’ 또는 ‘1’ 중에서 방향을 설정한다. 예제에서는 참조치료 대비 효과크기가 작을수록 우수한 것이기 때문에 ’-1’을 설정한다.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="Chapter7.html#cb49-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Treatment ranking</span></span>
<span id="cb49-2"><a href="Chapter7.html#cb49-2" aria-hidden="true" tabindex="-1"></a>    rank_fix <span class="ot">&lt;-</span> <span class="fu">rank.probability</span>(mcmc_fix, <span class="at">preferredDirection=</span><span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb49-3"><a href="Chapter7.html#cb49-3" aria-hidden="true" tabindex="-1"></a>    rank_fix</span></code></pre></div>
<pre><code>## Rank probability; preferred direction = -1
##      [,1]    [,2]    [,3]    [,4] [,5]
## A 0.00000 0.00000 0.00000 0.00000    1
## B 0.00025 0.25325 0.50725 0.23925    0
## C 0.00100 0.68525 0.25825 0.05550    0
## D 0.00000 0.06025 0.23450 0.70525    0
## E 0.99875 0.00125 0.00000 0.00000    0</code></pre>
<p>결과를 살펴보면 E(combination)이 best 치료일 경우는 99.8%이다. 2순위로 선택될 치료로는 C(IV double)가 68.2%이며, 다음으로는 B(IV single), D(topical), A(placebo)의 순위를 보인다.</p>
<p>치료간 우위를 그래프로 표현하면 다음과 같다.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="Chapter7.html#cb51-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(rank_fix, <span class="at">beside=</span>T)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
</div>
<div id="연속형-자료-예제-1" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> 연속형 자료 예제</h2>
<div id="자료의-입력-6" class="section level3" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> 자료의 입력</h3>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="Chapter7.html#cb52-1" aria-hidden="true" tabindex="-1"></a>con_nma <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">text=</span><span class="st">&#39;</span></span>
<span id="cb52-2"><a href="Chapter7.html#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="st">study   n   m   s   trt</span></span>
<span id="cb52-3"><a href="Chapter7.html#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Alshryda 2013&quot; 80  1650    188 D</span></span>
<span id="cb52-4"><a href="Chapter7.html#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Alshryda 2013&quot; 81  1981    1007    A</span></span>
<span id="cb52-5"><a href="Chapter7.html#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Barrachina 2016&quot;   36  1308    641 C</span></span>
<span id="cb52-6"><a href="Chapter7.html#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Barrachina 2016&quot;   37  2215    1136    A</span></span>
<span id="cb52-7"><a href="Chapter7.html#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Benoni 2000&quot;   20  550 275 C</span></span>
<span id="cb52-8"><a href="Chapter7.html#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Benoni 2000&quot;   19  500 234 A</span></span>
<span id="cb52-9"><a href="Chapter7.html#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Benoni 2001&quot;   18  759 193 B</span></span>
<span id="cb52-10"><a href="Chapter7.html#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Benoni 2001&quot;   20  996 267 A</span></span>
<span id="cb52-11"><a href="Chapter7.html#cb52-11" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Ekbck 2000&quot;    20  1130    400 C</span></span>
<span id="cb52-12"><a href="Chapter7.html#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Ekbck 2000&quot;    20  1770    523 A</span></span>
<span id="cb52-13"><a href="Chapter7.html#cb52-13" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Fraval 2017&quot;   50  1084    440 C</span></span>
<span id="cb52-14"><a href="Chapter7.html#cb52-14" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Fraval 2017&quot;   51  1394    426 A</span></span>
<span id="cb52-15"><a href="Chapter7.html#cb52-15" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Garneti 2004&quot;  25  1443    809 B</span></span>
<span id="cb52-16"><a href="Chapter7.html#cb52-16" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Garneti 2004&quot;  25  1340    665 A</span></span>
<span id="cb52-17"><a href="Chapter7.html#cb52-17" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Johansson 2005&quot;    47  969 434 B</span></span>
<span id="cb52-18"><a href="Chapter7.html#cb52-18" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Johansson 2005&quot;    53  1324    577 A</span></span>
<span id="cb52-19"><a href="Chapter7.html#cb52-19" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Lemay 2004&quot;    20  1308    462 C</span></span>
<span id="cb52-20"><a href="Chapter7.html#cb52-20" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Lemay 2004&quot;    19  1469    405 A</span></span>
<span id="cb52-21"><a href="Chapter7.html#cb52-21" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Lee 2013&quot;  34  647 216 C</span></span>
<span id="cb52-22"><a href="Chapter7.html#cb52-22" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Lee 2013&quot;  34  1326    349 A</span></span>
<span id="cb52-23"><a href="Chapter7.html#cb52-23" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Niskanen 2005&quot; 19  626 206 C</span></span>
<span id="cb52-24"><a href="Chapter7.html#cb52-24" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Niskanen 2005&quot; 20  790 293 A</span></span>
<span id="cb52-25"><a href="Chapter7.html#cb52-25" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;North 2016&quot;    70  1195    485.9   C</span></span>
<span id="cb52-26"><a href="Chapter7.html#cb52-26" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;North 2016&quot;    69  1442.7  562.7   D</span></span>
<span id="cb52-27"><a href="Chapter7.html#cb52-27" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Rajesparan 2009&quot;   36  1372    436 B</span></span>
<span id="cb52-28"><a href="Chapter7.html#cb52-28" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Rajesparan 2009&quot;   37  1683    705 A</span></span>
<span id="cb52-29"><a href="Chapter7.html#cb52-29" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Wei 2014&quot;  101 958.5   422.1   B</span></span>
<span id="cb52-30"><a href="Chapter7.html#cb52-30" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Wei 2014&quot;  102 963.4   421.3   D</span></span>
<span id="cb52-31"><a href="Chapter7.html#cb52-31" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Wei 2014&quot;  100 1364.2  278.6   A</span></span>
<span id="cb52-32"><a href="Chapter7.html#cb52-32" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yi 2016&quot;   50  1002.6  366.9   B</span></span>
<span id="cb52-33"><a href="Chapter7.html#cb52-33" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yi 2016&quot;   50  750.6   343.5   E</span></span>
<span id="cb52-34"><a href="Chapter7.html#cb52-34" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yi 2016&quot;   50  1221.1  386.3   A</span></span>
<span id="cb52-35"><a href="Chapter7.html#cb52-35" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Xie 2016&quot;  70  878 210 B</span></span>
<span id="cb52-36"><a href="Chapter7.html#cb52-36" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Xie 2016&quot;  70  905.07  237.7   D</span></span>
<span id="cb52-37"><a href="Chapter7.html#cb52-37" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Xie 2016&quot;  70  670.7   189 E</span></span>
<span id="cb52-38"><a href="Chapter7.html#cb52-38" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yamasaki 2004&quot; 20  1350    477 B</span></span>
<span id="cb52-39"><a href="Chapter7.html#cb52-39" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yamasaki 2004&quot; 20  1667    401 A</span></span>
<span id="cb52-40"><a href="Chapter7.html#cb52-40" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yue 2014&quot;  52  1050.3  331.7   D</span></span>
<span id="cb52-41"><a href="Chapter7.html#cb52-41" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Yue 2014&quot;  49  1255.5  193.5   A</span></span>
<span id="cb52-42"><a href="Chapter7.html#cb52-42" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;</span>, <span class="at">header=</span>T)</span>
<span id="cb52-43"><a href="Chapter7.html#cb52-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-44"><a href="Chapter7.html#cb52-44" aria-hidden="true" tabindex="-1"></a>con_nma</span></code></pre></div>
<pre><code>##              study   n       m      s trt
## 1    Alshryda 2013  80 1650.00  188.0   D
## 2    Alshryda 2013  81 1981.00 1007.0   A
## 3  Barrachina 2016  36 1308.00  641.0   C
## 4  Barrachina 2016  37 2215.00 1136.0   A
## 5      Benoni 2000  20  550.00  275.0   C
## 6      Benoni 2000  19  500.00  234.0   A
## 7      Benoni 2001  18  759.00  193.0   B
## 8      Benoni 2001  20  996.00  267.0   A
## 9       Ekbck 2000  20 1130.00  400.0   C
## 10      Ekbck 2000  20 1770.00  523.0   A
## 11     Fraval 2017  50 1084.00  440.0   C
## 12     Fraval 2017  51 1394.00  426.0   A
## 13    Garneti 2004  25 1443.00  809.0   B
## 14    Garneti 2004  25 1340.00  665.0   A
## 15  Johansson 2005  47  969.00  434.0   B
## 16  Johansson 2005  53 1324.00  577.0   A
## 17      Lemay 2004  20 1308.00  462.0   C
## 18      Lemay 2004  19 1469.00  405.0   A
## 19        Lee 2013  34  647.00  216.0   C
## 20        Lee 2013  34 1326.00  349.0   A
## 21   Niskanen 2005  19  626.00  206.0   C
## 22   Niskanen 2005  20  790.00  293.0   A
## 23      North 2016  70 1195.00  485.9   C
## 24      North 2016  69 1442.70  562.7   D
## 25 Rajesparan 2009  36 1372.00  436.0   B
## 26 Rajesparan 2009  37 1683.00  705.0   A
## 27        Wei 2014 101  958.50  422.1   B
## 28        Wei 2014 102  963.40  421.3   D
## 29        Wei 2014 100 1364.20  278.6   A
## 30         Yi 2016  50 1002.60  366.9   B
## 31         Yi 2016  50  750.60  343.5   E
## 32         Yi 2016  50 1221.10  386.3   A
## 33        Xie 2016  70  878.00  210.0   B
## 34        Xie 2016  70  905.07  237.7   D
## 35        Xie 2016  70  670.70  189.0   E
## 36   Yamasaki 2004  20 1350.00  477.0   B
## 37   Yamasaki 2004  20 1667.00  401.0   A
## 38        Yue 2014  52 1050.30  331.7   D
## 39        Yue 2014  49 1255.50  193.5   A</code></pre>
<p>베이지안 네트워크 메타분석을 실행하기 위해 <strong>gemtc</strong> 패키지를 이용한다. 또한 MCMC를 위해 <strong>JAGS</strong>를 이용하므로 <strong>JAGS</strong>(<a href="http://mcmc-jags.sourceforge.net/" class="uri">http://mcmc-jags.sourceforge.net/</a>) 프로그램을 별도로 설치해야 한다.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="Chapter7.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;gemtc&quot;)</span></span>
<span id="cb54-2"><a href="Chapter7.html#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gemtc)</span></code></pre></div>
<p><strong>gemtc</strong> package는 여러 함수를 포함하고 있으며, 그 중 네트워크 분석을 실행하는 <em>mtc.network</em> 함수는 함수의 인수가 특정 변수명이어야 실행 가능하다. 연속형 자료에서는 순서대로 “sampleSize,” “mean,” “std.dev”가 일치해야 한다. 따라서 이를 위해 column 명을 변경한다.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="Chapter7.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(con_nma) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;study&quot;</span>, <span class="st">&quot;sampleSize&quot;</span>, <span class="st">&quot;mean&quot;</span>, <span class="st">&quot;std.dev&quot;</span>, <span class="st">&quot;treatment&quot;</span>)</span>
<span id="cb55-2"><a href="Chapter7.html#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="Chapter7.html#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(con_nma)</span></code></pre></div>
<pre><code>## [1] &quot;study&quot;      &quot;sampleSize&quot; &quot;mean&quot;       &quot;std.dev&quot;    &quot;treatment&quot;</code></pre>
<p>다음으로 네트워크 plot에서 treatment를 상세히 보여주고 이를 네트워크 셋업으로 활용하기 위해 treatment 데이터셋을 설정한다.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="Chapter7.html#cb57-1" aria-hidden="true" tabindex="-1"></a>  treatment <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">text=</span><span class="st">&#39;</span></span>
<span id="cb57-2"><a href="Chapter7.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="st">                          id description</span></span>
<span id="cb57-3"><a href="Chapter7.html#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="st">                          A &quot;Treatment A&quot;</span></span>
<span id="cb57-4"><a href="Chapter7.html#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="st">                          B &quot;Treatment B&quot;</span></span>
<span id="cb57-5"><a href="Chapter7.html#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="st">                          C &quot;Treatment C&quot;</span></span>
<span id="cb57-6"><a href="Chapter7.html#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="st">                          D &quot;Treatment D&quot;</span></span>
<span id="cb57-7"><a href="Chapter7.html#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="st">                          E &quot;Treatment E&quot;</span></span>
<span id="cb57-8"><a href="Chapter7.html#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="st">                          &#39;</span>, <span class="at">header=</span>T) </span></code></pre></div>
</div>
<div id="네트워크-plot-1" class="section level3" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> 네트워크 plot</h3>
<p>데이터셋 con_nma와 treatment를 이용하여 네트워크 셋업을 시행한다. 이때 함수는 <em>mtc.network</em>를 이용한다.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="Chapter7.html#cb58-1" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">mtc.network</span>(<span class="at">data.ab=</span>con_nma, <span class="at">treatments=</span>treatment, <span class="at">description=</span><span class="st">&quot;Bayesian NMA&quot;</span>)</span></code></pre></div>
<p>셋업된 네트워크 정보를 network에 저장하고 <em>plot</em> 함수를 이용해 간단하게 네트워크 plot을 출력한다.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="Chapter7.html#cb59-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(network, <span class="at">use.description=</span>T)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>네트워크 plot은 네트워크를 구성하는 치료그룹 간의 직접비교(direct comparison) 관계를 도식화해서 보여준다. 각 node를 연결하는 엣지(edge)의 굵기는 수행된 연구 수를 의미한다. 네트워크 plot은 네트워크 메타분석 연구에서 치료 간의 질적, 양적 관계를 가늠할 수 있게 해주므로 반드시 제시되어야 한다.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="Chapter7.html#cb60-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">summary</span>(network)</span></code></pre></div>
<pre><code>## $Description
## [1] &quot;MTC dataset: Bayesian NMA&quot;
## 
## $`Studies per treatment`
##  A  B  C  D  E 
## 16  8  8  5  2 
## 
## $`Number of n-arm studies`
## 2-arm 3-arm 
##    15     3 
## 
## $`Studies per treatment comparison`
##   t1 t2 nr
## 1  A  B  7
## 2  A  C  7
## 3  A  D  3
## 4  A  E  1
## 5  B  D  2
## 6  B  E  2
## 7  C  D  1
## 8  D  E  1</code></pre>
<p><em>summary</em> 명령어를 실시하면 결과창에서 네트워크 셋업의 전반적인 상황을 볼 수 있다. 각 치료별 2-arm 또는 3-arm 연구의 개수와 치료별 대응개수도 알 수 있다. 즉, 네트워크 plot을 수치적으로 나타낸 결과이다.</p>
</div>
<div id="네트워크-모델-1" class="section level3" number="7.4.3">
<h3><span class="header-section-number">7.4.3</span> 네트워크 모델</h3>
<p>네트워크 셋업 후 고정효과모형 또는 랜덤효과모형으로 네트워크 모델을 설정한다. 이때 함수 <em>mtc.model</em>을 이용한다.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="Chapter7.html#cb62-1" aria-hidden="true" tabindex="-1"></a>  model_fix <span class="ot">&lt;-</span> <span class="fu">mtc.model</span>(network, <span class="at">linearModel=</span><span class="st">&#39;fixed&#39;</span>, <span class="at">n.chain=</span><span class="dv">4</span>, <span class="at">likelihood=</span><span class="st">&#39;normal&#39;</span>, <span class="at">link=</span><span class="st">&#39;identity&#39;</span>) <span class="co"># Fixed effect model</span></span></code></pre></div>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<p><em>mtc.model</em> 함수에 네트워크 셋업 데이터 network를 불러들여 고정효과모형 또는 랜덤효과모형으로 설정하여 각각 model_fix와 model_ran으로 저장한다. 여기서 n.chain은 MCMC에서 사용할 chain 수를 나타낸다.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="Chapter7.html#cb64-1" aria-hidden="true" tabindex="-1"></a>  model_ran <span class="ot">&lt;-</span> <span class="fu">mtc.model</span>(network, <span class="at">linearModel=</span><span class="st">&#39;random&#39;</span>, <span class="at">n.chain=</span><span class="dv">4</span>, <span class="at">likelihood=</span><span class="st">&#39;normal&#39;</span>, <span class="at">link=</span><span class="st">&#39;identity&#39;</span>) <span class="co"># Random effect model</span></span></code></pre></div>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
</div>
<div id="mcmc-시물레이션과-진단-1" class="section level3" number="7.4.4">
<h3><span class="header-section-number">7.4.4</span> MCMC 시물레이션과 진단</h3>
<div id="mcmc-시뮬레이션-실행-1" class="section level4" number="7.4.4.1">
<h4><span class="header-section-number">7.4.4.1</span> MCMC 시뮬레이션 실행</h4>
<p>네트워크 모델이 설정되면 MCMC 시뮬레이션을 실시한다. 전반적인 순서는 적정 수준의 시뮬레이션 횟수를 설정하여 실행하고 실행한 결과들의 수렴 여부를 확인한다. 먼저 고정효과모형을 중심으로 살펴보자. MCMC 시물레이션은 <em>mtc.run</em> 함수를 사용한다.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="Chapter7.html#cb66-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### MCMC Simulation</span></span>
<span id="cb66-2"><a href="Chapter7.html#cb66-2" aria-hidden="true" tabindex="-1"></a>mcmc_fix <span class="ot">&lt;-</span> <span class="fu">mtc.run</span>(model_fix, <span class="at">n.adapt=</span><span class="dv">1000</span>, <span class="at">n.iter=</span><span class="dv">10000</span>, <span class="at">thin=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 39
##    Unobserved stochastic nodes: 22
##    Total graph size: 454
## 
## Initializing model</code></pre>
<p>여기서 n.adapt=1000은 MCMC를 통해 추출된 난수중 초기값에 영향을 받는 처음부터 1000번까지는 버리는다는 의미이다. n.iter=10000은 n.adapt에서 제거한 난수 이후에 생성되는 난수의 수를 의미하며 thin은 10번의 간격으로 생성난 난수를 추출한다는 의미이다. 따라서 총 난수는 1번부터 11000번까지 생성되며, 그중에서 1~1000번까지의 난수는 버리게 되며, 1001번부터 11000까지의 난수 중 1010, 1020, … 과 같은 순으로 난수가 추출된다. MCMC 수행 결과는 <em>summary</em> 함수를 통해 살펴볼 수 있다.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="Chapter7.html#cb68-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(mcmc_fix)</span></code></pre></div>
<pre><code>## 
## Results on the Mean Difference scale
## 
## Iterations = 10:10000
## Thinning interval = 10 
## Number of chains = 4 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##         Mean    SD Naive SE Time-series SE
## d.A.B -301.8 28.77   0.4549         0.4895
## d.A.C -360.9 34.61   0.5472         0.5452
## d.A.D -275.7 28.08   0.4440         0.4754
## d.A.E -510.3 34.51   0.5457         0.5755
## 
## 2. Quantiles for each variable:
## 
##         2.5%    25%    50%    75%  97.5%
## d.A.B -357.6 -321.2 -301.7 -282.6 -246.8
## d.A.C -426.7 -383.5 -360.9 -338.1 -294.2
## d.A.D -329.6 -294.5 -275.6 -257.3 -220.1
## d.A.E -579.0 -533.4 -511.2 -487.0 -443.5
## 
## -- Model fit (residual deviance):
## 
##     Dbar       pD      DIC 
## 105.6814  22.1654 127.8468 
## 
## 39 data points, ratio 2.71, I^2 = 64%</code></pre>
</div>
<div id="mcmc-시뮬레이션-진단-1" class="section level4" number="7.4.4.2">
<h4><span class="header-section-number">7.4.4.2</span> MCMC 시뮬레이션 진단</h4>
<ul>
<li>Trace plot</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="Chapter7.html#cb70-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(mcmc_fix)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>특정한 패턴 없이 각 chain들이 얽혀 있어야 잘 수렴했다고 판단할 수 있다. density plot은 사후분포(사후밀도함수)로서 시뮬레이션 반복횟수에 따라 모양이 크게 다르다면 잘 수렴하지 않았다는 것을 의미한다.</p>
<ul>
<li>겔만-루빈(Gelman-Rubin) 통계량과 plot</li>
</ul>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="Chapter7.html#cb71-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Gelman-Rubin Statistics and plot</span></span>
<span id="cb71-2"><a href="Chapter7.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gelman.diag</span>(mcmc_fix)</span></code></pre></div>
<pre><code>## Potential scale reduction factors:
## 
##       Point est. Upper C.I.
## d.A.B      1.002       1.01
## d.A.C      1.000       1.00
## d.A.D      1.000       1.00
## d.A.E      0.999       1.00
## 
## Multivariate psrf
## 
## 1</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="Chapter7.html#cb73-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gelman.plot</span>(mcmc_fix)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p><em>gelman.diag</em> 함수는 겔만-루빈 통계량을 구해주며, <em>gelman.plot</em>은 겔만-루빈 plot을 그려준다. 시뮬레이션 반복횟수가 커짐에 따라 1에 가깝게 나타나며 변동이 안정화되어야 잘 수렵했다고 할 수 있다.</p>
</div>
</div>
<div id="일관성-검정consistency-test-1" class="section level3" number="7.4.5">
<h3><span class="header-section-number">7.4.5</span> 일관성 검정(consistency test)</h3>
<p>네트워크 메타분석의 가정에서 일관성 검정은 네트워크 메타분석 결과의 적용 가능 여부를 판가름하는 매우 중요한 도구이다.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="Chapter7.html#cb74-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Consistency test</span></span>
<span id="cb74-2"><a href="Chapter7.html#cb74-2" aria-hidden="true" tabindex="-1"></a>    node_fix <span class="ot">&lt;-</span> <span class="fu">mtc.nodesplit</span>(network, <span class="at">linearModel=</span><span class="st">&#39;fixed&#39;</span>,   <span class="at">n.adapt=</span><span class="dv">1000</span>, <span class="at">n.iter=</span><span class="dv">10000</span>, <span class="at">thin=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 37
##    Unobserved stochastic nodes: 23
##    Total graph size: 527
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 39
##    Unobserved stochastic nodes: 23
##    Total graph size: 545
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 38
##    Unobserved stochastic nodes: 23
##    Total graph size: 533
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 38
##    Unobserved stochastic nodes: 23
##    Total graph size: 536
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 37
##    Unobserved stochastic nodes: 23
##    Total graph size: 523
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 39
##    Unobserved stochastic nodes: 23
##    Total graph size: 541
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 38
##    Unobserved stochastic nodes: 23
##    Total graph size: 532
## 
## Initializing model</code></pre>
<pre><code>## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다

## Warning in readChar(fileName, file.info(fileName)[[&quot;size&quot;]]): UTF-8가 아닌 MBCS
## 로케일에서만 바이트로만 읽을 수 있습니다</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 39
##    Unobserved stochastic nodes: 22
##    Total graph size: 454
## 
## Initializing model</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="Chapter7.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   plot(node_fix)</span></span>
<span id="cb91-2"><a href="Chapter7.html#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="fu">summary</span>(node_fix))</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-33-1.png" width="672" /><img src="meta_files/figure-html/unnamed-chunk-33-2.png" width="672" /></p>
<p><em>mtc.nodesplit</em> 함수에 네트워크 셋입 자료를 넣어서 일관성 검정을 위한 고정효과모형 모델 node_fix를 만든다. 이때 MCMC 시뮬레이션도 같이 시행된다. 치료 간의 변동을 시각적으로 쉽게 파악할 수 있으며 모든 개별 치료 간의 일관성 검정 결과를 쉽게 파악할 수 있다. 전체적으로 통계적 유의차를 보이지 않아 해당 모델은 일관성을 지지하는 것으로 나타난다.</p>
</div>
<div id="forest-plot-6" class="section level3" number="7.4.6">
<h3><span class="header-section-number">7.4.6</span> Forest plot</h3>
<p>네트워크 메타분석을 통해 치료그룹별 효과크기를 한눈에 알아볼 수 있도록 도식화하여 비교한다.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="Chapter7.html#cb92-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Forest plot</span></span>
<span id="cb92-2"><a href="Chapter7.html#cb92-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">forest</span>(<span class="fu">relative.effect</span>(mcmc_fix,<span class="at">t1=</span><span class="st">&quot;A&quot;</span>), <span class="at">digits=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<p><em>relative.effect</em> 함수를 통해 치료 그룹간 효과크기를 추출하고 이를 <em>forest</em> 함수를 통해 forest plot을 그린다. <em>relative.effect</em> 함수의 인수중 t1에 “A”를 넣으면 참조치료를 A로 하는 forest plot을 생성한다.</p>
</div>
<div id="치료-간-비교우위-선정treatment-randing" class="section level3" number="7.4.7">
<h3><span class="header-section-number">7.4.7</span> 치료 간 비교우위 선정(treatment randing)</h3>
<p>네트워크 메타분석의 가장 중요한 기능 중의 하나는 치료 간 비교우위를 선정할 수 있다는 것이다. 다시 말해 치료별 최우선 순위에서 최하위 순위까지 선택될 누적확률을 계산할 수 있다.</p>
<p><em>rank.probability</em> 함수에 MCMC 최종 모형을 넣고, preferredDirection은 효과크기가 작을수록 우수한 것인지 클수록 우수한 것인지에 따라 ‘-1’ 또는 ‘1’ 중에서 방향을 설정한다. 예제에서는 참조치료 대비 효과크기가 작을수록 우수한 것이기 때문에 ’-1’을 설정한다.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="Chapter7.html#cb93-1" aria-hidden="true" tabindex="-1"></a>  <span class="do">###### Treatment ranking</span></span>
<span id="cb93-2"><a href="Chapter7.html#cb93-2" aria-hidden="true" tabindex="-1"></a>    rank_fix <span class="ot">&lt;-</span> <span class="fu">rank.probability</span>(mcmc_fix, <span class="at">preferredDirection=</span><span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb93-3"><a href="Chapter7.html#cb93-3" aria-hidden="true" tabindex="-1"></a>    rank_fix</span></code></pre></div>
<pre><code>## Rank probability; preferred direction = -1
##     [,1]    [,2]    [,3]    [,4] [,5]
## A 0.0000 0.00000 0.00000 0.00000    1
## B 0.0000 0.07925 0.74575 0.17500    0
## C 0.0005 0.91150 0.07075 0.01725    0
## D 0.0000 0.00875 0.18350 0.80775    0
## E 0.9995 0.00050 0.00000 0.00000    0</code></pre>
<p>결과를 살펴보면 Treatment E가 best 선택일 경우는 99.9%이다. 2순위로 선택될 치료로는 Treatment C이며, 다음으로는 Treatment B, D, A의 순위를 보인다.</p>
<p>치료간 우위를 그래프로 표현하면 다음과 같다.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="Chapter7.html#cb95-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(rank_fix, <span class="at">beside=</span>T)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
</div>
</div>
<div id="time-to-event-예제-1" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Time to event 예제</h2>
<p>생존자료의 메타분석을 위해 여기서는 <strong>BUGSnet</strong> packages (<a href="https://bugsnetsoftware.github.io/)를" class="uri">https://bugsnetsoftware.github.io/)를</a> 이용한다(<strong>meta</strong> package도 이용 가능).</p>
<div id="자료의-입력-7" class="section level3" number="7.5.1">
<h3><span class="header-section-number">7.5.1</span> 자료의 입력</h3>
<pre class="r}"><code>##### install.packages(&quot;BUGSnet&quot;)
library(BUGSnet)</code></pre>
<p>본 예제에서는 <strong>BUGSnet</strong> packages에 내장된 당뇨 관련 데이터인 <strong>diabetes.sim</strong> 데이터셋을 이용한다.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="Chapter7.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(BUGSnet<span class="sc">::</span>diabetes.sim)</span></code></pre></div>
<pre><code>##   Study followup trtnum Treatment diabetes    n  age age_SD  age_type
## 1 MRC-E      5.8      1  Diuretic       43 1081 60.7  14.26 mean &amp; SD
## 2 MRC-E      5.8      2   Placebo       34 2213 59.2  13.10 mean &amp; SD
## 3 MRC-E      5.8      3   blocker       37 1102 60.2  14.00 mean &amp; SD
## 4  EWPH      4.7      1  Diuretic       29  416 59.0  15.20 mean &amp; SD
## 5  EWPH      4.7      2   Placebo       20  424 57.0  14.80 mean &amp; SD
## 6  SHEP      3.0      1  Diuretic      140 1631 63.1  13.20 mean &amp; SD</code></pre>
<p>데이터를 <strong>BUGSnet</strong>에 적용하기 위해 <em>data.prep</em> 함수를 이용하여 변형한다.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="Chapter7.html#cb99-1" aria-hidden="true" tabindex="-1"></a>rate2.slr <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">data.prep</span>(<span class="at">arm.data=</span>BUGSnet<span class="sc">::</span>diabetes.sim, <span class="at">varname.t=</span><span class="st">&quot;Treatment&quot;</span>, <span class="at">varname.s=</span><span class="st">&quot;Study&quot;</span>)</span></code></pre></div>
</div>
<div id="네트워크-plot-2" class="section level3" number="7.5.2">
<h3><span class="header-section-number">7.5.2</span> 네트워크 plot</h3>
<p>데이터셋 con_nma와 treatment를 이용하여 네트워크 셋업을 시행한다. 이때 함수는 <em>net.plot</em>를 이용한다.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="Chapter7.html#cb100-1" aria-hidden="true" tabindex="-1"></a>BUGSnet<span class="sc">::</span><span class="fu">net.plot</span>(rate2.slr, <span class="at">node.scale=</span><span class="dv">3</span>, <span class="at">edge.scale=</span><span class="fl">1.5</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>특정노드와 관련된 직접적인 근거(direct evidence)는 <em>falg</em> 옵션을 통해 조절한다.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="Chapter7.html#cb101-1" aria-hidden="true" tabindex="-1"></a>BUGSnet<span class="sc">::</span><span class="fu">net.plot</span>(rate2.slr, <span class="at">node.scale=</span><span class="dv">3</span>, <span class="at">edge.scale=</span><span class="fl">1.5</span>, <span class="at">flag=</span><span class="st">&quot;ARB&quot;</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<p>그림을 살펴보면, ARB와 관련된 5개의 연구에서 4개의 treatment와 연관되어 있음을 붉은 색 엣지로 표시해준다.</p>
<p>네트워크 특성과 관련된 정보는 다음과 같이 확인한다.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="Chapter7.html#cb102-1" aria-hidden="true" tabindex="-1"></a>network.char <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">net.tab</span>(<span class="at">data=</span>rate2.slr, <span class="at">outcome=</span><span class="st">&quot;diabetes&quot;</span>, <span class="at">N=</span><span class="st">&quot;n&quot;</span>, <span class="at">type.outcome=</span><span class="st">&quot;rate2&quot;</span>, <span class="at">time=</span><span class="st">&quot;followup&quot;</span>)</span></code></pre></div>
<ul>
<li>Network Characteristics</li>
</ul>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="Chapter7.html#cb103-1" aria-hidden="true" tabindex="-1"></a>network.char<span class="sc">$</span>network</span></code></pre></div>
<pre><code>## # A tibble: 13 x 2
##    Characteristic                                        Value 
##    &lt;chr&gt;                                                 &lt;chr&gt; 
##  1 Number of Interventions                               6     
##  2 Number of Studies                                     22    
##  3 Total Number of Patients in Network                   154176
##  4 Total Possible Pairwise Comparisons                   15    
##  5 Total Number of Pairwise Comparisons With Direct Data 14    
##  6 Is the network connected?                             TRUE  
##  7 Number of Two-arm Studies                             18    
##  8 Number of Multi-Arms Studies                          4     
##  9 Total Number of Events in Network                     10962 
## 10 Number of Studies With  No Zero Events                22    
## 11 Number of Studies With At Least One Zero Event        0     
## 12 Number of Studies with All Zero Events                0     
## 13 Mean person follow up time                            4.06</code></pre>
<ul>
<li>Intervention Characterisitcs</li>
</ul>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="Chapter7.html#cb105-1" aria-hidden="true" tabindex="-1"></a>network.char<span class="sc">$</span>intervention</span></code></pre></div>
<pre><code>##       Treatment n.studies n.events n.patients person.time.fup min.event.rate
## 1 ACE inhibitor         8     1618      23351          106027    0.007263184
## 2           ARB         5     1189      14185           57291    0.005102041
## 3       blocker         9     2705      36150          173098    0.005788848
## 4           CCB         9     2791      38809          163469    0.009421001
## 5      Diuretic         8      973      18699           71931    0.006032042
## 6       Placebo         9     1686      22982           89692    0.002648924
##   max.event.rate events.per.person overall.event.rate
## 1     0.05705935        0.06929039         0.01526026
## 2     0.03229521        0.08382094         0.02075370
## 3     0.04548408        0.07482711         0.01562699
## 4     0.04168838        0.07191631         0.01707357
## 5     0.04081633        0.05203487         0.01352685
## 6     0.06160242        0.07336176         0.01879766</code></pre>
<ul>
<li>Comparison Characterisitcs</li>
</ul>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="Chapter7.html#cb107-1" aria-hidden="true" tabindex="-1"></a>network.char<span class="sc">$</span>comparison</span></code></pre></div>
<pre><code>## # A tibble: 14 x 7
##    comparison n.studies n.patients n.outcomes patient_time proportion event.rate
##    &lt;chr&gt;          &lt;int&gt;      &lt;int&gt;      &lt;int&gt;        &lt;int&gt;      &lt;dbl&gt;      &lt;dbl&gt;
##  1 ACE inhib~         3      15158       1022       409266     0.0674    0.00250
##  2 ACE inhib~         3      12597        538       289731     0.0427    0.00186
##  3 ACE inhib~         2      16488        759       263808     0.0460    0.00288
##  4 ACE inhib~         3      17893       1929       429432     0.108     0.00449
##  5 ARB vs. b~         1       7999        562        71991     0.0703    0.00781
##  6 ARB vs. C~         1      10161       1535        81288     0.151     0.0189 
##  7 ARB vs. D~         1        392          9          784     0.0230    0.0115 
##  8 ARB vs. P~         2       9778        573       127114     0.0586    0.00451
##  9 blocker v~         5      44974       3361      1933882     0.0747    0.00174
## 10 blocker v~         2       8752        241       166288     0.0275    0.00145
## 11 blocker v~         1       3315         71        36465     0.0214    0.00195
## 12 CCB vs. D~         2      15739        768       220346     0.0488    0.00349
## 13 CCB vs. P~         1       9711        331        58266     0.0341    0.00568
## 14 Diuretic ~         3       7343        384       198261     0.0523    0.00194</code></pre>
<ul>
<li>Patient Characteristics</li>
</ul>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="Chapter7.html#cb109-1" aria-hidden="true" tabindex="-1"></a>BUGSnet<span class="sc">::</span><span class="fu">data.plot</span>(<span class="at">data=</span>rate2.slr, <span class="at">covariate=</span><span class="st">&quot;age&quot;</span>, <span class="at">half.length=</span><span class="st">&quot;age_SD&quot;</span>, <span class="at">by=</span><span class="st">&quot;treatment&quot;</span>, <span class="at">avg.hline=</span>T, <span class="at">text.size=</span><span class="dv">12</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
</div>
<div id="네트워크-모델-2" class="section level3" number="7.5.3">
<h3><span class="header-section-number">7.5.3</span> 네트워크 모델</h3>
<p><strong>BUGSnet</strong>에서 고정효과모형 또는 랜덤효과모형 설정은 <em>nma.model</em> 함수를 이용한다.</p>
<ul>
<li>고정효과모형</li>
</ul>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="Chapter7.html#cb110-1" aria-hidden="true" tabindex="-1"></a>  model_fix <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.model</span>(<span class="at">data=</span>rate2.slr,</span>
<span id="cb110-2"><a href="Chapter7.html#cb110-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">outcome=</span><span class="st">&quot;diabetes&quot;</span>,</span>
<span id="cb110-3"><a href="Chapter7.html#cb110-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">N=</span><span class="st">&quot;n&quot;</span>,</span>
<span id="cb110-4"><a href="Chapter7.html#cb110-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">reference=</span><span class="st">&quot;Diuretic&quot;</span>,</span>
<span id="cb110-5"><a href="Chapter7.html#cb110-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">family=</span><span class="st">&quot;binomial&quot;</span>,</span>
<span id="cb110-6"><a href="Chapter7.html#cb110-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">link=</span><span class="st">&quot;cloglog&quot;</span>,</span>
<span id="cb110-7"><a href="Chapter7.html#cb110-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">time=</span><span class="st">&quot;followup&quot;</span>,</span>
<span id="cb110-8"><a href="Chapter7.html#cb110-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">effects=</span><span class="st">&quot;fixed&quot;</span>)</span></code></pre></div>
<ul>
<li>랜덤효과모형</li>
</ul>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="Chapter7.html#cb111-1" aria-hidden="true" tabindex="-1"></a>  model_ran <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.model</span>(<span class="at">data=</span>rate2.slr,</span>
<span id="cb111-2"><a href="Chapter7.html#cb111-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">outcome=</span><span class="st">&quot;diabetes&quot;</span>,</span>
<span id="cb111-3"><a href="Chapter7.html#cb111-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">N=</span><span class="st">&quot;n&quot;</span>,</span>
<span id="cb111-4"><a href="Chapter7.html#cb111-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">reference=</span><span class="st">&quot;Diuretic&quot;</span>,</span>
<span id="cb111-5"><a href="Chapter7.html#cb111-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">family=</span><span class="st">&quot;binomial&quot;</span>,</span>
<span id="cb111-6"><a href="Chapter7.html#cb111-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">link=</span><span class="st">&quot;cloglog&quot;</span>,</span>
<span id="cb111-7"><a href="Chapter7.html#cb111-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">time=</span><span class="st">&quot;followup&quot;</span>,</span>
<span id="cb111-8"><a href="Chapter7.html#cb111-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">effects=</span><span class="st">&quot;random&quot;</span>)</span></code></pre></div>
</div>
<div id="mcmc-시물레이션과-진단-2" class="section level3" number="7.5.4">
<h3><span class="header-section-number">7.5.4</span> MCMC 시물레이션과 진단</h3>
<div id="mcmc-시뮬레이션-실행-2" class="section level4" number="7.5.4.1">
<h4><span class="header-section-number">7.5.4.1</span> MCMC 시뮬레이션 실행</h4>
<p>고정효과모형과 랜덤효과모형 실행은 <em>nma.run</em> 함수를 이용한다.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="Chapter7.html#cb112-1" aria-hidden="true" tabindex="-1"></a>mcmc_fix <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.run</span>(model_fix,</span>
<span id="cb112-2"><a href="Chapter7.html#cb112-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.burnin=</span><span class="dv">1000</span>,</span>
<span id="cb112-3"><a href="Chapter7.html#cb112-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.iter=</span><span class="dv">10000</span>,</span>
<span id="cb112-4"><a href="Chapter7.html#cb112-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.chains=</span><span class="dv">4</span>,</span>
<span id="cb112-5"><a href="Chapter7.html#cb112-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">thin=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 48
##    Unobserved stochastic nodes: 27
##    Total graph size: 1075
## 
## Initializing model</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="Chapter7.html#cb114-1" aria-hidden="true" tabindex="-1"></a>mcmc_ran <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.run</span>(model_ran,</span>
<span id="cb114-2"><a href="Chapter7.html#cb114-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.burnin=</span><span class="dv">1000</span>,</span>
<span id="cb114-3"><a href="Chapter7.html#cb114-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.iter=</span><span class="dv">10000</span>,</span>
<span id="cb114-4"><a href="Chapter7.html#cb114-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.chains=</span><span class="dv">4</span>,</span>
<span id="cb114-5"><a href="Chapter7.html#cb114-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">thin=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 48
##    Unobserved stochastic nodes: 54
##    Total graph size: 1161
## 
## Initializing model</code></pre>
</div>
<div id="mcmc-시뮬레이션-진단-2" class="section level4" number="7.5.4.2">
<h4><span class="header-section-number">7.5.4.2</span> MCMC 시뮬레이션 진단</h4>
<p>고정효과모형과 랜덤효과모형은 rainbow plot과 DIC를 비교하여 선택한다. Leverage plot에서 보라색선을 넘어가는 연구는 잠재적 이상값(outlier)으로 간주할 수 있고 이들도 인해 모형이 잘 적합되지 않을 수 있음을 시사한다. 이를 위한 함수는 <em>nma.fit</em>이다.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="Chapter7.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb116-2"><a href="Chapter7.html#cb116-2" aria-hidden="true" tabindex="-1"></a>model_fit_fix <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.fit</span>(mcmc_fix, <span class="at">main=</span><span class="st">&quot;Fixed Effects Model&quot;</span>)</span>
<span id="cb116-3"><a href="Chapter7.html#cb116-3" aria-hidden="true" tabindex="-1"></a>model_fit_ran <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.fit</span>(mcmc_ran, <span class="at">main=</span><span class="st">&quot;Random Effects Model&quot;</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-50-1.png" width="672" /></p>
<p>결과를 살펴보면 랜덤효과모형이 더 나은 것으로 나타난다. DIC가 91.56으로 고정효과모형의 105.2보다 낮게 나타나며, 고정효과모형에서 잠재적 이상값이 8개가 나타나 모형 적합에 영향을 주는것으로 보인다.</p>
<ul>
<li>Assessment of convergence</li>
</ul>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="Chapter7.html#cb117-1" aria-hidden="true" tabindex="-1"></a>BUGSnet<span class="sc">::</span><span class="fu">nma.diag</span>(mcmc_ran, <span class="at">plot_prompt=</span><span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-51-1.png" width="672" /><img src="meta_files/figure-html/unnamed-chunk-51-2.png" width="672" /></p>
<pre><code>## $gelman.rubin
## $psrf
##       Point est. Upper C.I.
## d[2]    1.002017   1.007378
## d[3]    1.003939   1.010822
## d[4]    1.003592   1.011015
## d[5]    1.003670   1.012225
## d[6]    1.003492   1.011500
## sigma   1.001655   1.005335
## 
## $mpsrf
## [1] 1.004672
## 
## attr(,&quot;class&quot;)
## [1] &quot;gelman.rubin.results&quot;
## 
## $geweke
## $stats
##           Chain 1   Chain 2     Chain 3    Chain 4
## d[2]   0.06166281 -1.251844 -1.14155056  1.6811775
## d[3]   0.21597689 -2.167753 -0.17701427  1.7088981
## d[4]   0.08698725 -2.360175  0.47920770  3.1675841
## d[5]  -0.15744333 -3.358428  0.06943686  1.2557715
## d[6]  -0.55569578 -2.420346 -0.56750417  2.1243593
## sigma  1.15040142  1.244662  0.36439431 -0.4737361
## 
## $frac1
## [1] 0.1
## 
## $frac2
## [1] 0.5
## 
## attr(,&quot;class&quot;)
## [1] &quot;geweke.results&quot;</code></pre>
</div>
</div>
<div id="일관성-검정consistency-test-2" class="section level3" number="7.5.5">
<h3><span class="header-section-number">7.5.5</span> 일관성 검정(consistency test)</h3>
<p>일관성 검정을 위해 랜덤효과모형과 비일관성모형의 rainbow plot과 DiC를 비교하여 일관성을 측정한다.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="Chapter7.html#cb119-1" aria-hidden="true" tabindex="-1"></a>  model_ran_inconsis <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.model</span>(<span class="at">data=</span>rate2.slr,</span>
<span id="cb119-2"><a href="Chapter7.html#cb119-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">outcome=</span><span class="st">&quot;diabetes&quot;</span>,</span>
<span id="cb119-3"><a href="Chapter7.html#cb119-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">N=</span><span class="st">&quot;n&quot;</span>,</span>
<span id="cb119-4"><a href="Chapter7.html#cb119-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">reference=</span><span class="st">&quot;Diuretic&quot;</span>,</span>
<span id="cb119-5"><a href="Chapter7.html#cb119-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">family=</span><span class="st">&quot;binomial&quot;</span>,</span>
<span id="cb119-6"><a href="Chapter7.html#cb119-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">link=</span><span class="st">&quot;cloglog&quot;</span>,</span>
<span id="cb119-7"><a href="Chapter7.html#cb119-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">time=</span><span class="st">&quot;followup&quot;</span>,</span>
<span id="cb119-8"><a href="Chapter7.html#cb119-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">type=</span><span class="st">&quot;inconsistency&quot;</span>,</span>
<span id="cb119-9"><a href="Chapter7.html#cb119-9" aria-hidden="true" tabindex="-1"></a>                         <span class="at">effects=</span><span class="st">&quot;random&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="Chapter7.html#cb120-1" aria-hidden="true" tabindex="-1"></a>mcmc_ran_inconsis <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.run</span>(model_ran_inconsis,</span>
<span id="cb120-2"><a href="Chapter7.html#cb120-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.burnin=</span><span class="dv">1000</span>,</span>
<span id="cb120-3"><a href="Chapter7.html#cb120-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.iter=</span><span class="dv">10000</span>,</span>
<span id="cb120-4"><a href="Chapter7.html#cb120-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">n.chains=</span><span class="dv">4</span>,</span>
<span id="cb120-5"><a href="Chapter7.html#cb120-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">thin=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 48
##    Unobserved stochastic nodes: 64
##    Total graph size: 1069
## 
## Initializing model</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="Chapter7.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb122-2"><a href="Chapter7.html#cb122-2" aria-hidden="true" tabindex="-1"></a>model_fit_ran <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.fit</span>(mcmc_ran, <span class="at">main=</span><span class="st">&quot;Consistency Random Effects Model&quot;</span>)</span>
<span id="cb122-3"><a href="Chapter7.html#cb122-3" aria-hidden="true" tabindex="-1"></a>model_fit_ran_inconsis <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.fit</span>(mcmc_ran_inconsis, <span class="at">main=</span><span class="st">&quot;Inconsistency Random Effects Model&quot;</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-54-1.png" width="672" /></p>
<p>두 모형을 비교하면 consistency 모형의 DIC가 조금 더 낮게 나오지만 inconsistency 모형의 outlier가 leverage plot에 조금 더 가까이 나타나는 것으로 보인다. Dres는 inconsistency가 조금 더 낮게 나타나지만 모형의 복잡성(complexity)에 더 높은 비용을 지불하기 때문에 이러한 경우에 consistency 모형이 좀 더 적합한 것으로 간주된다.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="Chapter7.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb123-2"><a href="Chapter7.html#cb123-2" aria-hidden="true" tabindex="-1"></a>BUGSnet<span class="sc">::</span><span class="fu">nma.compare</span>(model_fit_ran, model_fit_ran_inconsis)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-55-1.png" width="672" /></p>
<p>대부분의 점들이 라인 근처에 형성되어 있기때문에 두 모형은 비슷한 것으로 보인다. 이러한 경우에는 좀 더 일관성이 있는 모형을 선호한다.</p>
</div>
<div id="forest-plot-7" class="section level3" number="7.5.6">
<h3><span class="header-section-number">7.5.6</span> Forest plot</h3>
<p>Placebo를 기준으로 forest plot을 그려보면 다음과 같다. 이때 <em>rma.forest</em> 함수를 이용한다.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="Chapter7.html#cb124-1" aria-hidden="true" tabindex="-1"></a>  BUGSnet<span class="sc">::</span><span class="fu">nma.forest</span>(mcmc_ran,</span>
<span id="cb124-2"><a href="Chapter7.html#cb124-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">central.tdcy=</span><span class="st">&quot;median&quot;</span>,</span>
<span id="cb124-3"><a href="Chapter7.html#cb124-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">comparator=</span><span class="st">&quot;Placebo&quot;</span>,</span>
<span id="cb124-4"><a href="Chapter7.html#cb124-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">log.scale=</span><span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-56-1.png" width="672" /></p>
</div>
<div id="치료-간-비교우위-선정treatment-randing-1" class="section level3" number="7.5.7">
<h3><span class="header-section-number">7.5.7</span> 치료 간 비교우위 선정(treatment randing)</h3>
<p>각 치료에 대한 순위는 SUCRA plot을 통해 살펴본다. SUCRA plot을 위한 기본 정보는 <em>nma.rank</em> 함수를 이용하고, 결과물중 우선 rankogram을 이용해 ranking probability를 살펴보자.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="Chapter7.html#cb125-1" aria-hidden="true" tabindex="-1"></a>sucra.out <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.rank</span>(mcmc_ran, <span class="at">largerbetter=</span><span class="cn">FALSE</span>, <span class="at">sucra.palette=</span><span class="st">&quot;Set1&quot;</span>)</span>
<span id="cb125-2"><a href="Chapter7.html#cb125-2" aria-hidden="true" tabindex="-1"></a>sucra.out<span class="sc">$</span>rankogram</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<p>이를 수치적으로 표현하면 다음과 같다.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="Chapter7.html#cb126-1" aria-hidden="true" tabindex="-1"></a>sucra.out<span class="sc">$</span>ranktable</span></code></pre></div>
<pre><code>## # A tibble: 6 x 7
## # Groups:   rank [6]
##    rank `ACE inhibitor`   ARB blocker   CCB Diuretic Placebo
##   &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
## 1     1           22.2  77.2     0     0        0       0.62
## 2     2           70.3  19.8     0     1.85     0       8   
## 3     3            6.9   2.72    0.12 26.5      0.03   63.7 
## 4     4            0.62  0.2     1.1  70.6      0.38   27.0 
## 5     5            0     0      80.1   0.95    18.4     0.58
## 6     6            0     0.03   18.6   0.05    81.2     0.03</code></pre>
<p>Survace under the cumulative ranking curve (SUCRA)는 결과물중 sucraplot에 담겨 있다.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="Chapter7.html#cb128-1" aria-hidden="true" tabindex="-1"></a>sucra.out<span class="sc">$</span>sucraplot</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-59-1.png" width="672" /></p>
<p>SUCRA plot의 수치적 정보는 다음과 같이 추출한다.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="Chapter7.html#cb129-1" aria-hidden="true" tabindex="-1"></a>sucra.out<span class="sc">$</span>sucratable</span></code></pre></div>
<pre><code>## # A tibble: 7 x 7
##   rank  `ACE inhibitor` ARB   blocker CCB   Diuretic Placebo
##   &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;  
## 1 1     22.18           77.2  0       0     0        0.62   
## 2 2     92.48           97.05 0       1.85  0        8.62   
## 3 3     99.38           99.77 0.12    28.35 0.03     72.35  
## 4 4     100             99.97 1.22    99    0.41     99.4   
## 5 5     100             99.97 81.34   99.95 18.76    99.98  
## 6 6     100             100   99.99   100   100.01   100.01 
## 7 SUCRA 82.81           94.79 16.54   45.83 3.84     56.19</code></pre>
<p>네트워크 메타분석의 결과를 요약하는 또 다른 방법은 League table을 산출하는 것이다. League table은 모든 중재간의 상대 효과크기와 95% 신용구간을 포함한다.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="Chapter7.html#cb131-1" aria-hidden="true" tabindex="-1"></a>league.out <span class="ot">&lt;-</span> BUGSnet<span class="sc">::</span><span class="fu">nma.league</span>(mcmc_ran,</span>
<span id="cb131-2"><a href="Chapter7.html#cb131-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">central.tdcy=</span><span class="st">&quot;median&quot;</span>,</span>
<span id="cb131-3"><a href="Chapter7.html#cb131-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">order=</span>sucra.out<span class="sc">$</span>order,</span>
<span id="cb131-4"><a href="Chapter7.html#cb131-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">log.scale=</span><span class="cn">FALSE</span>,</span>
<span id="cb131-5"><a href="Chapter7.html#cb131-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">low.colour=</span><span class="st">&quot;springgreen4&quot;</span>,</span>
<span id="cb131-6"><a href="Chapter7.html#cb131-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mid.colour=</span><span class="st">&quot;white&quot;</span>,</span>
<span id="cb131-7"><a href="Chapter7.html#cb131-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">high.colour=</span><span class="st">&quot;red&quot;</span>,</span>
<span id="cb131-8"><a href="Chapter7.html#cb131-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">digits=</span><span class="dv">2</span>)</span>
<span id="cb131-9"><a href="Chapter7.html#cb131-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-10"><a href="Chapter7.html#cb131-10" aria-hidden="true" tabindex="-1"></a>league.out<span class="sc">$</span>heatplot</span></code></pre></div>
<p><img src="meta_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
<p>여기서 hazard ratio의 원 scale을 유지하기 위해 log.scale=FALSE 옵션을 사용한다. 녹색은 treatment가 더 좋은 효과를 의미하고 (추정값이 1보다 작은), 반대로 빨간색은 효과가 나쁨을 의미한다. **는 신용구간이 1을 포함하지 않음을 의미하기 때문에 통계적으로 유의한 차이를 의미한다. 이 결과를 테이블로 추출하면 다음과 같다.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="Chapter7.html#cb132-1" aria-hidden="true" tabindex="-1"></a>league.out<span class="sc">$</span>table</span></code></pre></div>
<pre><code>##               ARB                   ACE inhibitor         Placebo              
## ARB           &quot;ARB&quot;                 &quot;1.07 (0.88 to 1.31)&quot; &quot;1.20 (0.99 to 1.44)&quot;
## ACE inhibitor &quot;0.93 (0.76 to 1.13)&quot; &quot;ACE inhibitor&quot;       &quot;1.12 (0.97 to 1.29)&quot;
## Placebo       &quot;0.83 (0.69 to 1.01)&quot; &quot;0.89 (0.78 to 1.04)&quot; &quot;Placebo&quot;            
## CCB           &quot;0.80 (0.65 to 0.94)&quot; &quot;0.85 (0.72 to 0.99)&quot; &quot;0.95 (0.80 to 1.11)&quot;
## blocker       &quot;0.67 (0.55 to 0.81)&quot; &quot;0.72 (0.61 to 0.84)&quot; &quot;0.81 (0.67 to 0.95)&quot;
## Diuretic      &quot;0.62 (0.50 to 0.77)&quot; &quot;0.67 (0.56 to 0.79)&quot; &quot;0.75 (0.62 to 0.89)&quot;
##               CCB                   blocker               Diuretic             
## ARB           &quot;1.26 (1.06 to 1.54)&quot; &quot;1.48 (1.23 to 1.82)&quot; &quot;1.60 (1.30 to 2.01)&quot;
## ACE inhibitor &quot;1.17 (1.01 to 1.38)&quot; &quot;1.38 (1.19 to 1.63)&quot; &quot;1.49 (1.26 to 1.77)&quot;
## Placebo       &quot;1.05 (0.90 to 1.25)&quot; &quot;1.24 (1.05 to 1.49)&quot; &quot;1.33 (1.13 to 1.61)&quot;
## CCB           &quot;CCB&quot;                 &quot;1.18 (1.04 to 1.34)&quot; &quot;1.27 (1.09 to 1.50)&quot;
## blocker       &quot;0.85 (0.75 to 0.97)&quot; &quot;blocker&quot;             &quot;1.08 (0.91 to 1.29)&quot;
## Diuretic      &quot;0.79 (0.67 to 0.92)&quot; &quot;0.93 (0.78 to 1.10)&quot; &quot;Diuretic&quot;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter6.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["meta.pdf", "meta.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
