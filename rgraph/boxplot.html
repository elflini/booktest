<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Boxplot | R Graph</title>
  <meta name="description" content="This is R code for graph, especially using ggplot2" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Boxplot | R Graph" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is R code for graph, especially using ggplot2" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Boxplot | R Graph" />
  
  <meta name="twitter:description" content="This is R code for graph, especially using ggplot2" />
  

<meta name="author" content="Jin Hyun Nam" />


<meta name="date" content="2021-08-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="histogram.html"/>
<link rel="next" href="sankey-diagram.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R graph</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>머리말</a></li>
<li class="chapter" data-level="1" data-path="histogram.html"><a href="histogram.html"><i class="fa fa-check"></i><b>1</b> Histogram</a>
<ul>
<li class="chapter" data-level="1.1" data-path="histogram.html"><a href="histogram.html#toy-data-generation"><i class="fa fa-check"></i><b>1.1</b> Toy data generation</a></li>
<li class="chapter" data-level="1.2" data-path="histogram.html"><a href="histogram.html#basic-histogram-with-ggplot2"><i class="fa fa-check"></i><b>1.2</b> Basic histogram with ggplot2</a></li>
<li class="chapter" data-level="1.3" data-path="histogram.html"><a href="histogram.html#change-the-color"><i class="fa fa-check"></i><b>1.3</b> Change the color</a></li>
<li class="chapter" data-level="1.4" data-path="histogram.html"><a href="histogram.html#change-the-width-of-bins"><i class="fa fa-check"></i><b>1.4</b> Change the width of bins</a></li>
<li class="chapter" data-level="1.5" data-path="histogram.html"><a href="histogram.html#add-mean-line"><i class="fa fa-check"></i><b>1.5</b> Add mean line</a></li>
<li class="chapter" data-level="1.6" data-path="histogram.html"><a href="histogram.html#histogram-with-density-plot"><i class="fa fa-check"></i><b>1.6</b> Histogram with density plot</a></li>
<li class="chapter" data-level="1.7" data-path="histogram.html"><a href="histogram.html#histogram-with-density-plot-and-mean-line"><i class="fa fa-check"></i><b>1.7</b> Histogram with density plot and mean line</a></li>
<li class="chapter" data-level="1.8" data-path="histogram.html"><a href="histogram.html#histogram-by-subgroup-with-stack-option"><i class="fa fa-check"></i><b>1.8</b> Histogram by subgroup with ‘stack’ option</a></li>
<li class="chapter" data-level="1.9" data-path="histogram.html"><a href="histogram.html#histogram-by-subgroup-with-identity-option"><i class="fa fa-check"></i><b>1.9</b> Histogram by subgroup with ‘identity’ option</a></li>
<li class="chapter" data-level="1.10" data-path="histogram.html"><a href="histogram.html#histogram-by-subgroup-with-dodge-option"><i class="fa fa-check"></i><b>1.10</b> Histogram by subgroup with ‘dodge’ option</a></li>
<li class="chapter" data-level="1.11" data-path="histogram.html"><a href="histogram.html#data-generation-for-means-by-group-with-dplyr-package"><i class="fa fa-check"></i><b>1.11</b> Data generation for means by group with ‘dplyr’ package</a></li>
<li class="chapter" data-level="1.12" data-path="histogram.html"><a href="histogram.html#histogram-by-subgroup-with-density-plot-and-mean-line"><i class="fa fa-check"></i><b>1.12</b> Histogram by subgroup with density plot and mean line</a></li>
<li class="chapter" data-level="1.13" data-path="histogram.html"><a href="histogram.html#data-generation-of-each-variables-instead-of-group"><i class="fa fa-check"></i><b>1.13</b> Data generation of each variables instead of group</a></li>
<li class="chapter" data-level="1.14" data-path="histogram.html"><a href="histogram.html#histogram-with-each-variables"><i class="fa fa-check"></i><b>1.14</b> Histogram with each variables</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="boxplot.html"><a href="boxplot.html"><i class="fa fa-check"></i><b>2</b> Boxplot</a>
<ul>
<li class="chapter" data-level="2.1" data-path="boxplot.html"><a href="boxplot.html#toy-data-generation-1"><i class="fa fa-check"></i><b>2.1</b> Toy data generation</a></li>
<li class="chapter" data-level="2.2" data-path="boxplot.html"><a href="boxplot.html#basic-boxplot-with-ggplot2"><i class="fa fa-check"></i><b>2.2</b> Basic Boxplot with ggplot2</a></li>
<li class="chapter" data-level="2.3" data-path="boxplot.html"><a href="boxplot.html#change-the-color-1"><i class="fa fa-check"></i><b>2.3</b> Change the color</a></li>
<li class="chapter" data-level="2.4" data-path="boxplot.html"><a href="boxplot.html#change-the-color-by-group"><i class="fa fa-check"></i><b>2.4</b> Change the color by group</a></li>
<li class="chapter" data-level="2.5" data-path="boxplot.html"><a href="boxplot.html#geom_boxplot-proposes-several-arguments-to-custom-appearance"><i class="fa fa-check"></i><b>2.5</b> geom_boxplot proposes several arguments to custom appearance</a></li>
<li class="chapter" data-level="2.6" data-path="boxplot.html"><a href="boxplot.html#boxplot-with-group-and-subgroup"><i class="fa fa-check"></i><b>2.6</b> Boxplot with group and subgroup</a></li>
<li class="chapter" data-level="2.7" data-path="boxplot.html"><a href="boxplot.html#boxplot-using-small-multiple-group"><i class="fa fa-check"></i><b>2.7</b> Boxplot using small multiple group</a></li>
<li class="chapter" data-level="2.8" data-path="boxplot.html"><a href="boxplot.html#boxplot-with-different-box-widths"><i class="fa fa-check"></i><b>2.8</b> Boxplot with different box widths</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sankey-diagram.html"><a href="sankey-diagram.html"><i class="fa fa-check"></i><b>3</b> Sankey Diagram</a>
<ul>
<li class="chapter" data-level="3.1" data-path="sankey-diagram.html"><a href="sankey-diagram.html#from-connection-data-frame"><i class="fa fa-check"></i><b>3.1</b> From connection data frame</a></li>
<li class="chapter" data-level="3.2" data-path="sankey-diagram.html"><a href="sankey-diagram.html#from-incidence-matrix"><i class="fa fa-check"></i><b>3.2</b> From incidence matrix</a></li>
<li class="chapter" data-level="3.3" data-path="sankey-diagram.html"><a href="sankey-diagram.html#결핵-치료-예제"><i class="fa fa-check"></i><b>3.3</b> 결핵 치료 예제</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Graph</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="boxplot" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Boxplot</h1>
<p>In descriptive statistics, a box plot or boxplot is a method for graphically depicting groups of numerical data through their quartiles. Box plots may also have lines extending from the boxes (whiskers) indicating variability outside the upper and lower quartiles, hence the terms box-and-whisker plot and box-and-whisker diagram. Outliers may be plotted as individual points. Box plots are non-parametric: they display variation in samples of a statistical population without making any assumptions of the underlying statistical distribution (though Tukey’s boxplot assumes symmetry for the whiskers and normality for their length). The spacings between the different parts of the box indicate the degree of dispersion (spread) and skewness in the data, and show outliers. In addition to the points themselves, they allow one to visually estimate various L-estimators, notably the interquartile range, midhinge, range, mid-range, and trimean. Box plots can be drawn either horizontally or vertically. Box plots received their name from the box in the middle.
<a href="https://en.wikipedia.org/wiki/Box_plot">(Box plot - Wikipedia)</a></p>
<p>A boxplot is a standardized way of displaying the dataset based on a five-number summary: the minimum, the maximum, the sample median, and the first and third quartiles.</p>
<ul>
<li><p>Minimum (Q0 or 0th percentile): the lowest data point excluding any outliers.</p></li>
<li><p>Maximum (Q4 or 100th percentile): the largest data point excluding any outliers.</p></li>
<li><p>Median (Q2 or 50th percentile): the middle value of the dataset.</p></li>
<li><p>First quartile (Q1 or 25th percentile): also known as the lower quartile qn(0.25), is the median of the lower half of the dataset.</p></li>
<li><p>Third quartile (Q3 or 75th percentile): also known as the upper quartile qn(0.75), is the median of the upper half of the dataset</p></li>
</ul>
<p><img src="f1.png" /></p>
<div id="toy-data-generation-1" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Toy data generation</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="boxplot.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">20210113</span>)</span>
<span id="cb1-2"><a href="boxplot.html#cb1-2" aria-hidden="true" tabindex="-1"></a>box_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">group=</span><span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>), <span class="at">each=</span><span class="dv">200</span>)),</span>
<span id="cb1-3"><a href="boxplot.html#cb1-3" aria-hidden="true" tabindex="-1"></a> <span class="at">value=</span><span class="fu">round</span>(<span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">200</span>, <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">5</span>),<span class="fu">rnorm</span>(<span class="dv">200</span>,<span class="at">mean=</span><span class="dv">10</span>,<span class="at">sd=</span><span class="dv">20</span>), <span class="fu">rnorm</span>(<span class="dv">200</span>, <span class="at">mean=</span><span class="dv">20</span>, <span class="at">sd=</span><span class="dv">10</span>))))</span>
<span id="cb1-4"><a href="boxplot.html#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="boxplot.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(box_data)</span></code></pre></div>
<pre><code>##   group value
## 1     A    -3
## 2     A     9
## 3     A     1
## 4     A     6
## 5     A    -6
## 6     A    -5</code></pre>
</div>
<div id="basic-boxplot-with-ggplot2" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Basic Boxplot with ggplot2</h2>
<p>You can also embed plots, for example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="boxplot.html#cb3-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="boxplot.html#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="boxplot.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic Boxplot</span></span>
<span id="cb3-4"><a href="boxplot.html#cb3-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(box_data, <span class="fu">aes</span>(<span class="at">x=</span><span class="dv">1</span>, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb3-5"><a href="boxplot.html#cb3-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="graph_files/figure-html/basic-1.png" width="672" /></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="boxplot.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic Boxplot</span></span>
<span id="cb4-2"><a href="boxplot.html#cb4-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(box_data, <span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb4-3"><a href="boxplot.html#cb4-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="graph_files/figure-html/basic-2.png" width="672" /></p>
</div>
<div id="change-the-color-1" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Change the color</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="boxplot.html#cb5-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(box_data, <span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb5-2"><a href="boxplot.html#cb5-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="st">&quot;#6787B7&quot;</span>, <span class="at">colour=</span><span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic2-1.png" width="672" /></p>
</div>
<div id="change-the-color-by-group" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Change the color by group</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="boxplot.html#cb6-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(box_data, <span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>value, <span class="at">fill=</span>group)) <span class="sc">+</span> </span>
<span id="cb6-2"><a href="boxplot.html#cb6-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_boxplot</span>(<span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb6-3"><a href="boxplot.html#cb6-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;BuPu&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="boxplot.html#cb6-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic3-1.png" width="672" /></p>
</div>
<div id="geom_boxplot-proposes-several-arguments-to-custom-appearance" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> geom_boxplot proposes several arguments to custom appearance</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="boxplot.html#cb7-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(box_data, <span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb7-2"><a href="boxplot.html#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(</span>
<span id="cb7-3"><a href="boxplot.html#cb7-3" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-4"><a href="boxplot.html#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># custom boxes</span></span>
<span id="cb7-5"><a href="boxplot.html#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">color=</span><span class="st">&quot;#8D6E97&quot;</span>,</span>
<span id="cb7-6"><a href="boxplot.html#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill=</span><span class="st">&quot;#8D6E97&quot;</span>,</span>
<span id="cb7-7"><a href="boxplot.html#cb7-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha=</span><span class="fl">0.3</span>,</span>
<span id="cb7-8"><a href="boxplot.html#cb7-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-9"><a href="boxplot.html#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Notch?</span></span>
<span id="cb7-10"><a href="boxplot.html#cb7-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">notch=</span><span class="cn">TRUE</span>,</span>
<span id="cb7-11"><a href="boxplot.html#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">notchwidth =</span> <span class="fl">0.8</span>,</span>
<span id="cb7-12"><a href="boxplot.html#cb7-12" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-13"><a href="boxplot.html#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># custom outliers</span></span>
<span id="cb7-14"><a href="boxplot.html#cb7-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">outlier.colour=</span><span class="st">&quot;red&quot;</span>,</span>
<span id="cb7-15"><a href="boxplot.html#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">outlier.fill=</span><span class="st">&quot;red&quot;</span>,</span>
<span id="cb7-16"><a href="boxplot.html#cb7-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">outlier.size=</span><span class="dv">3</span></span>
<span id="cb7-17"><a href="boxplot.html#cb7-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-18"><a href="boxplot.html#cb7-18" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-19"><a href="boxplot.html#cb7-19" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="graph_files/figure-html/basic4-1.png" width="672" /></p>
</div>
<div id="boxplot-with-group-and-subgroup" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Boxplot with group and subgroup</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="boxplot.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a data frame</span></span>
<span id="cb8-2"><a href="boxplot.html#cb8-2" aria-hidden="true" tabindex="-1"></a>variety<span class="ot">=</span><span class="fu">rep</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="at">each=</span><span class="dv">40</span>)</span>
<span id="cb8-3"><a href="boxplot.html#cb8-3" aria-hidden="true" tabindex="-1"></a>treatment<span class="ot">=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;high&quot;</span>,<span class="st">&quot;low&quot;</span>),<span class="at">each=</span><span class="dv">20</span>)</span>
<span id="cb8-4"><a href="boxplot.html#cb8-4" aria-hidden="true" tabindex="-1"></a>note<span class="ot">=</span><span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">280</span>)<span class="sc">+</span><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">150</span>, <span class="dv">280</span>, <span class="at">replace=</span>T)</span>
<span id="cb8-5"><a href="boxplot.html#cb8-5" aria-hidden="true" tabindex="-1"></a>data<span class="ot">=</span><span class="fu">data.frame</span>(variety, treatment ,  note)</span>
<span id="cb8-6"><a href="boxplot.html#cb8-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb8-7"><a href="boxplot.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># grouped boxplot</span></span>
<span id="cb8-8"><a href="boxplot.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>variety, <span class="at">y=</span>note, <span class="at">fill=</span>treatment)) <span class="sc">+</span> </span>
<span id="cb8-9"><a href="boxplot.html#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha=</span><span class="fl">0.3</span>)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic5-1.png" width="672" /></p>
</div>
<div id="boxplot-using-small-multiple-group" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Boxplot using small multiple group</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="boxplot.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># One box per treatment</span></span>
<span id="cb9-2"><a href="boxplot.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>variety, <span class="at">y=</span>note, <span class="at">fill=</span>treatment)) <span class="sc">+</span> </span>
<span id="cb9-3"><a href="boxplot.html#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha=</span><span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href="boxplot.html#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>treatment)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic6-1.png" width="672" /></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="boxplot.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># one box per variety</span></span>
<span id="cb10-2"><a href="boxplot.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>variety, <span class="at">y=</span>note, <span class="at">fill=</span>treatment)) <span class="sc">+</span> </span>
<span id="cb10-3"><a href="boxplot.html#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha=</span><span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb10-4"><a href="boxplot.html#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>variety, <span class="at">scale=</span><span class="st">&quot;free&quot;</span>)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic6-2.png" width="672" /></p>
</div>
<div id="boxplot-with-different-box-widths" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Boxplot with different box widths</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="boxplot.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create data</span></span>
<span id="cb11-2"><a href="boxplot.html#cb11-2" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;A&quot;</span>, <span class="dv">20</span>) , <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>, <span class="dv">5</span>) , <span class="fu">rep</span>(<span class="st">&quot;C&quot;</span>, <span class="dv">30</span>), <span class="fu">rep</span>(<span class="st">&quot;D&quot;</span>, <span class="dv">100</span>))</span>
<span id="cb11-3"><a href="boxplot.html#cb11-3" aria-hidden="true" tabindex="-1"></a>value <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="fu">sample</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">20</span> , <span class="at">replace=</span>T) , <span class="fu">sample</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">5</span> , <span class="at">replace=</span>T), <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="dv">30</span> , <span class="at">replace=</span>T), <span class="fu">sample</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>, <span class="dv">100</span> , <span class="at">replace=</span>T) )</span>
<span id="cb11-4"><a href="boxplot.html#cb11-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(names,value)</span>
<span id="cb11-5"><a href="boxplot.html#cb11-5" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb11-6"><a href="boxplot.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare a special xlab with the number of obs for each group</span></span>
<span id="cb11-7"><a href="boxplot.html#cb11-7" aria-hidden="true" tabindex="-1"></a>my_xlab <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">levels</span>(data<span class="sc">$</span>names),<span class="st">&quot;</span><span class="sc">\n</span><span class="st">(N=&quot;</span>,<span class="fu">table</span>(data<span class="sc">$</span>names),<span class="st">&quot;)&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb11-8"><a href="boxplot.html#cb11-8" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb11-9"><a href="boxplot.html#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb11-10"><a href="boxplot.html#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>names, <span class="at">y=</span>value, <span class="at">fill=</span>names)) <span class="sc">+</span></span>
<span id="cb11-11"><a href="boxplot.html#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">varwidth =</span> <span class="cn">TRUE</span>, <span class="at">alpha=</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb11-12"><a href="boxplot.html#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-13"><a href="boxplot.html#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_discrete</span>(<span class="at">labels=</span>my_xlab)</span></code></pre></div>
<p><img src="graph_files/figure-html/hist7-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="histogram.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sankey-diagram.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["graph.pdf", "graph.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
