<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Histogram | R Graph</title>
  <meta name="description" content="This is R code for graph, especially using ggplot2" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Histogram | R Graph" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is R code for graph, especially using ggplot2" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Histogram | R Graph" />
  
  <meta name="twitter:description" content="This is R code for graph, especially using ggplot2" />
  

<meta name="author" content="Jin Hyun Nam" />


<meta name="date" content="2021-06-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R graph</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>머리말</a></li>
<li class="chapter" data-level="1" data-path="histogram.html"><a href="histogram.html"><i class="fa fa-check"></i><b>1</b> Histogram</a>
<ul>
<li class="chapter" data-level="1.1" data-path="histogram.html"><a href="histogram.html#toy-data-generation"><i class="fa fa-check"></i><b>1.1</b> Toy data generation</a></li>
<li class="chapter" data-level="1.2" data-path="histogram.html"><a href="histogram.html#basic-histogram-with-ggplot2"><i class="fa fa-check"></i><b>1.2</b> Basic histogram with ggplot2</a></li>
<li class="chapter" data-level="1.3" data-path="histogram.html"><a href="histogram.html#change-the-color"><i class="fa fa-check"></i><b>1.3</b> Change the color</a></li>
<li class="chapter" data-level="1.4" data-path="histogram.html"><a href="histogram.html#change-the-width-of-bins"><i class="fa fa-check"></i><b>1.4</b> Change the width of bins</a></li>
<li class="chapter" data-level="1.5" data-path="histogram.html"><a href="histogram.html#add-mean-line"><i class="fa fa-check"></i><b>1.5</b> Add mean line</a></li>
<li class="chapter" data-level="1.6" data-path="histogram.html"><a href="histogram.html#histogram-with-density-plot"><i class="fa fa-check"></i><b>1.6</b> Histogram with density plot</a></li>
<li class="chapter" data-level="1.7" data-path="histogram.html"><a href="histogram.html#histogram-with-density-plot-and-mean-line"><i class="fa fa-check"></i><b>1.7</b> Histogram with density plot and mean line</a></li>
<li class="chapter" data-level="1.8" data-path="histogram.html"><a href="histogram.html#histogram-by-subgroup-with-stack-option"><i class="fa fa-check"></i><b>1.8</b> Histogram by subgroup with ‘stack’ option</a></li>
<li class="chapter" data-level="1.9" data-path="histogram.html"><a href="histogram.html#histogram-by-subgroup-with-identity-option"><i class="fa fa-check"></i><b>1.9</b> Histogram by subgroup with ‘identity’ option</a></li>
<li class="chapter" data-level="1.10" data-path="histogram.html"><a href="histogram.html#histogram-by-subgroup-with-dodge-option"><i class="fa fa-check"></i><b>1.10</b> Histogram by subgroup with ‘dodge’ option</a></li>
<li class="chapter" data-level="1.11" data-path="histogram.html"><a href="histogram.html#data-generation-for-means-by-group-with-dplyr-package"><i class="fa fa-check"></i><b>1.11</b> Data generation for means by group with ‘dplyr’ package</a></li>
<li class="chapter" data-level="1.12" data-path="histogram.html"><a href="histogram.html#histogram-by-subgroup-with-density-plot-and-mean-line"><i class="fa fa-check"></i><b>1.12</b> Histogram by subgroup with density plot and mean line</a></li>
<li class="chapter" data-level="1.13" data-path="histogram.html"><a href="histogram.html#data-generation-of-each-variables-instead-of-group"><i class="fa fa-check"></i><b>1.13</b> Data generation of each variables instead of group</a></li>
<li class="chapter" data-level="1.14" data-path="histogram.html"><a href="histogram.html#histogram-with-each-variables"><i class="fa fa-check"></i><b>1.14</b> Histogram with each variables</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Graph</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="histogram" class="section level1" number="1">
<h1><span class="header-section-number">Chapter 1</span> Histogram</h1>
<p>히스토그램(histogram)은 각 구간의 상대도수를 구간의 길이로 나눈 값을 기둥의 높이로 하거나 상대도수 혹은 도수를 직접 기둥의 높이로 표현한다. 상대도수를 구간의 길이로 나눈 값을 밀도라 하고, 상대도수의 합은 1이므로 히스토그램에서 기둥면적의 합은 1이 된다.</p>
<div id="toy-data-generation" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Toy data generation</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="histogram.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">20210113</span>)</span>
<span id="cb1-2"><a href="histogram.html#cb1-2" aria-hidden="true" tabindex="-1"></a>hist_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-3"><a href="histogram.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">group=</span><span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), <span class="at">each=</span><span class="dv">200</span>)),</span>
<span id="cb1-4"><a href="histogram.html#cb1-4" aria-hidden="true" tabindex="-1"></a> <span class="at">value=</span><span class="fu">round</span>(<span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">200</span>, <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">5</span>), <span class="fu">rnorm</span>(<span class="dv">200</span>, <span class="at">mean=</span><span class="dv">20</span>, <span class="at">sd=</span><span class="dv">10</span>)))</span>
<span id="cb1-5"><a href="histogram.html#cb1-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-6"><a href="histogram.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(hist_data)</span></code></pre></div>
<pre><code>##   group value
## 1     A    -3
## 2     A     9
## 3     A     1
## 4     A     6
## 5     A    -6
## 6     A    -5</code></pre>
</div>
<div id="basic-histogram-with-ggplot2" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Basic histogram with ggplot2</h2>
<p>You can also embed plots, for example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="histogram.html#cb3-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="histogram.html#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="histogram.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic histogram</span></span>
<span id="cb3-4"><a href="histogram.html#cb3-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value)) <span class="sc">+</span> </span>
<span id="cb3-5"><a href="histogram.html#cb3-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="graph_files/figure-html/basic-1.png" width="672" /></p>
</div>
<div id="change-the-color" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Change the color</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="histogram.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the width of bins</span></span>
<span id="cb5-2"><a href="histogram.html#cb5-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value)) <span class="sc">+</span> </span>
<span id="cb5-3"><a href="histogram.html#cb5-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">&quot;#6787B7&quot;</span>, <span class="at">colour=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="graph_files/figure-html/basic2-1.png" width="672" /></p>
</div>
<div id="change-the-width-of-bins" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> Change the width of bins</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="histogram.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the width of bins</span></span>
<span id="cb7-2"><a href="histogram.html#cb7-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value)) <span class="sc">+</span> </span>
<span id="cb7-3"><a href="histogram.html#cb7-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">5</span>,<span class="at">fill=</span><span class="st">&quot;#6DB4BB&quot;</span>, <span class="at">colour=</span><span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic3-1.png" width="672" /></p>
</div>
<div id="add-mean-line" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> Add mean line</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="histogram.html#cb8-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value)) <span class="sc">+</span> </span>
<span id="cb8-2"><a href="histogram.html#cb8-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_minimal</span>()</span>
<span id="cb8-3"><a href="histogram.html#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="histogram.html#cb8-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">1</span>,<span class="at">fill=</span><span class="st">&quot;#8D6E97&quot;</span>, <span class="at">colour=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-5"><a href="histogram.html#cb8-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept=</span><span class="fu">mean</span>(value)),</span>
<span id="cb8-6"><a href="histogram.html#cb8-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>, <span class="at">size=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic4-1.png" width="672" /></p>
</div>
<div id="histogram-with-density-plot" class="section level2" number="1.6">
<h2><span class="header-section-number">1.6</span> Histogram with density plot</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="histogram.html#cb9-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value)) <span class="sc">+</span> </span>
<span id="cb9-2"><a href="histogram.html#cb9-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_minimal</span>()</span>
<span id="cb9-3"><a href="histogram.html#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="histogram.html#cb9-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..),</span>
<span id="cb9-5"><a href="histogram.html#cb9-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">binwidth=</span><span class="dv">1</span>,<span class="at">fill=</span><span class="st">&quot;#8D6E97&quot;</span>, <span class="at">colour=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-6"><a href="histogram.html#cb9-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_density</span>(<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">fill=</span><span class="st">&quot;#6DB4BB&quot;</span>)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic5-1.png" width="672" /></p>
</div>
<div id="histogram-with-density-plot-and-mean-line" class="section level2" number="1.7">
<h2><span class="header-section-number">1.7</span> Histogram with density plot and mean line</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="histogram.html#cb10-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value)) <span class="sc">+</span> </span>
<span id="cb10-2"><a href="histogram.html#cb10-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_classic</span>()</span>
<span id="cb10-3"><a href="histogram.html#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="histogram.html#cb10-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..),</span>
<span id="cb10-5"><a href="histogram.html#cb10-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">binwidth=</span><span class="dv">3</span>,<span class="at">fill=</span><span class="st">&quot;#6787B7&quot;</span>, <span class="at">colour=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-6"><a href="histogram.html#cb10-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_density</span>(<span class="at">alpha=</span><span class="fl">0.3</span>, <span class="at">fill=</span><span class="st">&quot;#6DB4BB&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-7"><a href="histogram.html#cb10-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept=</span><span class="fu">mean</span>(value)),</span>
<span id="cb10-8"><a href="histogram.html#cb10-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>, <span class="at">size=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="graph_files/figure-html/basic6-1.png" width="672" /></p>
</div>
<div id="histogram-by-subgroup-with-stack-option" class="section level2" number="1.8">
<h2><span class="header-section-number">1.8</span> Histogram by subgroup with ‘stack’ option</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="histogram.html#cb11-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value, <span class="at">fill=</span>group, <span class="at">color=</span>group)) <span class="sc">+</span> </span>
<span id="cb11-2"><a href="histogram.html#cb11-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;top&quot;</span>) </span>
<span id="cb11-3"><a href="histogram.html#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="histogram.html#cb11-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">position=</span><span class="st">&#39;stack&#39;</span>) <span class="sc">+</span></span>
<span id="cb11-5"><a href="histogram.html#cb11-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#6787B7&quot;</span>,<span class="st">&quot;#6DB4BB&quot;</span>)) <span class="sc">+</span></span>
<span id="cb11-6"><a href="histogram.html#cb11-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#6787B7&quot;</span>,<span class="st">&quot;#6DB4BB&quot;</span>))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="graph_files/figure-html/hist7-1.png" width="672" /></p>
</div>
<div id="histogram-by-subgroup-with-identity-option" class="section level2" number="1.9">
<h2><span class="header-section-number">1.9</span> Histogram by subgroup with ‘identity’ option</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="histogram.html#cb13-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value, <span class="at">fill=</span>group, <span class="at">color=</span>group)) <span class="sc">+</span> </span>
<span id="cb13-2"><a href="histogram.html#cb13-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_bw</span>()</span>
<span id="cb13-3"><a href="histogram.html#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="histogram.html#cb13-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">position=</span><span class="st">&#39;identity&#39;</span>) <span class="sc">+</span></span>
<span id="cb13-5"><a href="histogram.html#cb13-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#6DB4BB&quot;</span>,<span class="st">&quot;#8D6E97&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb13-6"><a href="histogram.html#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#6DB4BB&quot;</span>,<span class="st">&quot;#8D6E97&quot;</span>))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="graph_files/figure-html/hist8-1.png" width="672" /></p>
</div>
<div id="histogram-by-subgroup-with-dodge-option" class="section level2" number="1.10">
<h2><span class="header-section-number">1.10</span> Histogram by subgroup with ‘dodge’ option</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="histogram.html#cb15-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value, <span class="at">fill=</span>group, <span class="at">color=</span>group)) <span class="sc">+</span> </span>
<span id="cb15-2"><a href="histogram.html#cb15-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_classic</span>()</span>
<span id="cb15-3"><a href="histogram.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="histogram.html#cb15-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">position=</span><span class="st">&#39;dodge&#39;</span>)<span class="sc">+</span></span>
<span id="cb15-5"><a href="histogram.html#cb15-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#6787B7&quot;</span>,<span class="st">&quot;#8D6E97&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb15-6"><a href="histogram.html#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#6787B7&quot;</span>,<span class="st">&quot;#8D6E97&quot;</span>))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="graph_files/figure-html/hist9-1.png" width="672" /></p>
</div>
<div id="data-generation-for-means-by-group-with-dplyr-package" class="section level2" number="1.11">
<h2><span class="header-section-number">1.11</span> Data generation for means by group with ‘dplyr’ package</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="histogram.html#cb17-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">library</span>(plyr)</span>
<span id="cb17-2"><a href="histogram.html#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="histogram.html#cb17-3" aria-hidden="true" tabindex="-1"></a> mu <span class="ot">&lt;-</span> <span class="fu">ddply</span>(hist_data, <span class="st">&quot;group&quot;</span>, summarise, <span class="at">grp.mean=</span><span class="fu">mean</span>(value))</span>
<span id="cb17-4"><a href="histogram.html#cb17-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">head</span>(mu)</span></code></pre></div>
<pre><code>##   group grp.mean
## 1     A    0.260
## 2     B   20.285</code></pre>
</div>
<div id="histogram-by-subgroup-with-density-plot-and-mean-line" class="section level2" number="1.12">
<h2><span class="header-section-number">1.12</span> Histogram by subgroup with density plot and mean line</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="histogram.html#cb19-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(hist_data, <span class="fu">aes</span>(<span class="at">x=</span>value, <span class="at">fill=</span>group, <span class="at">color=</span>group)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="histogram.html#cb19-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..), <span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">position=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb19-3"><a href="histogram.html#cb19-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#6DB4BB&quot;</span>,<span class="st">&quot;#8D6E97&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb19-4"><a href="histogram.html#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#6DB4BB&quot;</span>,<span class="st">&quot;#8D6E97&quot;</span>)) <span class="sc">+</span></span>
<span id="cb19-5"><a href="histogram.html#cb19-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_density</span>(<span class="at">alpha=</span><span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb19-6"><a href="histogram.html#cb19-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_vline</span>(<span class="at">data=</span>mu, <span class="fu">aes</span>(<span class="at">xintercept=</span>grp.mean, <span class="at">color=</span>group),</span>
<span id="cb19-7"><a href="histogram.html#cb19-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>, <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb19-8"><a href="histogram.html#cb19-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;top&quot;</span>) <span class="sc">+</span></span>
<span id="cb19-9"><a href="histogram.html#cb19-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_bw</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="graph_files/figure-html/hist10-1.png" width="672" /></p>
</div>
<div id="data-generation-of-each-variables-instead-of-group" class="section level2" number="1.13">
<h2><span class="header-section-number">1.13</span> Data generation of each variables instead of group</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="histogram.html#cb21-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb21-2"><a href="histogram.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">var1 =</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>),</span>
<span id="cb21-3"><a href="histogram.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">var2 =</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="at">mean=</span><span class="dv">2</span>)</span>
<span id="cb21-4"><a href="histogram.html#cb21-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-5"><a href="histogram.html#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="histogram.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code></pre></div>
<pre><code>##         var1      var2
## 1  1.5066705 0.8726667
## 2  0.9508955 1.7650135
## 3 -1.5555978 2.6735744
## 4 -0.7504949 4.6468663
## 5 -1.8655039 3.0681393
## 6 -0.3830811 1.9689251</code></pre>
</div>
<div id="histogram-with-each-variables" class="section level2" number="1.14">
<h2><span class="header-section-number">1.14</span> Histogram with each variables</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="histogram.html#cb23-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x) ) <span class="sc">+</span></span>
<span id="cb23-2"><a href="histogram.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>( <span class="fu">aes</span>(<span class="at">x =</span> var1, <span class="at">y =</span> ..density..), <span class="at">fill=</span><span class="st">&quot;#6DB4BB&quot;</span>, <span class="at">color=</span><span class="st">&quot;white&quot;</span> ) <span class="sc">+</span></span>
<span id="cb23-3"><a href="histogram.html#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>( <span class="fu">aes</span>(<span class="at">x=</span><span class="fl">4.5</span>, <span class="at">y=</span><span class="fl">0.25</span>, <span class="at">label=</span><span class="st">&quot;Group1&quot;</span>), <span class="at">color=</span><span class="st">&quot;#6DB4BB&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-4"><a href="histogram.html#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>( <span class="fu">aes</span>(<span class="at">x =</span> var2, <span class="at">y =</span> <span class="sc">-</span>..density..), <span class="at">fill=</span> <span class="st">&quot;#8D6E97&quot;</span>, <span class="at">color=</span><span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="histogram.html#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>( <span class="fu">aes</span>(<span class="at">x=</span><span class="fl">4.5</span>, <span class="at">y=</span><span class="sc">-</span><span class="fl">0.25</span>, <span class="at">label=</span><span class="st">&quot;Group2&quot;</span>), <span class="at">color=</span><span class="st">&quot;#8D6E97&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-6"><a href="histogram.html#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;value of x&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="graph_files/figure-html/histdata2-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["graph.pdf", "graph.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
