<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 새로운 변수의 생성 | SAS Manual</title>
  <meta name="description" content="This is a Manual for SAS" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 새로운 변수의 생성 | SAS Manual" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a Manual for SAS" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 새로운 변수의 생성 | SAS Manual" />
  
  <meta name="twitter:description" content="This is a Manual for SAS" />
  

<meta name="author" content="Jin Hyun Nam" />


<meta name="date" content="2022-01-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapter4.html"/>
<link rel="next" href="chapter6.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SAS Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>머리말</a></li>
<li class="chapter" data-level="1" data-path="chapter1.html"><a href="chapter1.html"><i class="fa fa-check"></i><b>1</b> SAS 개요</a>
<ul>
<li class="chapter" data-level="1.1" data-path="chapter1.html"><a href="chapter1.html#sas-system"><i class="fa fa-check"></i><b>1.1</b> SAS System</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="chapter1.html"><a href="chapter1.html#sas-프로그램의-구성"><i class="fa fa-check"></i><b>1.1.1</b> SAS 프로그램의 구성</a></li>
<li class="chapter" data-level="1.1.2" data-path="chapter1.html"><a href="chapter1.html#sas-system의-장점"><i class="fa fa-check"></i><b>1.1.2</b> SAS System의 장점</a></li>
<li class="chapter" data-level="1.1.3" data-path="chapter1.html"><a href="chapter1.html#sas-system의-단점"><i class="fa fa-check"></i><b>1.1.3</b> SAS System의 단점</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="chapter1.html"><a href="chapter1.html#sas-화면"><i class="fa fa-check"></i><b>1.2</b> SAS 화면</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="chapter1.html"><a href="chapter1.html#sas-화면구성"><i class="fa fa-check"></i><b>1.2.1</b> SAS 화면구성</a></li>
<li class="chapter" data-level="1.2.2" data-path="chapter1.html"><a href="chapter1.html#메뉴"><i class="fa fa-check"></i><b>1.2.2</b> 메뉴</a></li>
<li class="chapter" data-level="1.2.3" data-path="chapter1.html"><a href="chapter1.html#도구모음"><i class="fa fa-check"></i><b>1.2.3</b> 도구모음</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapter2.html"><a href="chapter2.html"><i class="fa fa-check"></i><b>2</b> SAS의 기본 형식</a>
<ul>
<li class="chapter" data-level="2.1" data-path="chapter2.html"><a href="chapter2.html#input문"><i class="fa fa-check"></i><b>2.1</b> INPUT문</a></li>
<li class="chapter" data-level="2.2" data-path="chapter2.html"><a href="chapter2.html#proc-print-형식"><i class="fa fa-check"></i><b>2.2</b> PROC PRINT　형식</a></li>
<li class="chapter" data-level="2.3" data-path="chapter2.html"><a href="chapter2.html#proc-tabulate-형식"><i class="fa fa-check"></i><b>2.3</b> PROC TABULATE 형식</a></li>
<li class="chapter" data-level="2.4" data-path="chapter2.html"><a href="chapter2.html#option문-형식"><i class="fa fa-check"></i><b>2.4</b> OPTION문 형식</a></li>
<li class="chapter" data-level="2.5" data-path="chapter2.html"><a href="chapter2.html#title문-형식"><i class="fa fa-check"></i><b>2.5</b> TITLE문 형식</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter3.html"><a href="chapter3.html"><i class="fa fa-check"></i><b>3</b> INPUT문에서 관찰값 읽기</a>
<ul>
<li class="chapter" data-level="3.1" data-path="chapter3.html"><a href="chapter3.html#cards문과-cards4문"><i class="fa fa-check"></i><b>3.1</b> CARDS문과 CARDS4문</a></li>
<li class="chapter" data-level="3.2" data-path="chapter3.html"><a href="chapter3.html#결측값이-있는-경우"><i class="fa fa-check"></i><b>3.2</b> 결측값이 있는 경우</a></li>
<li class="chapter" data-level="3.3" data-path="chapter3.html"><a href="chapter3.html#관찰값내에-공백이-있는-경우"><i class="fa fa-check"></i><b>3.3</b> 관찰값내에 공백이 있는 경우</a></li>
<li class="chapter" data-level="3.4" data-path="chapter3.html"><a href="chapter3.html#input문에서-변수-순서-바꾸기"><i class="fa fa-check"></i><b>3.4</b> INPUT문에서 변수 순서 바꾸기</a></li>
<li class="chapter" data-level="3.5" data-path="chapter3.html"><a href="chapter3.html#comma가-포함된-관찰값-읽기"><i class="fa fa-check"></i><b>3.5</b> COMMA(,)가 포함된 관찰값 읽기</a></li>
<li class="chapter" data-level="3.6" data-path="chapter3.html"><a href="chapter3.html#colon을-이용하여-관찰값-읽기"><i class="fa fa-check"></i><b>3.6</b> COLON(:)을 이용하여 관찰값 읽기</a></li>
<li class="chapter" data-level="3.7" data-path="chapter3.html"><a href="chapter3.html#ampersand을-이용하여-관찰값-읽기"><i class="fa fa-check"></i><b>3.7</b> AMPERSAND(&amp;)을 이용하여 관찰값 읽기</a></li>
<li class="chapter" data-level="3.8" data-path="chapter3.html"><a href="chapter3.html#input문에서-사용과-if문"><i class="fa fa-check"></i><b>3.8</b> INPUT문에서 <span class="citation">(<span><strong>사용과?</strong></span>)</span> IF문</a></li>
<li class="chapter" data-level="3.9" data-path="chapter3.html"><a href="chapter3.html#input문에서-자릿수-지정하기"><i class="fa fa-check"></i><b>3.9</b> INPUT문에서 자릿수 지정하기</a></li>
<li class="chapter" data-level="3.10" data-path="chapter3.html"><a href="chapter3.html#를-이용한-포인터-이동"><i class="fa fa-check"></i><b>3.10</b> +를 이용한 포인터 이동</a></li>
<li class="chapter" data-level="3.11" data-path="chapter3.html"><a href="chapter3.html#input문에서-사용하기"><i class="fa fa-check"></i><b>3.11</b> INPUT문에서 @@ 사용하기</a></li>
<li class="chapter" data-level="3.12" data-path="chapter3.html"><a href="chapter3.html#여러-개의-input문-사용하기"><i class="fa fa-check"></i><b>3.12</b> 여러 개의 INPUT문 사용하기</a></li>
<li class="chapter" data-level="3.13" data-path="chapter3.html"><a href="chapter3.html#input문에서-slash-사용하기"><i class="fa fa-check"></i><b>3.13</b> INPUT문에서 SLASH(/) 사용하기</a></li>
<li class="chapter" data-level="3.14" data-path="chapter3.html"><a href="chapter3.html#줄-포인터-사용하기"><i class="fa fa-check"></i><b>3.14</b> 줄 포인터 # 사용하기</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chapter4.html"><a href="chapter4.html"><i class="fa fa-check"></i><b>4</b> SET문 활용</a>
<ul>
<li class="chapter" data-level="4.1" data-path="chapter4.html"><a href="chapter4.html#칼럼-포인터-사용하기와-label문-사용하기"><i class="fa fa-check"></i><b>4.1</b> 칼럼 포인터 @ 사용하기와 LABEL문 사용하기</a></li>
<li class="chapter" data-level="4.2" data-path="chapter4.html"><a href="chapter4.html#proc-contents의-형식"><i class="fa fa-check"></i><b>4.2</b> PROC CONTENTS의 형식</a></li>
<li class="chapter" data-level="4.3" data-path="chapter4.html"><a href="chapter4.html#특정-변수를-취하여-새로운-dataset-만들기-keep문"><i class="fa fa-check"></i><b>4.3</b> 특정 변수를 취하여 새로운 DATASET 만들기 (KEEP문)</a></li>
<li class="chapter" data-level="4.4" data-path="chapter4.html"><a href="chapter4.html#특정-변수를-제외하고-새로운-dataset-만들기-drop문"><i class="fa fa-check"></i><b>4.4</b> 특정 변수를 제외하고 새로운 DATASET 만들기 (DROP문)</a></li>
<li class="chapter" data-level="4.5" data-path="chapter4.html"><a href="chapter4.html#특정-관찰값부터-시작하여-dataset-만들기firstobs문"><i class="fa fa-check"></i><b>4.5</b> 특정 관찰값부터 시작하여 DATASET 만들기(FIRSTOBS문)</a></li>
<li class="chapter" data-level="4.6" data-path="chapter4.html"><a href="chapter4.html#기존-dataset으로-다수의-새로운-dataset-만들기"><i class="fa fa-check"></i><b>4.6</b> 기존 DATASET으로 다수의 새로운 DATASET 만들기</a></li>
<li class="chapter" data-level="4.7" data-path="chapter4.html"><a href="chapter4.html#변수-이름-바꾸기"><i class="fa fa-check"></i><b>4.7</b> 변수 이름 바꾸기</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapter5.html"><a href="chapter5.html"><i class="fa fa-check"></i><b>5</b> 새로운 변수의 생성</a>
<ul>
<li class="chapter" data-level="5.1" data-path="chapter5.html"><a href="chapter5.html#proc-print-형식-2"><i class="fa fa-check"></i><b>5.1</b> PROC PRINT 형식 2</a></li>
<li class="chapter" data-level="5.2" data-path="chapter5.html"><a href="chapter5.html#새로운-변수-만들기"><i class="fa fa-check"></i><b>5.2</b> 새로운 변수 만들기</a></li>
<li class="chapter" data-level="5.3" data-path="chapter5.html"><a href="chapter5.html#if문의-형식"><i class="fa fa-check"></i><b>5.3</b> IF문의 형식</a></li>
<li class="chapter" data-level="5.4" data-path="chapter5.html"><a href="chapter5.html#변수의-값-바꾸기"><i class="fa fa-check"></i><b>5.4</b> 변수의 값 바꾸기</a></li>
<li class="chapter" data-level="5.5" data-path="chapter5.html"><a href="chapter5.html#변수의-관찰값-길이-정하기"><i class="fa fa-check"></i><b>5.5</b> 변수의 관찰값 길이 정하기</a></li>
<li class="chapter" data-level="5.6" data-path="chapter5.html"><a href="chapter5.html#특정-관찰값들을-삭제하기-if-delete문"><i class="fa fa-check"></i><b>5.6</b> 특정 관찰값들을 삭제하기 (IF, DELETE문)</a></li>
<li class="chapter" data-level="5.7" data-path="chapter5.html"><a href="chapter5.html#수식을-이용한-변수생성"><i class="fa fa-check"></i><b>5.7</b> 수식을 이용한 변수생성</a></li>
<li class="chapter" data-level="5.8" data-path="chapter5.html"><a href="chapter5.html#round-sum-함수를-이용한-새로운-변수의-생성"><i class="fa fa-check"></i><b>5.8</b> ROUND, SUM 함수를 이용한 새로운 변수의 생성</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapter6.html"><a href="chapter6.html"><i class="fa fa-check"></i><b>6</b> IF문 사용하기</a>
<ul>
<li class="chapter" data-level="6.1" data-path="chapter6.html"><a href="chapter6.html#if-else문"><i class="fa fa-check"></i><b>6.1</b> IF ~ ; ELSE문</a></li>
<li class="chapter" data-level="6.2" data-path="chapter6.html"><a href="chapter6.html#연속자료의-범주화"><i class="fa fa-check"></i><b>6.2</b> 연속자료의 범주화</a></li>
<li class="chapter" data-level="6.3" data-path="chapter6.html"><a href="chapter6.html#조건식에서-여러-연산자-사용하기"><i class="fa fa-check"></i><b>6.3</b> 조건식에서 여러 연산자 사용하기</a></li>
<li class="chapter" data-level="6.4" data-path="chapter6.html"><a href="chapter6.html#조건식에서-연산순서"><i class="fa fa-check"></i><b>6.4</b> 조건식에서 연산순서</a></li>
<li class="chapter" data-level="6.5" data-path="chapter6.html"><a href="chapter6.html#여러-조건-사용하기"><i class="fa fa-check"></i><b>6.5</b> 5. 여러 조건 사용하기</a></li>
<li class="chapter" data-level="6.6" data-path="chapter6.html"><a href="chapter6.html#특정-관찰값-삭제"><i class="fa fa-check"></i><b>6.6</b> 특정 관찰값 삭제</a></li>
<li class="chapter" data-level="6.7" data-path="chapter6.html"><a href="chapter6.html#특정-관찰값-선택"><i class="fa fa-check"></i><b>6.7</b> 특정 관찰값 선택</a></li>
<li class="chapter" data-level="6.8" data-path="chapter6.html"><a href="chapter6.html#upcase함수를-이용한-특정-관찰값-선택"><i class="fa fa-check"></i><b>6.8</b> UPCASE함수를 이용한 특정 관찰값 선택</a></li>
<li class="chapter" data-level="6.9" data-path="chapter6.html"><a href="chapter6.html#다수의-dataset만들기-output문"><i class="fa fa-check"></i><b>6.9</b> 다수의 DATASET만들기 (OUTPUT문)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chapter7.html"><a href="chapter7.html"><i class="fa fa-check"></i><b>7</b> 자료의 정렬</a>
<ul>
<li class="chapter" data-level="7.1" data-path="chapter7.html"><a href="chapter7.html#하나의-변수에-의한-관찰값의-정렬"><i class="fa fa-check"></i><b>7.1</b> 하나의 변수에 의한 관찰값의 정렬</a></li>
<li class="chapter" data-level="7.2" data-path="chapter7.html"><a href="chapter7.html#여러-개의-변수에-의한-관찰값의-정렬"><i class="fa fa-check"></i><b>7.2</b> 여러 개의 변수에 의한 관찰값의 정렬</a></li>
<li class="chapter" data-level="7.3" data-path="chapter7.html"><a href="chapter7.html#오름차순-또는-내림차순으로-정렬하기"><i class="fa fa-check"></i><b>7.3</b> 오름차순 또는 내림차순으로 정렬하기</a></li>
<li class="chapter" data-level="7.4" data-path="chapter7.html"><a href="chapter7.html#first변수와-last변수-사용하기"><i class="fa fa-check"></i><b>7.4</b> FIRST변수와 LAST변수 사용하기</a></li>
<li class="chapter" data-level="7.5" data-path="chapter7.html"><a href="chapter7.html#동일한-관찰값의-제거"><i class="fa fa-check"></i><b>7.5</b> 동일한 관찰값의 제거</a></li>
<li class="chapter" data-level="7.6" data-path="chapter7.html"><a href="chapter7.html#proc-append"><i class="fa fa-check"></i><b>7.6</b> PROC APPEND</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chapter8.html"><a href="chapter8.html"><i class="fa fa-check"></i><b>8</b> DO - ARRAY</a>
<ul>
<li class="chapter" data-level="8.1" data-path="chapter8.html"><a href="chapter8.html#단순-do문"><i class="fa fa-check"></i><b>8.1</b> 단순 DO문</a></li>
<li class="chapter" data-level="8.2" data-path="chapter8.html"><a href="chapter8.html#반복-do문"><i class="fa fa-check"></i><b>8.2</b> 반복 DO문</a></li>
<li class="chapter" data-level="8.3" data-path="chapter8.html"><a href="chapter8.html#다중-반복-do문"><i class="fa fa-check"></i><b>8.3</b> 다중 반복 DO문</a></li>
<li class="chapter" data-level="8.4" data-path="chapter8.html"><a href="chapter8.html#조건부-do문"><i class="fa fa-check"></i><b>8.4</b> 조건부 DO문</a></li>
<li class="chapter" data-level="8.5" data-path="chapter8.html"><a href="chapter8.html#array문의-활용"><i class="fa fa-check"></i><b>8.5</b> ARRAY문의 활용</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chapter9.html"><a href="chapter9.html"><i class="fa fa-check"></i><b>9</b> 날짜 자료</a>
<ul>
<li class="chapter" data-level="9.1" data-path="chapter9.html"><a href="chapter9.html#date-문"><i class="fa fa-check"></i><b>9.1</b> DATE 문</a></li>
<li class="chapter" data-level="9.2" data-path="chapter9.html"><a href="chapter9.html#날짜-계산"><i class="fa fa-check"></i><b>9.2</b> 날짜 계산</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chapter10.html"><a href="chapter10.html"><i class="fa fa-check"></i><b>10</b> DATASET 합치기</a>
<ul>
<li class="chapter" data-level="10.1" data-path="chapter10.html"><a href="chapter10.html#두-개의-dataset-합치기-set문"><i class="fa fa-check"></i><b>10.1</b> 두 개의 DATASET 합치기 (SET문)</a></li>
<li class="chapter" data-level="10.2" data-path="chapter10.html"><a href="chapter10.html#세-개의-dataset-합치기-set문"><i class="fa fa-check"></i><b>10.2</b> 세 개의 DATASET 합치기 (SET문)</a></li>
<li class="chapter" data-level="10.3" data-path="chapter10.html"><a href="chapter10.html#변수명이-다른-네-개의-dataset-합치기-set문"><i class="fa fa-check"></i><b>10.3</b> 변수명이 다른 네 개의 DATASET 합치기 (SET문)</a></li>
<li class="chapter" data-level="10.4" data-path="chapter10.html"><a href="chapter10.html#변수명의-배열이-다른-dataset-합치기-set문"><i class="fa fa-check"></i><b>10.4</b> 변수명의 배열이 다른 DATASET 합치기 (SET문)</a></li>
<li class="chapter" data-level="10.5" data-path="chapter10.html"><a href="chapter10.html#지정된-관찰값의-길이가-다른-dataset-합치기-set문"><i class="fa fa-check"></i><b>10.5</b> 지정된 관찰값의 길이가 다른 DATASET 합치기 (SET문)</a></li>
<li class="chapter" data-level="10.6" data-path="chapter10.html"><a href="chapter10.html#proc-append의-형식"><i class="fa fa-check"></i><b>10.6</b> PROC APPEND의 형식</a></li>
<li class="chapter" data-level="10.7" data-path="chapter10.html"><a href="chapter10.html#기준-변수를-이용한-dataset-합치기-set문"><i class="fa fa-check"></i><b>10.7</b> 기준 변수를 이용한 DATASET 합치기 (SET문)</a></li>
<li class="chapter" data-level="10.8" data-path="chapter10.html"><a href="chapter10.html#두-개의-dataset-합치기-merge문"><i class="fa fa-check"></i><b>10.8</b> 두 개의 DATASET 합치기 (MERGE문)</a></li>
<li class="chapter" data-level="10.9" data-path="chapter10.html"><a href="chapter10.html#세-개의-dataset-합치기-merge문"><i class="fa fa-check"></i><b>10.9</b> 세 개의 DATASET 합치기 (MERGE문)</a></li>
<li class="chapter" data-level="10.10" data-path="chapter10.html"><a href="chapter10.html#기준변수에-의한-dataset-합치기-merge문"><i class="fa fa-check"></i><b>10.10</b> 기준변수에 의한 DATASET 합치기 (MERGE문)</a></li>
<li class="chapter" data-level="10.11" data-path="chapter10.html"><a href="chapter10.html#특정변수를-제거하고-dataset-합치기-merge문"><i class="fa fa-check"></i><b>10.11</b> 특정변수를 제거하고 DATASET 합치기 (MERGE문)</a></li>
<li class="chapter" data-level="10.12" data-path="chapter10.html"><a href="chapter10.html#두-개의-dataset-합치기-merge문-1"><i class="fa fa-check"></i><b>10.12</b> 두 개의 DATASET 합치기 (MERGE문)</a></li>
<li class="chapter" data-level="10.13" data-path="chapter10.html"><a href="chapter10.html#특정-관찰값만으로-dataset-만들기"><i class="fa fa-check"></i><b>10.13</b> 특정 관찰값만으로 DATASET 만들기</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chapter11.html"><a href="chapter11.html"><i class="fa fa-check"></i><b>11</b> 자료의 갱신</a>
<ul>
<li class="chapter" data-level="11.1" data-path="chapter11.html"><a href="chapter11.html#update문을-이용한-자료의-갱신"><i class="fa fa-check"></i><b>11.1</b> UPDATE문을 이용한 자료의 갱신</a></li>
<li class="chapter" data-level="11.2" data-path="chapter11.html"><a href="chapter11.html#기존의-값에-새로운-값을-추가하기"><i class="fa fa-check"></i><b>11.2</b> 기존의 값에 새로운 값을 추가하기</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="chapter12.html"><a href="chapter12.html"><i class="fa fa-check"></i><b>12</b> 자료의 입출력</a>
<ul>
<li class="chapter" data-level="12.1" data-path="chapter12.html"><a href="chapter12.html#자료의-입력"><i class="fa fa-check"></i><b>12.1</b> 자료의 입력</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="chapter12.html"><a href="chapter12.html#cards문-이용"><i class="fa fa-check"></i><b>12.1.1</b> CARDS문 이용</a></li>
<li class="chapter" data-level="12.1.2" data-path="chapter12.html"><a href="chapter12.html#infile-구문-이용"><i class="fa fa-check"></i><b>12.1.2</b> INFILE 구문 이용</a></li>
<li class="chapter" data-level="12.1.3" data-path="chapter12.html"><a href="chapter12.html#위저드-이용"><i class="fa fa-check"></i><b>12.1.3</b> 위저드 이용</a></li>
<li class="chapter" data-level="12.1.4" data-path="chapter12.html"><a href="chapter12.html#proc-import-이용"><i class="fa fa-check"></i><b>12.1.4</b> PROC IMPORT 이용</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="chapter12.html"><a href="chapter12.html#자료의-출력"><i class="fa fa-check"></i><b>12.2</b> 자료의 출력</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="chapter12.html"><a href="chapter12.html#위저드-이용-1"><i class="fa fa-check"></i><b>12.2.1</b> 위저드 이용</a></li>
<li class="chapter" data-level="12.2.2" data-path="chapter12.html"><a href="chapter12.html#proc-export-이용"><i class="fa fa-check"></i><b>12.2.2</b> PROC EXPORT 이용</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="chapter13.html"><a href="chapter13.html"><i class="fa fa-check"></i><b>13</b> Appendix</a>
<ul>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#arithmetic-functions"><i class="fa fa-check"></i>Arithmetic Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#character-functions"><i class="fa fa-check"></i>Character Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#date-and-time-functions"><i class="fa fa-check"></i>Date and Time Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#mathematical-functions"><i class="fa fa-check"></i>Mathematical Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#noncentrality-functions"><i class="fa fa-check"></i>Noncentrality Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#probability-and-density-functions"><i class="fa fa-check"></i>Probability and Density Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#quantile-functions"><i class="fa fa-check"></i>Quantile Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#sample-statistics-functions"><i class="fa fa-check"></i>Sample Statistics Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#state-and-zip-code-functions"><i class="fa fa-check"></i>State and ZIP Code Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#trigonometric-and-hyperbolic-functions"><i class="fa fa-check"></i>Trigonometric and Hyperbolic Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#truncation-functions"><i class="fa fa-check"></i>Truncation Functions</a></li>
<li class="chapter" data-level="" data-path="chapter13.html"><a href="chapter13.html#variable-information-functions"><i class="fa fa-check"></i>Variable Information Functions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SAS Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter5" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> 새로운 변수의 생성</h1>
<div id="proc-print-형식-2" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> PROC PRINT 형식 2</h2>
<pre><code>&lt;SAS PROGRAM&gt;

DATA travel;
     INPUT country $ nights aircost landcost vendor $;
CARDS;
France 8 793 575 Major
Spain 10 805 510 Hispania
India 10 . 489 Royal
Peru 7 722 590 Mundial
;
RUN;

PROC PRINT DATA=travel;
    TITLE &#39;DATA SET Travel&#39;;
RUN;

PROC PRINT DATA=travel(firstobs=2 obs=3) noobs double label N uniform;
    TITLE &#39;DATA SET Travel&#39;;
RUN;</code></pre>
<p>▶ 문자형 관찰값이 있는 경우 문자 변수를 읽는 방법<br />
- 문자변수로 인식 : INPUT문에서 변수명 다음에 $을 써줌 ex) country, vendor<br />
- 숫자변수로 인식 : 그냥 변수명만 나열 ex) nights, aircost, landcost</p>
<p>▶ 칼럼과 공백<br />
- INPUT문에서 변수명들 다음에 시작 칼럼과 끝 칼럼을 지정하지 않은 경우<br />
: CARDS문 다음에 오는 관찰값은 공백으로 분리<br />
- 결측값이 있는 경우 : .으로 표시<br />
- 결측값을 공백으로 처리 : 변수명 뒤에 시작칼럼과 끝 칼럼을 지정<br />
ex) INPUT country $ 2-7 nights 9-10 aircost 13-15 landcost 18-20 vendor $ 22-29;<br />
= INPUT country $ nights aircost 13-15 landcost vendor $;</p>
<pre><code>&lt;OUTPUT&gt;

                        DATA SET Travel                            

  Obs    country    nights    aircost    landcost    vendor

   1     France        8        793         575      Major
   2     Spain        10        805         510      Hispania
   3     India        10          .         489      Royal
   4     Peru          7        722         590      Mundial
   </code></pre>
<p><br></p>
<pre><code>                        DATA SET Travel       

    country    nights    aircost    landcost    vendor

       Spain       10        805         510      Hispania
       India       10          .         489      Royal
                        관측치 개수 = 2</code></pre>
<p>※ PROC PRINT의 형식</p>
<p>• SAS DATASET에 있는 내용을 출력하는 PROCEDURE</p>
<p>• DATA=출력하고자 하는 DATASET명, 지정하지 않으면 가장 최근에 생성된 DATASET 이용</p>
<p>• 인쇄되는 관찰값의 시작과 끝을 지정. FIRSTOBS=다음에 오는 숫자 (n1)번, OBS=다음의 숫자(n2).물론 이를 생략하면 DATASET의 처음부터 끝까지 출력된다.<br />
• DOUBLE은 출력할 때 빈칸을 두 칸 띄며, NOBOS는 OBS번호를 출력하지 않고, LABEL은 출력 시 변수명 대신에 해당 LABEL이 출력된다.</p>
<p>• N은 끝에 해당 DATASET의 수를 출력하고, UNIFORM은 페이지 당 출력되는 변수의 관찰값들을 지정한다.</p>
<pre><code>PROC PRINT [DATA=dataset명[(FIRSTOBS=n1 oBS=n2)][DOUBLE][NOOBS][LABEL][N][UNIFORM];
  VAR 변수명들 ;        출력할 변수의 지정, 생략하면 모든 변수 출력
  ID 변수명 ;          OBS 변호대신에 지정 변수값이 출력
  BY 변수명들 ;       BY 다음의 변수에 의해 정렬되어 있는 경우 각 수준별로 출력
  PAGEBY 변수명 ;      PAGEBY다음의 변수의 값이 바뀔 때마다 새 페이지에 출력
  SUM 변수명들 ;        지정된 변수의 합계가 출력된다.
  SUMBY 변수명들 ;    BY나 SUMBY변수의 값이 변할 때마다 합계 출력
RUN;</code></pre>
<p><br></p>
</div>
<div id="새로운-변수-만들기" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> 새로운 변수 만들기</h2>
<pre><code>&lt;SAS PROGRAM&gt;

DATA newair;
     SET travel;
     newcost=aircost+10;
RUN;
PROC PRINT DATA=newair;                
   VAR country aircost newcost;
   TITLE &#39;Increasing the Air Fare by $10 in All Observations&#39;;
RUN;</code></pre>
<p>▶ 이미 생성된 DATASET을 이용하여 새로운 변수를 추가하여 새로운 DATASET을 만드는 방법<br />
1) Newair DATASET을 살펴보면 앞에서 만들어진 travel DATASET의 모든 변수들을 취하면서 aircost라는 변수를 이용하여 생성된 newcost변수가 1개 더 있게 된다.<br />
2) 이미 있는 변수를 조작하여 새로운 변수를 만들고자 할 경우<br />
- 새로이 생성될 변수명 = 원하는 형태의 식<br />
이 때 사용되는 수식은 일반 사칙연산에서부터 SAS에 내장된 함수를 이용하여 원하는 수식을 구현한다.<br />
3) 사용할 수 있는 위치<br />
- CARDS문이 있는 경우 : DATA문 다음 CARDS문 전에 위치<br />
- CARDS문이 없는 경우 : PROCEDURE가 나오기 전단계의 RUN문 앞에 위치<br />
현재 DATASET에 적용되고 그 외의 위치에 사용하면 오류가 발생하게 된다.<br />
4) 예<br />
- newcost변수 : 이미 있는 aircost변수의 관찰값에 각각 10을 더하여 생성한다. 사용위치는 DATA newair; 다음 PROC PRINT가 실행되기 전단계의 RUN; 앞에 위치<br />
- 결과 : newair DATASET에는 country, nights, aircost, landcost, vendor변수와 aircost변수의 관찰값에 10을 더해서 만들어진 newcost변수가 존재한다.<br />
5) PRINT PROCEDURE<br />
- newair DATASET을 VAR문을 사용하지 않으면 있는 변수가 전부 출력되나 위에서는 VAR문 다음에 변수를 지정하였으므로 전체 변수들 중 해당 변수만 출력한다.</p>
<pre><code>&lt;OUTPUT&gt;

        Increasing the Air Fare by $10 in All Observations          

              Obs    country    aircost    newcost

               1     France       793        803
               2     Spain        805        815
               3     India          .          .
               4     Peru         722        732</code></pre>
<p>▶ aircost변수의 3번째 관찰값이 결측값이었으므로 aircost변수에 10을 더하여 생성된 newcost변수의 관찰값도 역시 결측값으로 인식한다.</p>
<p>※ 새로운 변수 만들기</p>
<p>• 이미 존재하는 변수를 이용하여 새로운 변수를 만들 수가 있으며, 만드는 방법은 사칙연산은 물론이고 SAS에서 지원되는 여러 가지 함수를 가자고 수식을 쓰는 형태와 마찬가지로 만들 수 있다.</p>
<p>새로운 변수명 = 수식 ;</p>
<p>※ 기본 사칙 연산 : +, -, *, / (가감승제), **(제곱) 등<br />
※ 지원되는 SAS 내장함수<br />
• ABS - 절대값 • SQRT - 제곱근<br />
• DIM - ARRAY문 사용할 때 원소의 개수 • EXP - 지수함수<br />
• MOD - 나눗셈에서 나머지 정수값 • LOG - 자연로그</p>
<p>예) x=SQRT(y1)+2*EXP(y2)*LOG(y3)/(ABS(y4) ;</p>
<p><span class="math inline">\(x=\sqrt{y_1}+2\times e^{y_2}\times log{y_3}/|y_4|\)</span>라는 식을 SAS 수식으로 표기한 것이다.<br />
즉 변수 에는 변수의 제곱근에 변수의 지수값에 2를 곱하고 변수에 자연로그를 취하여 곱한 후에 변수에 절대값을 취하여 나눈 값으로 형성된다.</p>
<p><br></p>
</div>
<div id="if문의-형식" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> IF문의 형식</h2>
<pre><code>&lt;SAS PROGRAM&gt;

DATA bonus;
     SET travel;
     IF vendor=&#39;Hispania&#39; THEN bonuspts=&#39;For 10+ people&#39;;
     ELSE IF vendor=&#39;Mundial&#39; THEN bonuspts=&#39;Yes&#39;;
RUN;
PROC PRINT DATA=bonus;
   VAR country vendor bonuspts;
   TITLE &#39;The SAS System Creates a VARiable for All Observations&#39;;
RUN;</code></pre>
<p>▶ IF~THEN문, ELSE IF ~ THEN문이 사용되는 목적<br />
1) 어떤 조건식에 맞는 경우 새로운 변수를 만들 경우<br />
2) 기존의 값을 변화시키고자 하는 경우</p>
<p>▶ Bonus DATASET<br />
- travel DATASET의 모든 변수와 관찰값을 이용하여 vendor 변수의 특정값을 갖는 관찰값에 대해 새로운 변수 bonuspts에 특정값을 지정한다.<br />
ex) vendor 변수의 값 : ‘Hispanis’이면 bonuspts변수에 ‘For 10+people’<br />
vendor 변수의 값 : ‘Mundial’이면 bonuspts변수에는 ‘Yes’<br />
vendor 변수의 값 : ’Hispanis’과 ’Mundial’이 아닌 나머지에 대해서는 bonuspts 변수의 값은 MISSING이 됨</p>
<p>▶ IF문의 형식은 IF 조건식 THEN 실행문 ; 으로 구성되며 조건식이 참이 되면 실행문을 수행한다. IF문이 같은 변수에 대해 연속적으로 사용될 때 ELSE IF 문을 사용하면 편리하다.</p>
<p>※ IF문에서 사용되는 조건식<br />
= 같다<br />
^= 같지 않다<br />
&gt;= 크거나 같다<br />
&lt;= 작거나 같다<br />
&lt; 작다<br />
&gt; 크다<br />
AND 또는 &amp; 논리곱<br />
OR 또는 | 논리합<br />
NOT 아니다</p>
<pre><code>&lt;OUTPUT&gt;

     The SAS System Creates a VARiable for All Observations        

          Obs    country    vendor      bonuspts

           1     France     Major
           2     Spain      Hispania    For 10+ people
           3     India      Royal
           4     Peru       Mundial     Yes</code></pre>
<p>▶ vendor 변수의 값 : ‘Hispanis’인 2번째 관찰값의 경우 bonuspts변수는 ‘For 10+people’<br />
vendor 변수의 값 : ‘Mundial’인 4번째 관찰값의 경우 bonuspts변수에 ‘Yes,’ 그 외의 것인 1, 3번째 관찰값의 경우에는 vendor변수의 값이 아무런 작업을 행하지 않았으므로 결측값을 가지는 것을 볼 수 있다.</p>
<p>※ IF문의 형식</p>
<p>• IF문은 어떤 조건식에 맞는 경우 새로운 변수를 만들거나 기존의 값을 변화시키고자 하는 경우에 사용된다.</p>
<p>① IF 조건식 ; 조건식에 맞는 것(참인 것)만 취한다.</p>
<p>② IF 조건식 THEN 실행문 ; 조건식에 맞는 것만 실행문을 행한다.</p>
<p>③ IF 조건식1 THEN 실행문1 ;<br />
ELSE IF 조건식2 THEN 실행문2 ;<br />
⟹ 조건식1에 맞으면 실행문1을 행하고, 틀리면 조건식2가 조건에 맞는지를 보고 실행문2를 실행한다. 조건식1과 2가 전부 거짓이 되는 관찰값은 아무 실행문도 행하지 않게 된다.</p>
<p>④ IF 조건식1 THEN 실행문1 ;<br />
ELSE IF　조건식2 THEN 실행문2 ;<br />
ELSE 실행문3 ;<br />
⟹ 조건식 1과 2의 경우에 대해 참인 것은 ③의 경우와 같으며, 조건식1과 2에 대해 모두 거짓이면 실행문3을 행한다.</p>
<p><br></p>
</div>
<div id="변수의-값-바꾸기" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> 변수의 값 바꾸기</h2>
<pre><code>&lt;SAS PROGRAM&gt;

DATA newair2;
     SET travel;
     aircost=aircost+10;
RUN;
PROC PRINT DATA=newair2;               
   VAR country aircost;
   TITLE &#39;Changeing the InFORMATion in a VARiable&#39;;
RUN;</code></pre>
<p>▶ SAS DATASET에 존재하는 변수들의 값을 변화시킨다.<br />
1) 기존에 존재하는 변수 = 원하는 형태의 식<br />
2) 위에서 Newair2 DATASET : travel DATA의 변수를 이용하면서 aircost변수의 값들에 일정값을 더하여 만든다.<br />
aircost=aircost+10 : travel DATASET에서 aircost의 값이 20이라면 newair DATASET의 aircost 값은 30이 된다.<br />
3) 관찰값 중 결측값이 있는 경우에는 특정값을 더하여도 결측값으로 존재한다.<br />
ex) travel DATASET에서 aircost변수의 3번째 관찰값이 결측값이면 newair2 DATASET의 aircost변수의 값 또한 결측값이 된다.<br />
4) 결측값이 안되기 위해서는 SAS에서 제공되는 함수를 이용한다.<br />
- aircost=SUM(aircost, 10);이라고 하면 원래 aircost값이 결측값인 경우 계산 후 aircost 변수값은 10이 된다.</p>
<pre><code>&lt;OUTPUT&gt;

          Changeing the InFORMATion in a VARiable                

                   Obs    country    aircost

                    1     France       803
                    2     Spain        815
                    3     India          .
                    4     Peru         732</code></pre>
<p>▶ travel DATASET : aircost 793, 805, ., 722<br />
→
newair2 DATASET : aircost 803, 815, ., 732</p>
<p>※ 변수의 값 바꾸기</p>
<p>• 이미 존재하는 변수의 값을 변환시킬 수 있다. 이것은 새로운 변수를 생성하는 방법과 수식을 사용하는 방법은 같으나 왼쪽에 기존에 존재하는 변수명이 온다는 것만 다르다</p>
<p>• 변수의 값을 적당한 수식을 이용하여 변경할 경우, 관찰값중 결측값이 있는 경우에 변경된 값 역시 결측값이다.</p>
<pre><code>  기존의 변수명 = 수식 ;  </code></pre>
<p><br></p>
</div>
<div id="변수의-관찰값-길이-정하기" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> 변수의 관찰값 길이 정하기</h2>
<pre><code>&lt;SAS PROGRAM&gt;

DATA newstmt;
     SET travel;
     LENGTH remarks $ 30;
     IF vendor=&#39;Hispania&#39; THEN remarks=&#39;Bonus for 10+ people&#39;;
     ELSE IF vendor=&#39;Mundial&#39; THEN remarks=&#39;Bonus points&#39;;
     ELSE IF vendor=&#39;Major&#39; THEN remarks=&#39;Discount: 30+ people&#39;;
RUN;

PROC PRINT DATA=newstmt;              
   VAR country vendor remarks;
   TITLE &#39;Using a LENGTH Statement&#39;;
RUN;</code></pre>
<p>▶ IF ~ ELSE IF 문을 이용하여 문자값을 가지는 새로운 변수를 생성하는 프로그램<br />
- vendor 값 ‘Hispania’ : remarks 변수 값 ‘Bonus for 10+ people’<br />
‘Mundial’ ‘Bonus points’<br />
‘Majors’ ‘Discount: 30+ people’<br />
- 그 외의 경우 remarks변수의 값은 결측값을 가진다.<br />
- ELSE IF 대신에 IF를 써도 무방하나 ELSE IF를 사용하는 것이 비교하는 횟수를 줄이므로 프로그램이 실행되는데 효율적이다.</p>
<p>▶ LENGTH 다음에 해당변수와 자릿수를 지정하면 그 변수의 관찰값은 자릿수만큼만 나오고 그 이상일 경우 뒷부분이 삭제된다.</p>
<pre><code>&lt;OUTPUT&gt;

               Using a LENGTH Statement                       

       Obs    country    vendor      remarks

        1     France     Major       Discount: 30+ people
        2     Spain      Hispania    Bonus for 10+ people
        3     India      Royal
        4     Peru       Mundial     Bonus points</code></pre>
<p>▶ remarks변수의 관찰값의 길이를 지정한 것이다. remarks변수의 관찰값 중 30자가 넘는 관찰값이 존재하였다면 출력결과가 다르지만 위의 경우에는 30자 안쪽이므로 같은 출력결과를 가지게 된다.</p>
<p>※ 변수의 관찰값 길이 정하기</p>
<p>• 문자변수의 경우에 관찰값의 길이는 LENGTH문을 이용하여 원하는 길이로 지정할 수 있다.</p>
<p>• 지정된 자릿수보다 관찰값의 길이가 작을 경우는 관찰값이 그대로 나타나지만 관찰값의 길이가 더 길 경우에 오른쪽이 절단되어 나타난다.</p>
<pre><code> LENGTH 문자변수명 $ 자릿수 ;  </code></pre>
<p><br></p>
</div>
<div id="특정-관찰값들을-삭제하기-if-delete문" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> 특정 관찰값들을 삭제하기 (IF, DELETE문)</h2>
<pre><code>&lt;SAS PROGRAM&gt;

DATA subset;
     SET travel;
     IF country=&#39;Peru&#39; THEN delete;
RUN;
PROC PRINT DATA=subset;                   
      TITLE &#39;Omitting a Discontinued Tour&#39;;
RUN;</code></pre>
<p>▶ IF문과 DELETE를 이용하여 특정 관찰값에 해당되는 행들을 삭제한다.<br />
ex) Subset DATASET : travel DATASET의 변수는 그대로 가지면서 관찰값들 중country변수의 값 중 ‘Peru’를 가지면 그 행은 삭제한다.</p>
<p>▶ 특정 조건에 맞는 관찰값의 행을 삭제할 경우<br />
1) IF문 사용 : IF문 다음에 조건 THEN DELETE ; 조건에 맞는 행은 삭제<br />
조건에 맞는 관찰값들이 있는 경우에 삭제되므로 관찰값들의 개수는 같거나 더 작게 된다.<br />
2) ex) travel DATASET 경우 : 관찰값들의 개수는 4개<br />
subset DATASET 경우 : country변수의 관찰값이 ‘Peru’인 1개가 삭제되면서 3개의 관찰값들만 가짐<br />
문자변수인 경우 :’ ’ 안에 넣어야 함<br />
숫자변수인 경우 : 생략<br />
3) country 변수의 관찰값이 ‘Peru’인 것만 가지고 DATASET을 만들 경우<br />
① IF country = ’Peru’ ;<br />
② IF country ^= ‘Peru’ THEN DELETE ;<br />
③ IF country=‘France’ OR country=‘Spain’ OR country=‘India’ THEN DELETE<br />
← country 변수의 관찰값이 France, Spain, India, Peru만으로 구성된 경우 사용한다. 사용 가능 다른 관찰값이 있는 경우 OR을 이용해서 계속 나열한다.<br />
※ 특정 변수의 특정 값에 해당하는 DATASET을 구성할 경우 ①의 방법이 제일 간편하다.<br />
4) 특정 관찰값들만 취하여 DATASET을 만드는 것은 전체 관찰값들 중 어떤 일부분만 취하여 분석하여야 할 경우 유용하다.</p>
<pre><code>&lt;OUTPUT&gt;

            Omitting a Discontinued Tour                     

  Obs    country    nights    aircost    landcost    vendor

   1     France        8        793         575      Major
   2     Spain        10        805         510      Hispania
   3     India        10          .         489      Royal</code></pre>
<p>▶ country변수의 관찰값중 ‘Peru’를 가지는 관찰값들(행)은 없는 것을 볼 수 있다.<br />
해당변수의 값만 삭제되는 것이 아니라 모든 변수에 해당되는 값들 즉 해당 행이 삭제된 것을 볼 수 있음</p>
<p>※ 특정 관찰값들을 삭제하기 (IF 와 DELETE 사용)</p>
<p>• IF문을 이용하여 특정 조건에 맞는 관찰값의 행을 삭제할 수 있다.</p>
<p>• 조건식을 지정할 경우 해당 관찰값은 ‘ ’ 안에 표시해 주어야 하며 숫자변수인 경우에 ‘ ’ 는 생략해도 상관없다.</p>
<p>• 조건식을 지정하는 경우 AND나 OR을 이용하여 여러 변수에 해당하는 값들을 각각 지정하거나 어느 한 변수에 대해 여러 가지 값을 지정하여 할 수 있다.</p>
<p>• 조건식을 지정할 경우 특정값을 제외하고 모두 삭제할 경우는 NOT을 이용하면 편리하다. 즉 변수명 ^= 관찰값 하면 된다. (마찬가지로 변수명=관찰값)</p>
<p>IF 조건식 THEN DELETE ;<br />
⟹ 조건식에 맞으면 삭제</p>
<p>IF 변수1 = ‘관찰값1’ AND 변수2=‘관찰값2’ THEN DELETE ;<br />
⟹ 변수1의 값이 ‘관찰값1’이고 변수2의 값이 ‘관찰값2’를 가질 경우 삭제됨</p>
<p>IF 변수1 ^=‘관찰값1’ OR 변수 2 ^=‘관찰값2’ THEN DELETE ;<br />
⟹ 변수1의 값이 ‘관찰값1’이거나 또는 변수2의 값이 ‘관찰값2’인 경우 삭제됨</p>
<p><br></p>
</div>
<div id="수식을-이용한-변수생성" class="section level2" number="5.7">
<h2><span class="header-section-number">5.7</span> 수식을 이용한 변수생성</h2>
<pre><code>&lt;SAS PROGRAM&gt;

DATA tours;
     INPUT country $ 1-11 nights aircost landcost vendor $;
CARDS;
Japan          8 982 1020 Express
Greece       12   .   748  Express
New Zealand 16 1368 1539 Southsea
Ireland        7 787 628 Express
Venezuella    9 426 505 Mundial
Italy          8 852 598 Express
USSR        14 1106 1024 A-B-C
Switzerland   9 816 834 Tour2000
Australia     12 1299 1169 Southsea
Brazil         8 682 610 Almeida

PROC PRINT DATA=tours;
    TITLE &#39;DATA SET Tours&#39;;
RUN;</code></pre>
<p>▶ Tours DATASET에서 주의사항 : country 변수의 관찰값이 빈 공백을 포함하고 있으므로 시작칼럼과 끝칼럼을 지정해야 한다.</p>
<pre><code>&lt;SAS PROGRAM&gt;

DATA newtour;
    SET tours;
    totcost=aircost+landcost;
    peakair=(aircost*1.10)+8;
    nitecost=landcost/nights;

PROC PRINT DATA=newtour;                            
   VAR country nights aircost landcost totcost peakair nitecost;
   TITLE &#39;New VARiables Containing Calculated Values&#39;;
RUN;</code></pre>
<p>▶ Newtour DATASET - tours DATASET을 참조하여 totcost, peakair, nitecost변수가 새로 포함되었으며 이때, 기존 변수를 변화시켜 만든다.<br />
ex) peakair : aircost 변수에 1.10을 곱한 후에 8을 더하여 생성하는데 순서가 곱하기 먼저 이므로 괄호가 없어도 연산결과는 같다</p>
<pre><code>&lt;OUTPUT&gt;

                        DATA SET Tours                            

Obs    country        nights    aircost    landcost    vendor

  1    Japan             8         982       1020      Express
  2    Greece           12           .        748      Express
  3    New Zealand      16        1368       1539      Southsea
  4    Ireland           7         787        628      Express
  5    Venezuella        9         426        505      Mundial
  6    Italy             8         852        598      Express
  7    USSR             14        1106       1024      A-B-C
  8    Switzerland       9         816        834      Tour2000
  9    Australia        12        1299       1169      Southsea
 10    Brazil            8         682        610      Almeida</code></pre>
<p><br></p>
<pre><code>               New VARiables Containing Calculated Values

Obs  country      nights  aircost  landcost  totcost  peakair  nitecost

  1  Japan           8       982     1020      2002    1088.2   127.500
  2  Greece         12         .      748         .        .     62.333
  3  New Zealand    16      1368     1539      2907    1512.8    96.188
  4  Ireland         7       787      628      1415     873.7    89.714
  5  Venezuella      9       426      505       931     476.6    56.111
  6  Italy           8       852      598      1450     945.2    74.750
  7  USSR           14      1106     1024      2130    1224.6    73.143
  8  Switzerland     9       816      834      1650     905.6    92.667
  9  Australia      12      1299     1169      2468    1436.9    97.417
 10  Brazil          8       682      610      1292     758.2    76.250</code></pre>
<p>▶ 2번째 행의 경우 aircost변수의 값이 결측값이므로 생성된 totcost와 peakair변수의 값 역시 결측값이다.</p>
<p><br></p>
</div>
<div id="round-sum-함수를-이용한-새로운-변수의-생성" class="section level2" number="5.8">
<h2><span class="header-section-number">5.8</span> ROUND, SUM 함수를 이용한 새로운 변수의 생성</h2>
<pre><code>&lt;SAS PROGRAM&gt;

DATA moretour;
    SET tours;
    roundair=ROUND(aircost, 50);
    totcostr=ROUND(aircost+landcost, 100);
    sumcost=SUM(aircost, landcost);
    roundsum=ROUND(SUM(aircost, landcost), 100);

PROC PRINT DATA=moretour;                     
    VAR country aircost landcost roundair totcostr sumcost roundsum;
RUN;</code></pre>
<p>▶ SAS 내장함수를 이용하여 새로운 변수를 생성하는 방법<br />
1) moretour DATASET<br />
- DATASET의 변수들과 새로이 생성된 roundair, totcostr, sumcost, roundsum 변수로 구성된다.<br />
- 변수를 새로이 생성할 때 반올림에 이용되는 ROUND함수와 합계를 구하는 SUM함수를 이용한다.<br />
2) ROUND함수<br />
- ROUND(변수, 반올림 숫자)의 형식으로 사용<br />
① (반올림숫자 ± 반올림숫자/2) : 사이에 있으면 반올림 숫자<br />
② (반올림숫자 - 반올림숫자/2) : 작은 경우 버림<br />
③ (반올림숫자 + 반올림숫자/2) : 크면 반올림<br />
- roundair=ROUND(aircost, 50)<br />
① aircost변수의 값중 마지막 두 자리의 수가 25에서 75 사이인 경우 :<br />
roundair변수의 값의 마지막 두 자리는 50의 값을 가지게 됨<br />
② aircost변수의 값중 마지막 두 자리가 25미만일 경우 : 00<br />
③ aircost변수의 값중 마지막 두 자리가 75이상일 경우 : 100<br />
- Ex)<br />
① aircost변수의 관찰값 235 : roundair변수의 관찰값 250<br />
② aircost변수의 관찰값 389 : roundair변수의 관찰값 400<br />
3) SUM함수<br />
- ( )안에 사용된 변수들의 관찰값별로 합을 구하는 내장함수<br />
- Sumcost 변수<br />
① SUM(aircost, landcost)라고 하여 aircost와 lndcost변수의 합으로 만들어짐<br />
② sumcost=aircost+landcost ; 두 변수의 합으로 sumcost라는 새로운 변수가 생성되나 두 변수들의 관찰값 중 결측값이 존재한다면 sumcost변수의 값은 서로 다른 값을 가짐<br />
- SUM함수를 사용할 경우 주의사항<br />
결측값이 어느 한 변수에 존재할 경우에도 나머지 변수의 관찰값들에 의해 합이 구해지지만, 사칙연산을 사용한 수식에서는 해당 변수에 결측값이 1개라도 존재하면 구해진 관찰값은 결측값으로 인식</p>
<pre><code>&lt;OUTPUT&gt;

    New VARiables Containing Calculated Values              

Obs country     aircost landcost roundair totcostr sumcost roundsum

  1 Japan          982    1020     1000     2000     2002    2000
  2 Greece           .     748        .        .      748     700
  3 New Zealand   1368    1539     1350     2900     2907    2900
  4 Ireland        787     628      800     1400     1415    1400
  5 Venezuella     426     505      450      900      931     900
  6 Italy          852     598      850     1500     1450    1500
  7 USSR          1106    1024     1100     2100     2130    2100
  8 Switzerland    816     834      800     1700     1650    1700
  9 Australia     1299    1169     1300     2500     2468    2500
 10 Brazil         682     610      700     1300     1292    1300</code></pre>
<ol style="list-style-type: decimal">
<li>roundair 변수의 경우 aircost의 마지막 두 자리의 값이 25-74이면 50, 00-24이면 00, 75-99이면 100이다.<br />
</li>
<li>totcostr변수와 roundair변수를 비교<br />
</li>
</ol>
<ul>
<li>반올림 숫자가 100이므로 50미만이면 00 50이상이면 100이다.<br />
</li>
<li>두 변수의 연산을 +를 이용한 경우 2번째 관찰값은 결측값을 가지지만 SUM함수를 이용하여 구한 것은 나머지 관찰값들의 합인 것을 볼 수 있다.<br />
</li>
<li>결측값이 없는 2번째 관찰값들을 제외한 나머지 관찰값들은 살펴보면 totcostr변수의 값과 roundsum변수의 값이 동일하지만 2번째 관찰값의 경우 + 를 사용한 totcostr변수의 값은 . 이지만 roundsum변수의 값은 748을 round시켜 나머지 두 자리가 50미만이므로 700의 값을 가지는 것을 볼 수 있다</li>
</ul>
<p>※ ROUND, SUM함수를 이용한 새로운 변수의 생성</p>
<p>• SAS 내장함수를 이용하여 새로운 변수를 생성할 수 있다.</p>
<pre><code>새로운 변수 = ROUND(변수, 반올림 숫자);
  ⟹ (반올림숫자 ± 반올림숫자/2)의 값에 따라 버리거나 반올림한다.

새로운 변수 = SUM (변수 변수 …) ; 
  ⟹ ()안의 변수들의 합을 행별로 구한다. 
  </code></pre>
<ul>
<li>참고<br />
</li>
</ul>
<ol style="list-style-type: decimal">
<li>수학 계산 관련 함수</li>
</ol>
<table>
<thead>
<tr class="header">
<th align="center">함수 형태</th>
<th align="center">내용</th>
<th align="center">예제</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">COS(argument)</td>
<td align="center">COS값을 계산</td>
<td align="center">V=cos(3.14159/3)</td>
</tr>
<tr class="even">
<td align="center">SIN(argument)</td>
<td align="center">SIN값을 계산</td>
<td align="center">V=sin(3*3.14159)</td>
</tr>
<tr class="odd">
<td align="center">TAN(argument)</td>
<td align="center">TAN값을 계산</td>
<td align="center">V=tan(2)</td>
</tr>
<tr class="even">
<td align="center">EXP(변수명)</td>
<td align="center">지수함수로 지수값을 계산</td>
<td align="center">V=exp(3.2)</td>
</tr>
<tr class="odd">
<td align="center">SQRT(변수명)</td>
<td align="center">제곱근 값을 계산 <br> 제곱은 *<em>2 세제곱은 *</em>3</td>
<td align="center">V=sqrt(3.2) <br> V=3**2 V=3**3</td>
</tr>
<tr class="even">
<td align="center">LOG(변수명)</td>
<td align="center">자연로그(natural log)값을 계산</td>
<td align="center">V=log(3.2)</td>
</tr>
<tr class="odd">
<td align="center">LOGN(변수명)</td>
<td align="center">로그의 밑이 n인 로그값을 계산 <br> N=10이면 상용로그값</td>
<td align="center">V=log10(3.2)</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li>통계 계산 관련 함수</li>
</ol>
<table>
<thead>
<tr class="header">
<th align="center">함수형태</th>
<th align="center">내용</th>
<th align="center">예제</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">FACT(n)</td>
<td align="center">Factorial 값을 계산 <br> <span class="math inline">\(n!\)</span></td>
<td align="center">V=fact(6)</td>
</tr>
<tr class="even">
<td align="center">COMB(n,r)</td>
<td align="center">Combination 값을 계산 <br> <span class="math inline">\(_nC_r=\frac{n!}{r!(n-r)!}\)</span></td>
<td align="center">V=comb(5,2)</td>
</tr>
<tr class="odd">
<td align="center">PERM(n,r)</td>
<td align="center">Permutation 값을 계산 <br> <span class="math inline">\(_nP_r=\frac{n!}{(n-rP!}\)</span></td>
<td align="center">V=perm(5,2)</td>
</tr>
<tr class="even">
<td align="center">MAX(argument)</td>
<td align="center">변수 관측치 최대값을 구함</td>
<td align="center">V=max(x,y,z)</td>
</tr>
<tr class="odd">
<td align="center">MIN(argument)</td>
<td align="center">변수 관측치 최소값을 구함</td>
<td align="center">V=min(x,y,z)</td>
</tr>
<tr class="even">
<td align="center">N(argument)</td>
<td align="center">변수 관측치 개수(결측치 제외)을 구함</td>
<td align="center">V=n(x,y,z)</td>
</tr>
<tr class="odd">
<td align="center">SUM(argument)</td>
<td align="center">변수 관측치 합을 구함</td>
<td align="center">V=sum(x,y,z)</td>
</tr>
<tr class="even">
<td align="center">MEAN(argument)</td>
<td align="center">변수 관측치 평균을 구함</td>
<td align="center">V=mean(x,y,z)</td>
</tr>
<tr class="odd">
<td align="center">RANGE(argument)</td>
<td align="center">변수 관측치 범위를 구함</td>
<td align="center">V=range(x,y,z)</td>
</tr>
<tr class="even">
<td align="center">STD(argument)</td>
<td align="center">변수 관측치 표준편차를 구함</td>
<td align="center">V=std(x,y,z)</td>
</tr>
<tr class="odd">
<td align="center">STDERR(argument)</td>
<td align="center">변수 관측치 표준오차를 구함</td>
<td align="center">V=stderr(x,y,z)</td>
</tr>
<tr class="even">
<td align="center">VAR(argument)</td>
<td align="center">변수 관측치 분산을 구함</td>
<td align="center">V=var(x,y,z)</td>
</tr>
</tbody>
</table>
<p>추가적인 사항은 APPENDIX 참조</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter4.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter6.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["SAS manual.pdf", "SAS manual.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
